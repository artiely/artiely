<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux 服务器 | Artiely' blog</title>
    <meta name="description" content="随便玩玩">
    <link rel="stylesheet" href="/vitepress-blog/assets/style.a7d0faf2.css">
    <link rel="modulepreload" href="/vitepress-blog/assets/Home.551898b1.js">
    <link rel="modulepreload" href="/vitepress-blog/assets/lottie.42100ed3.js">
    <link rel="modulepreload" href="/vitepress-blog/assets/lightgallery.es5.f43f3494.js">
    <link rel="modulepreload" href="/vitepress-blog/assets/TextPlugin.8595634c.js">
    <link rel="modulepreload" href="/vitepress-blog/assets/app.746f22cf.js">
    <link rel="modulepreload" href="/vitepress-blog/assets/post_2019_2019-6-1-linux.md.d4d0e779.lean.js">
    <link rel="modulepreload" href="/vitepress-blog/assets/app.746f22cf.js">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_2707633_ayah6j2r7wi.css">
    <script type="text/javascript" src="/js/twikoo.js"></script>
    <meta name="twitter:title" content="Linux 服务器 | Artiely&#39; blog">
    <meta property="og:title" content="Linux 服务器 | Artiely&#39; blog">
  </head>
  <body>
    <div id="app"><!--[--><!----><!----><div class="content dark" style="height:100%;"><div style="position:relative;"><div><h1 id="linux-服务器"><a class="header-anchor" href="#linux-服务器" aria-hidden="true">#</a> Linux 服务器</h1><p><strong>Linux是操作系统：</strong></p><p>Linux作为<a href="https://zh.wikipedia.org/wiki/%E8%87%AA%E7%94%B1%E8%BD%AF%E4%BB%B6" target="_blank" rel="noopener noreferrer">自由软件</a>和<a href="https://zh.wikipedia.org/wiki/%E5%BC%80%E6%94%BE%E6%BA%90%E4%BB%A3%E7%A0%81%E8%BD%AF%E4%BB%B6" target="_blank" rel="noopener noreferrer">开放源代码软件</a>发展中最著名的例子，背靠社区与商业化的使用，使其得到了广泛的应用与发展。</p><p><strong>Linux无处不在：</strong></p><p>世界上500个最快的超级计算机90％以上运行Linux发行版或变种，包括最快的前10名超级计算机运行的都是基于Linux内核的操作系统。Linux也广泛应用在嵌入式系统上，如手机（Mobile Phone）、平板电脑（Tablet）、路由器（Router）、电视（TV）和电子游戏机等。在移动设备上广泛使用的Android操作系统就是创建在Linux内核之上。</p><p><strong>主要目标：</strong></p><ul><li>了解Linux操作系统(版本、目录、安装等)</li><li>学会使用Linux常见的命令</li><li>搭建Nginx服务，给你的Web小站一个运行环境吧~~</li><li>介绍HTTP(s)及免费申请SSL证书</li><li>云服务器阿里云、华为云（介绍）、云数据库RDS介绍</li><li>什么是负载均衡？负载均衡有什么用？阿里云SLB介绍</li></ul><p><strong>前置准备【下面的方式任选其一】：</strong></p><ul><li>使用虚拟化软件(本地安装)</li><li>购买云服务器</li></ul><p>版本准备：linux操作系统(Centos 7.6)</p><p>可选：准备一个域名</p><h2 id="linux简介"><a class="header-anchor" href="#linux简介" aria-hidden="true">#</a> Linux简介</h2><h3 id="版本介绍"><a class="header-anchor" href="#版本介绍" aria-hidden="true">#</a> 版本介绍</h3><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145657.png" alt="Linux简版介绍"></p><p>Fedora是基于RHEL，CentOS，Scientific Linux, 和Oracle Linux的社区版本。相比RHEL，Fedora打包了显著的更多的软件包。其中一个原因是，多样化的社区参与Fedora的建设，它不只是一家公司。在这个过程中，CentOS用于活动，演示和实验，因为它是对最终用户免费提供的，并具有比Fedora的一个更长的发布周期(通常每隔半年左右发布一个新版本)。</p><p>Debian是包括Ubuntu在内许多发行版的上游，而Ubuntu又是Linux Mint及其他发行版的上游。Debian在服务器和桌面电脑领域都有着广泛的应用。Debian是一个纯开源计划并着重在一个关键点上，稳定性。它同时也提供了最大的和完整的软件仓库给用户。</p><p>Linux的发行版本可以大体分为两类，一类是商业公司维护的发行版本，如：著名的Redhat(RHEL)，一类是社区组织维护的发行版本，如：Debian。下面介绍一下各个发行版本的特点：</p><h4 id="centosredhat"><a class="header-anchor" href="#centosredhat" aria-hidden="true">#</a> Centos(Redhat)</h4><p>Redhat，应该称为Redhat系列，包括RHEL(Redhat Enterprise Linux，也就是所谓的Redhat Advance Server，收费版本)、Fedora Core(由原来的Redhat桌面版本发展而来，免费版本)、CentOS(RHEL的社区克隆版本，免费)。</p><p>包管理方式：采用的是基于<code>rpm</code>包的<code>yum</code>包管理方式。</p><h4 id="debian"><a class="header-anchor" href="#debian" aria-hidden="true">#</a> Debian</h4><p>Debian是社区类Linux的典范，是迄今为止最遵循GNU规范 的Linux系统。Debian最早由Ian Murdock于1993年创建，分为三个版本分支(branch)： <code>stable</code>, <code>testing</code> 和 <code>unstable</code>。其中，<code>unstable</code>为最新的测试版本，其中包括最新的软件包，但是也有相对较多的bug，适合桌面用户。<code>testing</code>的版本都经 过<code>unstable</code>中的测试，相对较为稳定，也支持了不少新技术(比如SMP等)。而<code>stable</code>一般只用于服务器，上面的软件包大部分都比较过时，但是稳定和安全性都非常的高。</p><p>包管理方式：采用的是基于是<code>apt-get</code>、<code>dpkg</code>包管理方式。</p><h4 id="ubuntu"><a class="header-anchor" href="#ubuntu" aria-hidden="true">#</a> Ubuntu</h4><p>Ubuntu严格来说不能算一个独立的发行版本，Ubuntu是基于Debian的<code>unstable</code>版本加强而来，可以这么说，Ubuntu就是 一个拥有Debian所有的优点，以及自己所加强的优点的近乎完美的 Linux桌面系统。根据选择的桌面系统不同，有三个版本可供选择，基于<code>Gnome</code>的Ubuntu，基于<code>KDE</code>的Kubuntu以及基于<code>Xfc</code>的 Xubuntu。特点是界面非常友好，容易上手，对硬件的支持非常全面，是最适合做桌面系统的Linux发行版本。</p><p>包管理方式：采用的是基于是<code>apt-get</code>、<code>dpkg</code>包管理方式。</p><p>总结对比一下：</p><table><thead><tr><th>分类</th><th>Centos</th><th>Debian</th><th>Ubuntu</th></tr></thead><tbody><tr><td>包管理</td><td>yum</td><td>apt-get</td><td>apt-get</td></tr><tr><td>桌面应用</td><td>支持</td><td>需要另装</td><td>支持</td></tr><tr><td>系统资源占用</td><td>小</td><td>非常小</td><td>大</td></tr><tr><td>资料</td><td>最多</td><td>依赖社区</td><td>多</td></tr><tr><td>更新频次</td><td>长达10年</td><td>1-2年</td><td>3-5年</td></tr><tr><td>软件资源</td><td>较新</td><td>最新</td><td>新</td></tr><tr><td>漏洞更新</td><td>慢</td><td>依赖社区</td><td>依赖社区</td></tr><tr><td>默认安装</td><td>非常全</td><td>无</td><td>非常全</td></tr><tr><td>稳定性</td><td>较稳定</td><td>稳定</td><td>相对稳定</td></tr><tr><td>系统操作要求</td><td>较高</td><td>高</td><td>低</td></tr><tr><td>维护要求</td><td>低</td><td>高</td><td>较高</td></tr><tr><td>易用性</td><td>一般</td><td>差</td><td>较好</td></tr><tr><td>定制化</td><td>一般</td><td>高</td><td>差</td></tr></tbody></table><p>CentOS是RHEL发行版对应的开源版本，通常在RedHat的发布后就会很快发行。它既稳定，占用资源又少，在网络上能方便搜索到安装配置的文档，自身的帮助文档也非常强大。所以，新人学习推荐：<strong>Centos</strong></p><blockquote><p>本操作与演示，将会使用Centos 7.6 64-bit版本进行演示</p></blockquote><p>参考资料：<a href="https://upload.wikimedia.org/wikipedia/commons/1/1b/Linux_Distribution_Timeline.svg" target="_blank" rel="noopener noreferrer">Linux发行版及年份</a></p><h3 id="应用场景"><a class="header-anchor" href="#应用场景" aria-hidden="true">#</a> 应用场景</h3><h4 id="linux-vs-windows"><a class="header-anchor" href="#linux-vs-windows" aria-hidden="true">#</a> Linux vs Windows</h4><p>下面我们Linux与Windows作一个对比：</p><p>这里Linux是免费的版本，如Centos, Ubuntu，而Windows则是Windows10/8/7</p><table><thead><tr><th>分类</th><th>Linux</th><th>Windows</th></tr></thead><tbody><tr><td>费用</td><td>免费</td><td>付费</td></tr><tr><td>软件支持</td><td>社区，免费</td><td>官方支持，收费</td></tr><tr><td>安全性</td><td>很安全</td><td>各种漏洞</td></tr><tr><td>使用习惯</td><td>命令行与界面操作，需要学习</td><td>图形界面操作，简单</td></tr><tr><td>可定制性</td><td>高</td><td>低</td></tr><tr><td>应用范畴</td><td>服务器</td><td>工作、娱乐</td></tr><tr><td>更新</td><td>依赖社区</td><td>官方更新</td></tr><tr><td>系统内核</td><td>透明</td><td>封闭</td></tr></tbody></table><p>Linux的优势：</p><ul><li><strong>稳定的系统</strong></li><li>安全性和漏洞的快速修补</li><li>多用户</li><li>用户和用户组的规划</li><li><strong>相对较少的系统资源占用</strong></li><li>可定制裁剪，移植到嵌入式平台（如安卓设备）</li><li>可选择的多种图形用户界面（如 GNOME，KDE）</li></ul><p>Windows的优势：</p><ul><li>特定的支持厂商</li><li><strong>足够的游戏娱乐支持度</strong></li><li>足够的专业软件支持度</li></ul><h4 id="linux的gui界面"><a class="header-anchor" href="#linux的gui界面" aria-hidden="true">#</a> Linux的GUI界面</h4><p>这里我们选择几款比较有代表性的桌面进行简单的介绍：</p><ol><li><p>GNOME<a href="https://www.gnome.org/" target="_blank" rel="noopener noreferrer">[官方地址]</a></p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145658.png" alt="image-20190602081017634"></p><blockquote><p>centos6.x 上默认是gnome2，7.x默认gnome3</p></blockquote><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145659.jpg" alt="img"></p><p>上图为：GNOME3</p></li><li><p>KDE <a href="https://kde.org/" target="_blank" rel="noopener noreferrer">[官方地址]</a></p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145700.jpg" alt="Plasma 5.12"></p><p>上图为：Plasma 5.12 LTS</p></li><li><p>Unity</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145701.png" alt="preview"></p><p><strong>Unity</strong>是<a href="https://zh.wikipedia.org/wiki/Canonical%E5%85%AC%E5%8F%B8" target="_blank" rel="noopener noreferrer">Canonical公司</a>为<a href="https://zh.wikipedia.org/wiki/GNOME" target="_blank" rel="noopener noreferrer">GNOME</a><a href="https://zh.wikipedia.org/wiki/%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83" target="_blank" rel="noopener noreferrer">桌面环境</a>所开发的<a href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2" target="_blank" rel="noopener noreferrer">图形用户界面</a>，用于<a href="https://zh.wikipedia.org/wiki/Ubuntu" target="_blank" rel="noopener noreferrer">Ubuntu</a><a href="https://zh.wikipedia.org/wiki/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener noreferrer">操作系统</a>。</p><blockquote><p>直到Ubuntu16.04LTS，使用的都是Unity，从 Ubuntu 18.04 LTS 开始，默认的 Ubuntu 桌面将重归 GNOME。人事调整，与钱的问题….有兴趣可以看<a href="https://insights.ubuntu.com/2017/04/05/growing-ubuntu-for-cloud-and-iot-rather-than-phone-and-convergence/" target="_blank" rel="noopener noreferrer">这里</a></p></blockquote></li></ol><p>我们来看看<a href="https://trends.google.com/trends/explore?date=today%205-y&amp;q=GNOME,KDE,%2Fm%2F0dsbk0n" target="_blank" rel="noopener noreferrer">Google Trends</a></p><p>参考资料：</p><p><a href="http://www.ubuntu.org.cn/download" target="_blank" rel="noopener noreferrer">Ubuntu官方下载地址：获取 Ubuntu</a></p><p><a href="https://blog.csdn.net/zyqblog/article/details/80152016" target="_blank" rel="noopener noreferrer">Ubuntu18.04（Gnome桌面）主题美化</a></p><p><a href="https://blog.csdn.net/ice__snow/article/details/80152068" target="_blank" rel="noopener noreferrer">Ubuntu 18.04配置及美化</a></p><p><a href="https://heliu.io/2018/12/22/Ubuntu18.04%E5%AE%8C%E7%BE%8E%E9%85%8D%E7%BD%AE/#%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88" target="_blank" rel="noopener noreferrer">Ubuntu18.04完美配置优化美化</a></p><h4 id="常见软件应用"><a class="header-anchor" href="#常见软件应用" aria-hidden="true">#</a> 常见软件应用</h4><ul><li>数据库：MySQL、Oracle、 MongoDB、Redis</li><li>web服务器：<code>Nginx</code>、Apache</li><li>浏览器：Chromium(Chrome)、Firefox</li><li>编辑器：Emacs，<code>Vim</code>，Nano，Atom，VScode，IntelliJ IDEA&amp;Webstorm</li><li>文档：WPS Office、LibreOffice、Calligra(Ubuntu/Debian)</li><li>下载工具：<code>Aria2</code>、uGet(Ubuntu/Debian)、XDM、qBittorrent</li><li>虚拟化：VirtualBox、VMWare、</li><li>系统工具：<code>git</code>、rsync、sudo、unzip、tar</li><li>其他：音乐Netease Music、图片GIMP、聊天Wine QQ、播放器VLC</li></ul><h3 id="安装方法"><a class="header-anchor" href="#安装方法" aria-hidden="true">#</a> 安装方法</h3><h4 id="centos安装方法"><a class="header-anchor" href="#centos安装方法" aria-hidden="true">#</a> Centos安装方法：</h4><ol><li><p>下载镜像</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145702.png" alt="image-20190602095157756"></p><p>按需选择下载：</p><table><thead><tr><th>类型</th><th>DVD</th><th>Minimal</th></tr></thead><tbody><tr><td>图形安装</td><td>支持</td><td>支持</td></tr><tr><td>自带软件包</td><td>全家桶，可选择</td><td>无</td></tr><tr><td>镜像大小</td><td>4G+</td><td>800-900M</td></tr></tbody></table></li><li><p>制作U盘启动盘</p><p>Windows参考：<a href="#Windows%E4%B8%AD%E5%88%B6%E4%BD%9CUSB%E5%90%AF%E5%8A%A8%E7%9B%98">Windows中制作USB启动盘</a></p><p>Mac/Linux参考：<a href="#MacOS%E4%B8%AD%E5%88%B6%E4%BD%9CUSB%E5%90%AF%E5%8A%A8%E7%9B%98">MacOS中制作USB启动盘</a></p></li><li><p>修改BIOS启动顺序，重启</p></li><li><p>安装配置。€</p></li></ol><p>参考资料</p><ol><li><a href="https://wiki.centos.org/zh/HowTos/InstallFromUSBkey" target="_blank" rel="noopener noreferrer">官方U盘安装说明</a></li><li><a href="https://www.centos.org/download/" target="_blank" rel="noopener noreferrer">镜像下载</a></li><li><a href="https://linux.cn/article-8048-1.html" target="_blank" rel="noopener noreferrer">Centos7安装教程</a></li><li><a href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop#0" target="_blank" rel="noopener noreferrer">Ubuntu官方安装教程</a></li></ol><p>常见问题：</p><ol><li><a href="https://blog.jinchuang.org/2062.html" target="_blank" rel="noopener noreferrer">centos7 U盘安装卡在 starting dracut initqueue hook </a></li><li><a href="https://blog.csdn.net/zgrjkflmkyc/article/details/78293504" target="_blank" rel="noopener noreferrer">U盘安装CentOS7遇到：Warning: dracut-initqueue timeout - starting timeout scripts</a></li></ol><h4 id="windows中制作usb启动盘"><a class="header-anchor" href="#windows中制作usb启动盘" aria-hidden="true">#</a> Windows中制作USB启动盘</h4><p>操作步骤：</p><ol><li>格式化U盘(FAT32格式)</li><li>下载ISO镜像</li><li>下载资源文件中的写入程序</li><li>写入镜像(工具见后文)</li></ol><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145703.jpeg" alt="1559440057311"></p><p>资源下载：</p><p>Centos官网推荐：</p><p><a href="https://sourceforge.net/projects/usbwriter/" target="_blank" rel="noopener noreferrer">USBwriter</a></p><p><a href="https://sourceforge.net/projects/win32diskimager/" target="_blank" rel="noopener noreferrer">Win32 Disk Imager</a></p><p>Ubuntu官网推荐：</p><p><a href="https://rufus.ie/" target="_blank" rel="noopener noreferrer">rufus</a></p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145704.png" alt="rufus"></p><h4 id="macos中制作usb启动盘"><a class="header-anchor" href="#macos中制作usb启动盘" aria-hidden="true">#</a> MacOS中制作USB启动盘</h4><ol><li><p>格式化U盘</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145705.png" alt="image-20190602094231784"></p></li><li><p>使用 <code>diskutil list</code> 查看U的设备名</p><div class="language-sh line-numbers-mode"><pre><code>$ diskutil list
/dev/disk0 (internal):
   #:                       TYPE NAME                    SIZE       IDENTIFIER
   0:      GUID_partition_scheme                         500.3 GB   disk0
   1:                        EFI EFI                     314.6 MB   disk0s1
   2:                 Apple_APFS Container disk1         500.0 GB   disk0s2

/dev/disk1 (synthesized):
   #:                       TYPE NAME                    SIZE       IDENTIFIER
   0:      APFS Container Scheme -                      +500.0 GB   disk1
                                 Physical Store disk0s2
   1:                APFS Volume APPLE SSD               342.6 GB   disk1s1
   2:                APFS Volume Preboot                 47.6 MB    disk1s2
   3:                APFS Volume Recovery                509.7 MB   disk1s3
   4:                APFS Volume VM                      4.3 GB     disk1s4

/dev/disk2 (external, physical):
   #:                       TYPE NAME                    SIZE       IDENTIFIER
   0:     FDisk_partition_scheme                        *123.0 GB   disk2
   1:               Windows_NTFS LIWEI                   123.0 GB   disk2s1

</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997391-3097">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="$ diskutil list
/dev/disk0 (internal):
   #:                       TYPE NAME                    SIZE       IDENTIFIER
   0:      GUID_partition_scheme                         500.3 GB   disk0
   1:                        EFI EFI                     314.6 MB   disk0s1
   2:                 Apple_APFS Container disk1         500.0 GB   disk0s2

/dev/disk1 (synthesized):
   #:                       TYPE NAME                    SIZE       IDENTIFIER
   0:      APFS Container Scheme -                      +500.0 GB   disk1
                                 Physical Store disk0s2
   1:                APFS Volume APPLE SSD               342.6 GB   disk1s1
   2:                APFS Volume Preboot                 47.6 MB    disk1s2
   3:                APFS Volume Recovery                509.7 MB   disk1s3
   4:                APFS Volume VM                      4.3 GB     disk1s4

/dev/disk2 (external, physical):
   #:                       TYPE NAME                    SIZE       IDENTIFIER
   0:     FDisk_partition_scheme                        *123.0 GB   disk2
   1:               Windows_NTFS LIWEI                   123.0 GB   disk2s1

" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997391-3097" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>上图中，/dev/disk2就是U盘</p></li><li><p>卸载U盘(不是推出) : <code>diskutil umountDisk /dev/disk2</code> (假如U盘是 /dev/disk2)</p><div class="language-sh line-numbers-mode"><pre><code>$ diskutil umountDisk /dev/disk2
Unmount of all volumes on disk1 was successful
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997391-90728">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="$ diskutil umountDisk /dev/disk2
Unmount of all volumes on disk1 was successful
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997391-90728" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>镜像DMG写入到U盘: <code>sudo dd if=~/Downloads/ubuntu-16.04-desktop-amd64.iso of=/dev/disk2 bs=1m</code> (假如U盘是 /dev/disk1, 千万别搞错了)</p><div class="language-sh line-numbers-mode"><pre><code>$ sudo dd if=~/Downloads/ubuntu-17.04-desktop-amd64.iso of=/dev/disk2 bs=1m
Password:
2151+1 records in
2151+1 records out
2256076800 bytes transferred in 90.277905 secs (24990354 bytes/sec)
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997391-61454">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="$ sudo dd if=~/Downloads/ubuntu-17.04-desktop-amd64.iso of=/dev/disk2 bs=1m
Password:
2151+1 records in
2151+1 records out
2256076800 bytes transferred in 90.277905 secs (24990354 bytes/sec)
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997391-61454" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>写入完成后会提示:“此电脑不能读取能插入的磁盘”, 这里选择直接推出即可</p></li></ol><h3 id="linux目录结构"><a class="header-anchor" href="#linux目录结构" aria-hidden="true">#</a> Linux目录结构</h3><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145706.png" alt="Linux目录结构"></p><table><thead><tr><th>目录</th><th>说明</th><th>备注</th></tr></thead><tbody><tr><td>/bin</td><td>常用二进制命令</td><td>ls, cp, rm, mkdir</td></tr><tr><td>/usr</td><td>系统程序目录</td><td>命令、帮助文件、系统配置</td></tr><tr><td>/var</td><td>这个目录中存放着在不断扩充着的东西</td><td>日志</td></tr><tr><td>/lib</td><td>系统最基本的动态连接共享库</td><td>类似于Windows中的DLL</td></tr><tr><td>/srv</td><td>存放一些服务启动之后需要提取的数据</td><td>通常是空的</td></tr><tr><td>/home</td><td>用户主目录</td><td>通常是空的</td></tr><tr><td>/boot</td><td>Linux内核及系统引导文件目录</td><td></td></tr><tr><td>/dev</td><td>设备文件的目录</td><td>声卡，磁盘，光驱等</td></tr><tr><td>/etc</td><td>二进制软件包配置文件的默认路径</td><td>系统信息，网络配置</td></tr><tr><td>/lost+found</td><td>系统崩溃时，产生的一些碎片文件</td><td></td></tr><tr><td>/mnt</td><td>临时挂载存储设备</td><td>U盘</td></tr><tr><td>/opt</td><td>软件可选的安装目录</td><td>通常是空的</td></tr><tr><td>/proc</td><td>操作系统进程信息目录</td><td></td></tr><tr><td>/sbin</td><td>管理员命令，系统级命令</td><td>sudo用户</td></tr><tr><td>/tmp</td><td>临时文件目录</td><td>重启后，被清空</td></tr><tr><td>/run</td><td>临时文件系统，存储系统启动以来的信息</td><td>重启后，被清空</td></tr><tr><td>/sys</td><td>系统中的设备组织成层次结构</td><td>通过文件查看硬件信息</td></tr></tbody></table><p>需要掌握的目录路径知识：</p><ol><li><p>查看系统内核信息</p><div class="language-bash line-numbers-mode"><pre><code><span class="token comment"># Centos</span>
$ <span class="token function">cat</span> /proc/version
Linux version <span class="token number">3.10</span>.0-957.10.1.el7.x86_64 <span class="token punctuation">(</span>mockbuild@kbuilder.bsys.centos.org<span class="token punctuation">)</span> <span class="token punctuation">(</span>gcc version <span class="token number">4.8</span>.5 <span class="token number">20150623</span> <span class="token punctuation">(</span>Red Hat <span class="token number">4.8</span>.5-36<span class="token punctuation">)</span> <span class="token punctuation">(</span>GCC<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">#1 SMP Mon Mar 18 15:06:45 UTC 2019</span>

<span class="token comment"># Ubuntu</span>
$ <span class="token function">cat</span> /proc/version
Linux version <span class="token number">4.15</span>.7-041507-generic <span class="token punctuation">(</span>kernel@gloin<span class="token punctuation">)</span> <span class="token punctuation">(</span>gcc version <span class="token number">7.2</span>.0 <span class="token punctuation">(</span>Ubuntu <span class="token number">7.2</span>.0-8ubuntu3.2<span class="token punctuation">))</span> <span class="token comment">#201802280530 SMP Wed Feb 28 10:31:47 UTC 2018</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997392-71642">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="# Centos
$ cat /proc/version
Linux version 3.10.0-957.10.1.el7.x86_64 (mockbuild@kbuilder.bsys.centos.org) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-36) (GCC) ) #1 SMP Mon Mar 18 15:06:45 UTC 2019

# Ubuntu
$ cat /proc/version
Linux version 4.15.7-041507-generic (kernel@gloin) (gcc version 7.2.0 (Ubuntu 7.2.0-8ubuntu3.2)) #201802280530 SMP Wed Feb 28 10:31:47 UTC 2018
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997392-71642" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>查看网络信息</p><div class="language-bash line-numbers-mode"><pre><code><span class="token comment"># Centos DHCP</span>
$ <span class="token function">cat</span> /etc/sysconfig/network-scripts/ifcfg-eth0
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>eth0
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>dhcp
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes

<span class="token comment"># 或者指定IP</span>
$ <span class="token function">cat</span> /etc/sysconfig/network-scripts/ifcfg-em1
<span class="token assign-left variable">TYPE</span><span class="token operator">=</span>Ethernet
<span class="token assign-left variable">PROXY_METHOD</span><span class="token operator">=</span>none
<span class="token assign-left variable">BROWSER_ONLY</span><span class="token operator">=</span>no
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>none
<span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span>no
<span class="token assign-left variable">IPV6INIT</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_AUTOCONF</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_DEFROUTE</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_FAILURE_FATAL</span><span class="token operator">=</span>no
<span class="token assign-left variable">IPV6_ADDR_GEN_MODE</span><span class="token operator">=</span>stable-privacy
<span class="token assign-left variable">NAME</span><span class="token operator">=</span>em1
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>fa335568-27db-47fd-a055-424173c42430
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>em1
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">192.168</span>.4.252
<span class="token assign-left variable">PREFIX</span><span class="token operator">=</span><span class="token number">24</span>
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token number">192.168</span>.4.50
<span class="token assign-left variable">DNS1</span><span class="token operator">=</span><span class="token number">192.168</span>.4.50
<span class="token assign-left variable">IPV6_PRIVACY</span><span class="token operator">=</span>no
<span class="token assign-left variable">ZONE</span><span class="token operator">=</span>public

<span class="token comment"># Ubuntu</span>
$ <span class="token function">vi</span> /etc/network/interfaces
<span class="token comment"># This file describes the network interfaces available on your system</span>
<span class="token comment"># and how to activate them. For more information, see interfaces(5).</span>

<span class="token builtin class-name">source</span> /etc/network/interfaces.d/*

<span class="token comment"># The loopback network interface</span>
auto lo
iface lo inet loopback

<span class="token comment"># The primary network interface</span>
auto ens3
iface ens3 inet static
        address <span class="token number">192.168</span>.4.60
        netmask <span class="token number">255.255</span>.255.0
        network <span class="token number">192.168</span>.4.0
        broadcast <span class="token number">192.168</span>.4.255
        gateway <span class="token number">192.168</span>.4.50
        <span class="token comment"># dns-* options are implemented by the resolvconf package, if installed</span>
        dns-nameservers <span class="token number">192.168</span>.4.50
        dns-search demo
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997392-82263">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="# Centos DHCP
$ cat /etc/sysconfig/network-scripts/ifcfg-eth0
DEVICE=eth0
BOOTPROTO=dhcp
ONBOOT=yes

# 或者指定IP
$ cat /etc/sysconfig/network-scripts/ifcfg-em1
TYPE=Ethernet
PROXY_METHOD=none
BROWSER_ONLY=no
BOOTPROTO=none
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_FAILURE_FATAL=no
IPV6_ADDR_GEN_MODE=stable-privacy
NAME=em1
UUID=fa335568-27db-47fd-a055-424173c42430
DEVICE=em1
ONBOOT=yes
IPADDR=192.168.4.252
PREFIX=24
GATEWAY=192.168.4.50
DNS1=192.168.4.50
IPV6_PRIVACY=no
ZONE=public

# Ubuntu
$ vi /etc/network/interfaces
# This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

source /etc/network/interfaces.d/*

# The loopback network interface
auto lo
iface lo inet loopback

# The primary network interface
auto ens3
iface ens3 inet static
        address 192.168.4.60
        netmask 255.255.255.0
        network 192.168.4.0
        broadcast 192.168.4.255
        gateway 192.168.4.50
        # dns-* options are implemented by the resolvconf package, if installed
        dns-nameservers 192.168.4.50
        dns-search demo
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997392-82263" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><p>通常使用<code>ifconfig</code>来查看网卡的信息</p></li><li><p>DNS配置</p><div class="language-bash line-numbers-mode"><pre><code>$ <span class="token function">cat</span> /etc/resolv.conf
options timeout:2 attempts:3 rotate single-request-reopen
<span class="token punctuation">;</span> generated by /usr/sbin/dhclient-script
nameserver <span class="token number">100.100</span>.2.136
nameserver <span class="token number">100.100</span>.2.138
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997393-24940">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="$ cat /etc/resolv.conf
options timeout:2 attempts:3 rotate single-request-reopen
; generated by /usr/sbin/dhclient-script
nameserver 100.100.2.136
nameserver 100.100.2.138
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997393-24940" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>host文件</p><div class="language-bash line-numbers-mode"><pre><code>$ <span class="token function">cat</span> /etc/hosts
<span class="token number">127.0</span>.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997393-44419">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="$ cat /etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997393-44419" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>用户/组</p><p>查看用户：</p><div class="language-bash line-numbers-mode"><pre><code>$ <span class="token function">cat</span> /etc/passwd
root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:2:bin:/bin:/usr/sbin/nologin
sys:x:3:3:sys:/dev:/usr/sbin/nologin
sync:x:4:65534:sync:/bin:/bin/sync
games:x:5:60:games:/usr/games:/usr/sbin/nologin
man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin
<span class="token punctuation">..</span><span class="token punctuation">..</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997393-59439">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="$ cat /etc/passwd
root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:2:bin:/bin:/usr/sbin/nologin
sys:x:3:3:sys:/dev:/usr/sbin/nologin
sync:x:4:65534:sync:/bin:/bin/sync
games:x:5:60:games:/usr/games:/usr/sbin/nologin
man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin
....
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997393-59439" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>查看组：</p><div class="language-bash line-numbers-mode"><pre><code>$ <span class="token function">cat</span> /etc/group
root:x:0:
daemon:x:1:
bin:x:2:
sys:x:3:
adm:x:4:syslog,bttech
tty:x:5:
disk:x:6:
lp:x:7:
mail:x:8:
news:x:9:
uucp:x:10:
man:x:12:
proxy:x:13:
<span class="token punctuation">..</span><span class="token punctuation">..</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997393-169">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="$ cat /etc/group
root:x:0:
daemon:x:1:
bin:x:2:
sys:x:3:
adm:x:4:syslog,bttech
tty:x:5:
disk:x:6:
lp:x:7:
mail:x:8:
news:x:9:
uucp:x:10:
man:x:12:
proxy:x:13:
....
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997393-169" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li><li><p>查看内存/CPU</p><div class="language-bash line-numbers-mode"><pre><code><span class="token comment"># 查看CPU</span>
$ <span class="token function">cat</span> /proc/cpuinfo
processor	<span class="token builtin class-name">:</span> <span class="token number">0</span>
vendor_id	<span class="token builtin class-name">:</span> GenuineIntel
cpu family	<span class="token builtin class-name">:</span> <span class="token number">6</span>
model		<span class="token builtin class-name">:</span> <span class="token number">45</span>
model name	<span class="token builtin class-name">:</span> Intel<span class="token punctuation">(</span>R<span class="token punctuation">)</span> Xeon<span class="token punctuation">(</span>R<span class="token punctuation">)</span> CPU E5-2670 <span class="token number">0</span> @ <span class="token number">2</span>.60GHz
stepping	<span class="token builtin class-name">:</span> <span class="token number">7</span>
microcode	<span class="token builtin class-name">:</span> 0x714
cpu MHz		<span class="token builtin class-name">:</span> <span class="token number">2117.419</span>
cache size	<span class="token builtin class-name">:</span> <span class="token number">20480</span> KB
<span class="token punctuation">..</span>.

<span class="token comment"># 查看内存</span>
$ <span class="token function">cat</span> /proc/meminfo
MemTotal:       <span class="token number">131812048</span> kB
MemFree:          <span class="token number">460820</span> kB
MemAvailable:   <span class="token number">36657836</span> kB
Buffers:               <span class="token number">0</span> kB
Cached:         <span class="token number">34910784</span> kB
SwapCached:      <span class="token number">1051944</span> kB
Active:         <span class="token number">95183532</span> kB
Inactive:       <span class="token number">32382012</span> kB
Active<span class="token punctuation">(</span>anon<span class="token punctuation">)</span>:   <span class="token number">77764844</span> kB
Inactive<span class="token punctuation">(</span>anon<span class="token punctuation">)</span>: <span class="token number">15015220</span> kB
Active<span class="token punctuation">(</span>file<span class="token punctuation">)</span>:   <span class="token number">17418688</span> kB
<span class="token punctuation">..</span>.
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997393-73009">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="# 查看CPU
$ cat /proc/cpuinfo
processor	: 0
vendor_id	: GenuineIntel
cpu family	: 6
model		: 45
model name	: Intel(R) Xeon(R) CPU E5-2670 0 @ 2.60GHz
stepping	: 7
microcode	: 0x714
cpu MHz		: 2117.419
cache size	: 20480 KB
...

# 查看内存
$ cat /proc/meminfo
MemTotal:       131812048 kB
MemFree:          460820 kB
MemAvailable:   36657836 kB
Buffers:               0 kB
Cached:         34910784 kB
SwapCached:      1051944 kB
Active:         95183532 kB
Inactive:       32382012 kB
Active(anon):   77764844 kB
Inactive(anon): 15015220 kB
Active(file):   17418688 kB
...
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997393-73009" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div></li><li><p>其他</p><ul><li>/etc/fstab（开机自动挂载列表）</li><li>/etc/rc.local（开机自启动文件，自启动命令，脚本）</li><li>/etc/init.d(服务启动命令脚本目录)</li><li>/etc/profile(全局环境变量)</li><li>/usr/local(编译安装软件默认安装目录)</li><li>/var/log/message（系统日志）</li><li>/var/log/secure（系统安全日志）</li><li><em>/proc/mounts</em>（系统挂载信息）</li></ul></li></ol><h3 id="linux启动过程"><a class="header-anchor" href="#linux启动过程" aria-hidden="true">#</a> Linux启动过程</h3><p>Linux启动过程：</p><ul><li><p>内核的引导</p><p>首先是BIOS开机自检，按照BIOS中设置的启动设备（通常是硬盘）来启动。</p><p>主要是一些驱动、基本的操作指令，用来接管所有的硬件</p></li><li><p>运行 init</p><p>就跟main函数一样，有一个起点，初始一个服务进程daemon，跟windows中的服务一样。</p></li><li><p>系统初始化</p><p>用户及软件服务自启动</p></li><li><p>建立终端</p><p>Linux的多用户管理。</p><p>针对对用户，登录方式有三种：</p><ul><li>命令行登录</li><li>ssh登录</li><li>图形界面登录</li></ul></li><li><p>用户登录系统</p></li></ul><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145707.jpg" alt="img"></p><h3 id="常用命令介绍重点"><a class="header-anchor" href="#常用命令介绍重点" aria-hidden="true">#</a> 常用命令介绍(重点)</h3><h4 id="文件相关"><a class="header-anchor" href="#文件相关" aria-hidden="true">#</a> 文件相关</h4><ol><li>目录相关 <ul><li><p><code>ls</code>: 列出目录</p><p>-la 可以查看隐藏文件，文件一些基础属性</p></li><li><p><code>cd</code>：切换目录</p><p>使用绝对路径<code>/</code>，也可以使用<code>./</code>相对路径，回到上级目录<code>cd ..</code></p></li><li><p><code>pwd</code>：显示目前的目录</p></li><li><p><code>mkdir</code>：创建一个新的目录</p></li><li><p><code>rmdir</code>：删除一个空的目录</p></li><li><p><code>cp</code>: 复制文件或目录</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">cp</span> <span class="token builtin class-name">source</span> target
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997393-79602">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="cp source target
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997393-79602" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p><code>rm</code>: 移除文件或目录</p><div class="language-bash line-numbers-mode"><pre><code><span class="token comment"># 删除目录</span>
<span class="token function">rm</span> -r dirpath

<span class="token comment"># 强制删除，要特别注意</span>
<span class="token function">rm</span> -rf dirpath€
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997393-15339">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="# 删除目录
rm -r dirpath

# 强制删除，要特别注意
rm -rf dirpath€
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997393-15339" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p><code>mv</code>: 移动文件与目录，或修改文件与目录的名称</p><div class="language-"><pre><code>mv source target
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997393-25251">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="mv source target
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997393-25251" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p><code>cat</code>用来查看文件内的内容，<code>touch</code>命令来创建文件，<code>echo</code>命令往文件里面写入内容，<code>more</code>命令来查看显示长文件内容</p></li></ul></li><li>基本属性： <ul><li><p>权限管理<code>chmod</code></p><p>文件基本属性分为10个字符 <code>drwxrwxrwx</code></p><p><code>r</code> 代表着read读权限</p><p><code>w</code>代表着write写权限</p><p><code>x</code>代表着execute执行权限</p><p><code>d</code>代表着目录</p><p><code>chmod -R</code>递归执行，相当于是把目录下所有的文件都修改对应的权限</p><p><code>chmod +x</code> 给文件一个执行/读/写权限</p><p>修改权限的两种方式：</p><p><strong>方式1： 数字方式</strong></p><p><code>7</code>-<code>rwx</code></p><p><code>6</code>-<code>-rw-</code></p><p><code>4</code>-<code>r--</code></p><p><code>0</code>-<code>---</code> 什么权限都没有，</p><p>前面的3个是所有者用户的权限，</p><p>中间的3个是组用户的权限，</p><p>后面的3个是其他用户的权限。</p><p>举例说明：</p><div class="language-bash line-numbers-mode"><pre><code><span class="token comment"># 对所属用户有读写权限</span>
<span class="token function">chmod</span> <span class="token number">600</span> <span class="token punctuation">..</span>.

<span class="token comment"># 对应 -rwxrw-rw-，相当于是取消了组与其他用户的执行权限</span>
<span class="token function">chmod</span> <span class="token number">755</span> <span class="token punctuation">..</span>.
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997393-45903">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="# 对所属用户有读写权限
chmod 600 ...

# 对应 -rwxrw-rw-，相当于是取消了组与其他用户的执行权限
chmod 755 ...
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997393-45903" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>方式2：</strong></p><p><code>a</code>代表all所有，<code>u</code>代表user，<code>g</code>代表group，<code>o</code>代表other。</p><p><code>+</code>代表增加，<code>-</code>代表减少</p><p>举例说明：</p><div class="language-bash line-numbers-mode"><pre><code><span class="token comment"># 增加所有用户的读的权限</span>
<span class="token function">chmod</span> a+r <span class="token punctuation">..</span>.

<span class="token comment"># 增加用户与组的写的权限</span>
<span class="token function">chmod</span> ug+w <span class="token punctuation">..</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997393-61006">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="# 增加所有用户的读的权限
chmod a+r ...

# 增加用户与组的写的权限
chmod ug+w ..
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997393-61006" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>个人比较推荐数字的方式，比较好记！！</p></blockquote></li><li><p>用户/组权限管理<code>chown</code></p><p>修改文件/文档所属/所属组</p><div class="language-"><pre><code>chown &lt;所属用户&gt;:&lt;所属组&gt; &lt;文件&gt;
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997393-43328">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="chown &lt;所属用户&gt;:&lt;所属组&gt; &lt;文件&gt;
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997393-43328" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>目录：</p><div class="language-"><pre><code>chown -R &lt;所属用户&gt;:&lt;所属组&gt; &lt;文件&gt;
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-41586">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="chown -R &lt;所属用户&gt;:&lt;所属组&gt; &lt;文件&gt;
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-41586" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>-R</code> 代表着递归</p></li></ul></li></ol><h4 id="用户管理登录"><a class="header-anchor" href="#用户管理登录" aria-hidden="true">#</a> 用户管理/登录</h4><ol><li>添加用户<code>useradd</code></li><li>删除用户<code>userdel</code></li><li>用户口令修改 <code>passwd</code></li><li>（扩展）用户组<code>groupadd</code>/<code>groupdel</code>/<code>groupmod</code></li></ol><h4 id="网络"><a class="header-anchor" href="#网络" aria-hidden="true">#</a> 网络</h4><ol><li><p>远程连接<code>ssh</code></p><p>配置文件的路径是在<code>/etc/ssh/sshd_config</code>目录下</p><p>如果需要修改port：</p><ul><li>修改<code>sshd_config</code>中的<code>Port</code>参数</li><li>(Centos)还需要使用<code>semanage port -a -t ssh_port_t -p tcp &lt;Port&gt;</code></li><li><code>service sshd restart</code> (Centos) / <code>service ssh restart</code> (Debian、Ubuntu)</li></ul><blockquote><p>在测试的时候，可以关闭服务器的防火墙，但是生产系统中不推荐这么去做。</p><p>如果提示没有semanage这个命令，则可以使用如下方式来安装：</p><p><code>sudo yum install -y policecoreutils-python</code></p><p>或者使用<code>yum whatprovides semange</code>来反查</p></blockquote><p>ssh登录命令的格式：<code>ssh -p Port &lt;用户名&gt;@&lt;服务器的地址&gt;</code></p><p>如：</p><div class="language-bash line-numbers-mode"><pre><code>$ <span class="token function">ssh</span> -p <span class="token number">10022</span> root@192.168.0.1
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-84543">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="$ ssh -p 10022 root@192.168.0.1
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-84543" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>window推荐使用<a href="https://www.netsarang.com/zh/xftp/" target="_blank" rel="noopener noreferrer">xftp</a>终端</p><p>mac推荐使用<a href="https://www.iterm2.com/" target="_blank" rel="noopener noreferrer">iterm</a></p></blockquote></li><li><p>查看网卡配置<code>ifconfig</code></p><p>如果说没有这个命令，可以使用<code>yum install net-tools</code>进行安装</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">ifconfig</span> eth0 <span class="token operator">&lt;</span>ip<span class="token operator">&gt;</span> netmask <span class="token number">255.255</span>.255.0
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-39937">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="ifconfig eth0 &lt;ip&gt; netmask 255.255.255.0
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-39937" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>对网口进行禁用/启用</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">ifconfig</span> eth0 down/up
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-68380">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="ifconfig eth0 down/up
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-68380" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>查看网络<code>netstat</code></p><ul><li><code>-t</code>：列出TCP协议端口</li><li><code>-u</code>：列出UDP协议端口</li><li><code>-n</code>:不使用域名与服务名，而使用IP地址和端口号</li><li><code>-l</code>：仅列出在监听状态网络服务</li><li><code>-a</code>：列出所有的网络连接</li><li><code>-p</code>：列出所对应的进程信息</li></ul><div class="language-bash line-numbers-mode"><pre><code><span class="token function">netstat</span> -anpl <span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">ssh</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-49317">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="netstat -anpl | grep ssh
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-49317" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当使用<code>netstat | more</code>进行滚屏，<code>ctrl+f/b</code>进行翻上/下页</p></li><li><p>路由命令<code>route</code></p><p>route查看路由</p><div class="language-bash line-numbers-mode"><pre><code><span class="token comment"># add/del添加删除路由</span>

route <span class="token function">add</span> -net <span class="token number">192.168</span>.0.0 netmask <span class="token number">255.255</span>.0.0 dev etho

<span class="token comment"># del删除</span>
route del -net <span class="token number">192.168</span>.0.0 netmask <span class="token number">255.255</span>.0.0

<span class="token comment"># reject</span>
route <span class="token function">add</span> -net <span class="token number">192.168</span>.0.0 netmask <span class="token number">255.255</span>.0.0 reject
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-72808">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="# add/del添加删除路由

route add -net 192.168.0.0 netmask 255.255.0.0 dev etho

# del删除
route del -net 192.168.0.0 netmask 255.255.0.0

# reject
route add -net 192.168.0.0 netmask 255.255.0.0 reject
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-72808" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>IP命令<code>ip</code></p><div class="language-"><pre><code>ip addr show
ip route show
ip link set eth0 up/down
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-989">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="ip addr show
ip route show
ip link set eth0 up/down
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-989" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>ip &lt;命令&gt; help</code>去查看命令的一些参数</p></li><li><p>DNS解析：<code>nslookup</code></p><p>Centos中如果没有该命令，可以使用如下的方式进行安装</p><div class="language-"><pre><code>sudo yum install bind-utils
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-14567">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="sudo yum install bind-utils
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-14567" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>查看本机IP</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">curl</span> <span class="token punctuation">[</span>链接<span class="token punctuation">]</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-65073">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="curl [链接]
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-65073" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>几个网址也非常好记忆</p><ul><li><a href="http://ip.cn/" target="_blank" rel="noopener noreferrer">ip.cn</a> (推荐)</li><li><a href="http://ipinfo.io/" target="_blank" rel="noopener noreferrer">ipinfo.io</a> (推荐)</li><li><a href="http://cip.cc/" target="_blank" rel="noopener noreferrer">cip.cc</a> (推荐)</li><li><a href="http://ifconfig.me/" target="_blank" rel="noopener noreferrer">ifconfig.me</a></li><li><a href="http://myip.ipip.net/" target="_blank" rel="noopener noreferrer">myip.ipip.net</a></li></ul></li></ol><p>GUI网络配置操作（图形化大法好啊）：</p><p><code>nmtui</code></p><blockquote><p>如果提示<code>not found</code>命令的话，可以<code>yum install -y NetworkManager-tui</code>进行安装</p></blockquote><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145708.jpg" alt="nmtui"></p><h4 id="性能硬件"><a class="header-anchor" href="#性能硬件" aria-hidden="true">#</a> 性能/硬件</h4><ol><li><p><code>top</code>命令：</p><p>top命令替代命令：<a href="https://linux.cn/article-10323-1.html" target="_blank" rel="noopener noreferrer">参考1</a>、<a href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop#0" target="_blank" rel="noopener noreferrer">参考2</a></p><div class="language-"><pre><code>top

# m切换显示内存信息
# t切换显示CPU信息
# M对内存倒序排序显示
# P根据CPU的使用百分比进行排序
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-74444">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="top

# m切换显示内存信息
# t切换显示CPU信息
# M对内存倒序排序显示
# P根据CPU的使用百分比进行排序
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-74444" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>性能测试</p><ul><li><p><a href="http://Bench.sh" target="_blank" rel="noopener noreferrer">Bench.sh</a>:</p><p>使用方法：</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">wget</span> -qO- bench.sh <span class="token operator">|</span> <span class="token function">bash</span>

<span class="token comment"># 或者 </span>

<span class="token function">curl</span> -Lso- bench.sh <span class="token operator">|</span> <span class="token function">bash</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-15605">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="wget -qO- bench.sh | bash

# 或者 

curl -Lso- bench.sh | bash
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-15605" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Github地址：<a href="https://github.com/teddysun/across/blob/master/bench.sh" target="_blank" rel="noopener noreferrer">https://github.com/teddysun/across/blob/master/bench.sh</a></p></li><li><p>LemonBench</p><p>使用方法：</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">wget</span> -qO- https://ilemonrain.com/download/shell/LemonBench.sh <span class="token operator">|</span> <span class="token function">bash</span>

<span class="token comment"># 或者</span>

<span class="token function">curl</span> -fsSL https://ilemonrain.com/download/shell/LemonBench.sh <span class="token operator">|</span> <span class="token function">bash</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-54849">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="wget -qO- https://ilemonrain.com/download/shell/LemonBench.sh | bash

# 或者

curl -fsSL https://ilemonrain.com/download/shell/LemonBench.sh | bash
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-54849" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></li></ol><h2 id="nginx服务"><a class="header-anchor" href="#nginx服务" aria-hidden="true">#</a> Nginx服务</h2><p>nginx [发音：engine x]是一个HTTP和反向代理服务器，一个邮件代理服务器和一个通用的TCP / UDP代理服务器，最初由<a href="http://sysoev.ru/en/" target="_blank" rel="noopener noreferrer">Igor Sysoev</a>编写。</p><p>据Netcraft称，nginx 在2019年5月服务或代理了 26.43％最繁忙的网站。以下是一些成功案例： Dropbox， Netflix， <a href="http://Wordpress.com" target="_blank" rel="noopener noreferrer">Wordpress.com</a>， <a href="http://FastMail.FM" target="_blank" rel="noopener noreferrer">FastMail.FM</a>。</p><blockquote><p>nginx [engine x] is an HTTP and reverse proxy server, a mail proxy server, and a generic TCP/UDP proxy server, originally written by Igor Sysoev. For a long time, it has been running on many heavily loaded Russian sites including Yandex, <a href="http://Mail.Ru" target="_blank" rel="noopener noreferrer">Mail.Ru</a>, VK, and Rambler. According to Netcraft, nginx served or proxied 26.43% busiest sites in May 2019. Here are some of the success stories: <a href="https://blogs.dropbox.com/tech/2017/09/optimizing-web-servers-for-high-throughput-and-low-latency/" target="_blank" rel="noopener noreferrer">Dropbox</a>, <a href="https://openconnect.netflix.com/en/software/" target="_blank" rel="noopener noreferrer">Netflix</a>,<a href="https://www.nginx.com/case-studies/nginx-wordpress-com/" target="_blank" rel="noopener noreferrer">Wordpress.com</a>, <a href="http://blog.fastmail.fm/2007/01/04/webimappop-frontend-proxies-changed-to-nginx/" target="_blank" rel="noopener noreferrer">FastMail.FM</a>.</p></blockquote><p>从下面的当下技术架构图中，可以看出Nginx在网络中的位置与重要性。Nginx的轻量级、内存占用少、启动极快，高并发能力强的特性，使它在互联网项目中广泛应用。</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145709.jpg" alt="img"></p><blockquote><p>Service-Oriented Architecture，<strong>SOA</strong>面向服务的架构</p></blockquote><h3 id="nginx简介"><a class="header-anchor" href="#nginx简介" aria-hidden="true">#</a> Nginx简介</h3><h4 id="什么是反向代理"><a class="header-anchor" href="#什么是反向代理" aria-hidden="true">#</a> 什么是反向代理</h4><p>正向代理 ：</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145710.jpg" alt="img"></p><p>由于防火墙的原因，我们并不能直接访问谷歌，那么我们可以借助VPN来实现，这就是一个简单的正向代理的例子。这里你能够发现，<strong>正向代理“代理”的是客户端</strong>，而且客户端是知道目标的，而目标是不知道客户端是通过VPN访问的。</p><p>反向代理：</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145711.jpg" alt="img"></p><p>当我们在外网访问百度的时候，其实会进行一个转发，代理到内网去，这就是所谓的反向代理，即<strong>反向代理“代理”的是服务器端</strong>，而且这一个过程对于客户端而言是透明的。</p><h4 id="nginx的技术架构"><a class="header-anchor" href="#nginx的技术架构" aria-hidden="true">#</a> Nginx的技术架构</h4><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145712.png" alt="img"></p><p>Master进程的作用是<strong>读取并验证配置文件nginx.conf；管理worker进程；</strong></p><p>Worker进程的作用:<strong>每一个Worker进程都维护一个线程（避免线程切换），处理连接和请求；</strong></p><blockquote><p>注意Worker进程的个数由配置文件决定，一般和CPU个数相关（有利于进程切换），配置几个就有几个Worker进程。</p></blockquote><p>特点：</p><ul><li><p>主进程Master</p><p><code>Nginx</code> 启动时，会生成两种类型的 <strong>进程</strong>*，一个是 <strong>主进程</strong>（<code>master</code>），<strong>一个</strong>（<code>windows</code> 版本的目前只有一个）或 <strong>多个工作进程</strong>（<code>worker</code>）。<strong>主进程</strong> 并不处理网络请求，主要负责 <strong>调度工作进程</strong>，也就是图示的 <code>3</code> 项：<strong>加载配置</strong>、<strong>启动工作进程</strong> 及 <strong>非停升级</strong>。所以，<code>Nginx</code> 启动以后，查看操作系统的进程列表，我们就能看到 <strong>至少有两个</strong> <code>Nginx</code> 进程。</p></li><li><p>工作进程Worker</p><p>服务器实际 <strong>处理网络请求</strong> 及 <strong>响应</strong> 的是 <strong>工作进程</strong>（<code>worker</code>），在类 <code>unix</code> 系统上，<code>Nginx</code> 可以配置 <strong>多个</strong> <code>worker</code>，而每个 <code>worker</code> <strong>进程</strong> 都可以同时处理 <strong>数以千计</strong> 的 <strong>网络请求</strong>。</p></li><li><p>模块化设计</p><p>标准HTTP模块、可选的HTTP模块(gzip等)、邮件服务、第三方(Lua)</p><p><code>Nginx</code> 的 <code>worker</code> 进程，包括 <strong>核心</strong> 和 <strong>功能性模块</strong>，<strong>核心模块</strong> 负责维持一个 <strong>运行循环</strong>（<code>run-loop</code>），执行网络请求处理的 <strong>不同阶段</strong> 的模块功能，比如：<strong>网络读写</strong>、<strong>存储读写</strong>、<strong>内容传输</strong>、<strong>外出过滤</strong>，以及 <strong>将请求发往上游服务器</strong> 等。而其代码的 <strong>模块化设计</strong>，也使得我们可以根据需要对 <strong>功能模块</strong> 进行适当的 <strong>选择</strong> 和 <strong>修改</strong>，编译成具有 <strong>特定功能</strong> 的服务器。</p></li><li><p>事件驱动模型</p><p>基于 <strong>异步及非阻塞</strong> 的 <strong>事件驱动模型</strong>，可以说是 <code>Nginx</code> 得以获得 <strong>高并发</strong>、<strong>高性能</strong> 的关键因素，同时也得益于对 <code>Linux</code>、<code>Solaris</code> 及类 <code>BSD</code> 等操作系统内核中 <strong>事件通知</strong> 及 <code>I/O</code> <strong>性能增强功能</strong> 的采用，如 <code>kqueue</code>、<code>epoll</code> 及 <code>event ports</code>。</p></li><li><p>代理设计</p></li></ul><p>参考资料：</p><ol><li><p><a href="https://juejin.im/post/5b4bdb54e51d45191e0cd774" target="_blank" rel="noopener noreferrer">浅谈Nginx服务器的内部核心架构设计</a></p></li><li><p><a href="https://nginx.org/en/#architecture_and_scalability" target="_blank" rel="noopener noreferrer">Architecture and scalability</a></p></li></ol><h4 id="nginx高可用"><a class="header-anchor" href="#nginx高可用" aria-hidden="true">#</a> Nginx高可用</h4><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145713.png" alt="img"></p><p><strong>VRRP（Virtual Router Redundancy Protocol）</strong>，即<a href="https://link.jianshu.com?t=http://en.wikipedia.org/wiki/VRRP" target="_blank" rel="noopener noreferrer">虚拟路由冗余协议</a>。可以认为它是实现路由器高可用的容错协议，即将多台提供相同功能的路由器组成一个路由器组(Router Group)，这个组里面有一个master和多个backup，但在外界看来就像一台一样，构成虚拟路由器，拥有一个虚拟IP（vip，也就是路由器所在局域网内其他机器的默认路由），占有这个IP的master实际负责ARP相应和转发IP数据包，组中的其它路由器作为备份的角色处于待命状态。master会发组播消息，当backup在超时时间内收不到vrrp包时就认为master宕掉了，这时就需要根据VRRP的优先级来选举一个backup当master，保证路由器的高可用。</p><p>Keepalived是一个基于VRRP协议来实现的服务高可用方案，可以利用其来避免IP单点故障，类似的工具还有heartbeat、corosync、pacemaker。但是它一般不会单独出现，而是与其它负载均衡技术（如lvs、haproxy、nginx）一起工作来达到集群的高可用。</p><p>KeepAlived + Nginx来组成高可用的方案：</p><p>第一：请求不要直接打到Nginx上，应该先通过Keepalived（这就是所谓虚拟IP，VIP）</p><p>第二：Keepalived应该能监控Nginx的生命状态（提供一个用户自定义的脚本，定期检查Nginx进程状态，进行权重变化,，从而实现Nginx故障切换）</p><h3 id="nginx服务安装"><a class="header-anchor" href="#nginx服务安装" aria-hidden="true">#</a> Nginx服务安装</h3><h4 id="centos安装方式"><a class="header-anchor" href="#centos安装方式" aria-hidden="true">#</a> Centos安装方式</h4><p>推荐使用在线安装方式：</p><table><thead><tr><th>分类</th><th>yum方式</th><th>源码安装</th></tr></thead><tbody><tr><td>网络</td><td>需要</td><td>可以不需要</td></tr><tr><td>安装位置</td><td>/etc/nginx配置文件，/usr/sbin/nginx</td><td>/usr/local/nginx目录</td></tr><tr><td>管理命令</td><td>提供</td><td>不提供</td></tr><tr><td>启动</td><td>service nginx start</td><td>执行绝对路径/usr/local/nginx/sbin/nginx</td></tr><tr><td>删除</td><td>yum remove nginx或者rpm -e nginx</td><td>rm -rf /usr/local/nginx</td></tr></tbody></table><ol><li><p>在线安装</p><p>添加nginx的repo：</p><div class="language-bash line-numbers-mode"><pre><code>$ <span class="token function">vim</span> /etc/yum.repos.d/nginx.repo
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-98820">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="$ vim /etc/yum.repos.d/nginx.repo
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-98820" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>输入以下内容：</p><div class="language-bash line-numbers-mode"><pre><code><span class="token punctuation">[</span>nginx<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>nginx repo
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://nginx.org/packages/centos/<span class="token variable">$releasever</span>/<span class="token variable">$basearch</span>/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-56122">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="[nginx]
name=nginx repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=0
enabled=1
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-56122" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>:wq</code>保存后，使用<code>yum update</code>，接下来就是安装了。</p><div class="language-bash line-numbers-mode"><pre><code>yum <span class="token function">install</span> -y nginx

<span class="token comment"># 管理命令:</span>
<span class="token comment"># 启动/停止/重启</span>
<span class="token function">service</span> nginx start/stop/restart

<span class="token comment"># 卸载</span>
yum remove -y nginx
<span class="token comment"># 或者强制卸载，不考虑依赖</span>
<span class="token function">rpm</span> -e nginx
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-96827">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="yum install -y nginx

# 管理命令:
# 启动/停止/重启
service nginx start/stop/restart

# 卸载
yum remove -y nginx
# 或者强制卸载，不考虑依赖
rpm -e nginx
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-96827" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>源码安装</p></li></ol><ul><li><p>安装对应的依赖：</p><div class="language-"><pre><code>yum -y install gcc gcc-c++ make libtool zlib zlib-devel openssl openssl-devel pcre pcre-devel
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-23661">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="yum -y install gcc gcc-c++ make libtool zlib zlib-devel openssl openssl-devel pcre pcre-devel
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-23661" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>下载源码包：</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">wget</span> -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>.tar.gz
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-25454">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="wget -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-&lt;version&gt;.tar.gz
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-25454" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>比如：</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">wget</span> -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-1.17.0.tar.gz
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-23508">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="wget -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-1.17.0.tar.gz
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-23508" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>解压</p><div class="language-bash line-numbers-mode"><pre><code><span class="token builtin class-name">cd</span> /tmp/
<span class="token function">tar</span> zxvf nginx.tar.gz
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-76174">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="cd /tmp/
tar zxvf nginx.tar.gz
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-76174" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>编译</p><div class="language-bash line-numbers-mode"><pre><code>$ ./configure
Configuration summary

- using system PCRE library
- OpenSSL library is not used
- using system zlib library

  nginx path prefix: <span class="token string">&quot;/usr/local/nginx&quot;</span>
  nginx binary file: <span class="token string">&quot;/usr/local/nginx/sbin/nginx&quot;</span>
  nginx modules path: <span class="token string">&quot;/usr/local/nginx/modules&quot;</span>
  nginx configuration prefix: <span class="token string">&quot;/usr/local/nginx/conf&quot;</span>
  nginx configuration file: <span class="token string">&quot;/usr/local/nginx/conf/nginx.conf&quot;</span>
  nginx pid file: <span class="token string">&quot;/usr/local/nginx/logs/nginx.pid&quot;</span>
  nginx error log file: <span class="token string">&quot;/usr/local/nginx/logs/error.log&quot;</span>
  nginx http access log file: <span class="token string">&quot;/usr/local/nginx/logs/access.log&quot;</span>
  nginx http client request body temporary files: <span class="token string">&quot;client_body_temp&quot;</span>
  nginx http proxy temporary files: <span class="token string">&quot;proxy_temp&quot;</span>
  nginx http fastcgi temporary files: <span class="token string">&quot;fastcgi_temp&quot;</span>
  nginx http uwsgi temporary files: <span class="token string">&quot;uwsgi_temp&quot;</span>
  nginx http scgi temporary files: <span class="token string">&quot;scgi_temp&quot;</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997394-56325">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="$ ./configure
Configuration summary

- using system PCRE library
- OpenSSL library is not used
- using system zlib library

  nginx path prefix: &quot;/usr/local/nginx&quot;
  nginx binary file: &quot;/usr/local/nginx/sbin/nginx&quot;
  nginx modules path: &quot;/usr/local/nginx/modules&quot;
  nginx configuration prefix: &quot;/usr/local/nginx/conf&quot;
  nginx configuration file: &quot;/usr/local/nginx/conf/nginx.conf&quot;
  nginx pid file: &quot;/usr/local/nginx/logs/nginx.pid&quot;
  nginx error log file: &quot;/usr/local/nginx/logs/error.log&quot;
  nginx http access log file: &quot;/usr/local/nginx/logs/access.log&quot;
  nginx http client request body temporary files: &quot;client_body_temp&quot;
  nginx http proxy temporary files: &quot;proxy_temp&quot;
  nginx http fastcgi temporary files: &quot;fastcgi_temp&quot;
  nginx http uwsgi temporary files: &quot;uwsgi_temp&quot;
  nginx http scgi temporary files: &quot;scgi_temp&quot;
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997394-56325" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></li><li><p>安装</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997395-29416">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="make &amp;&amp; make install
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997395-29416" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>管理方法：</p><p>直接可以使用可执行文件进行启动/停止/重启</p><div class="language-bash line-numbers-mode"><pre><code><span class="token comment"># 启动</span>
/usr/local/nginx/sbin/nginx

<span class="token comment"># 停止</span>
/usr/local/nginx/sbin/nginx -s stop

<span class="token comment"># 重启</span>
/usr/local/nginx/sbin/nginx -s reload
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997395-10025">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="# 启动
/usr/local/nginx/sbin/nginx

# 停止
/usr/local/nginx/sbin/nginx -s stop

# 重启
/usr/local/nginx/sbin/nginx -s reload
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997395-10025" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>管理脚本</p><div class="language-bash line-numbers-mode"><pre><code>$ <span class="token function">vi</span> /etc/init.d/nginx
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997395-21988">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="$ vi /etc/init.d/nginx
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997395-21988" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>输入如下内容:</p><div class="language-bash line-numbers-mode"><pre><code><span class="token shebang important">#!/bin/sh</span>
<span class="token comment">#</span>
<span class="token comment"># nginx - this script starts and stops the nginx daemon</span>
<span class="token comment">#</span>
<span class="token comment"># chkconfig:   - 85 15</span>
<span class="token comment"># description:  NGINX is an HTTP(S) server, HTTP(S) reverse \</span>
<span class="token comment">#               proxy and IMAP/POP3 proxy server</span>
<span class="token comment"># processname: nginx</span>
<span class="token comment"># config:      /usr/local/nginx/conf/nginx.conf</span>
<span class="token comment"># config:      /etc/sysconfig/nginx</span>
<span class="token comment"># pidfile:     /usr/local/nginx/logs/nginx.pid</span>
<span class="token comment"># Source function library.</span>
<span class="token builtin class-name">.</span> /etc/rc.d/init.d/functions
<span class="token comment"># Source networking configuration.</span>
<span class="token builtin class-name">.</span> /etc/sysconfig/network
<span class="token comment"># Check that networking is up.</span>
<span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$NETWORKING</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;no&quot;</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span> <span class="token number">0</span>
<span class="token assign-left variable">nginx</span><span class="token operator">=</span><span class="token string">&quot;/usr/local/nginx/sbin/nginx&quot;</span>
<span class="token assign-left variable">prog</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">basename</span> $nginx<span class="token variable">)</span></span>
<span class="token assign-left variable">NGINX_CONF_FILE</span><span class="token operator">=</span><span class="token string">&quot;/usr/local/nginx/conf/nginx.conf&quot;</span>
<span class="token punctuation">[</span> -f /etc/sysconfig/nginx <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">.</span> /etc/sysconfig/nginx
<span class="token assign-left variable">lockfile</span><span class="token operator">=</span>/var/lock/subsys/nginx
<span class="token function-name function">make_dirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment"># make required directories</span>
   <span class="token assign-left variable">user</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>$nginx -V <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;configure arguments:&quot;</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">&#39;s/[^*]*--user=\([^ ]*\).*/\1/g&#39;</span> -<span class="token variable">`</span></span>
   <span class="token keyword">if</span> <span class="token punctuation">[</span> -z <span class="token string">&quot;<span class="token variable"><span class="token variable">`</span><span class="token function">grep</span> $user /etc/passwd<span class="token variable">`</span></span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
       <span class="token function">useradd</span> -M -s /bin/nologin <span class="token variable">$user</span>
   <span class="token keyword">fi</span>
   <span class="token assign-left variable">options</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>$nginx -V <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;configure arguments:&#39;</span><span class="token variable">`</span></span>
   <span class="token keyword">for</span> <span class="token for-or-select variable">opt</span> <span class="token keyword">in</span> <span class="token variable">$options</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
       <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> $opt <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;.*-temp-path&#39;</span><span class="token variable">`</span></span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
           <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> $opt <span class="token operator">|</span> <span class="token function">cut</span> -d <span class="token string">&quot;=&quot;</span> -f <span class="token number">2</span><span class="token variable">`</span></span>
           <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;<span class="token variable">$value</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
               <span class="token comment"># echo &quot;creating&quot; $value</span>
               <span class="token function">mkdir</span> -p <span class="token variable">$value</span> <span class="token operator">&amp;&amp;</span> <span class="token function">chown</span> -R <span class="token variable">$user</span> <span class="token variable">$value</span>
           <span class="token keyword">fi</span>
       <span class="token keyword">fi</span>
   <span class="token keyword">done</span>
<span class="token punctuation">}</span>
<span class="token function-name function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span> -x <span class="token variable">$nginx</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token number">5</span>
    <span class="token punctuation">[</span> -f <span class="token variable">$NGINX_CONF_FILE</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token number">6</span>
    make_dirs
    <span class="token builtin class-name">echo</span> -n $<span class="token string">&quot;Starting <span class="token variable">$prog</span>: &quot;</span>
    daemon <span class="token variable">$nginx</span> -c <span class="token variable">$NGINX_CONF_FILE</span>
    <span class="token assign-left variable">retval</span><span class="token operator">=</span><span class="token variable">$?</span>
    <span class="token builtin class-name">echo</span>
    <span class="token punctuation">[</span> <span class="token variable">$retval</span> -eq <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">touch</span> <span class="token variable">$lockfile</span>
    <span class="token builtin class-name">return</span> <span class="token variable">$retval</span>
<span class="token punctuation">}</span>
<span class="token function-name function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> -n $<span class="token string">&quot;Stopping <span class="token variable">$prog</span>: &quot;</span>
    killproc <span class="token variable">$prog</span> -QUIT
    <span class="token assign-left variable">retval</span><span class="token operator">=</span><span class="token variable">$?</span>
    <span class="token builtin class-name">echo</span>
    <span class="token punctuation">[</span> <span class="token variable">$retval</span> -eq <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> -f <span class="token variable">$lockfile</span>
    <span class="token builtin class-name">return</span> <span class="token variable">$retval</span>
<span class="token punctuation">}</span>
<span class="token function-name function">restart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    configtest <span class="token operator">||</span> <span class="token builtin class-name">return</span> <span class="token variable">$?</span>
    stop
    <span class="token function">sleep</span> <span class="token number">1</span>
    start
<span class="token punctuation">}</span>
<span class="token function-name function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    configtest <span class="token operator">||</span> <span class="token builtin class-name">return</span> <span class="token variable">$?</span>
    <span class="token builtin class-name">echo</span> -n $<span class="token string">&quot;Reloading <span class="token variable">$prog</span>: &quot;</span>
    killproc <span class="token variable">$nginx</span> -HUP
    <span class="token assign-left variable">RETVAL</span><span class="token operator">=</span><span class="token variable">$?</span>
    <span class="token builtin class-name">echo</span>
<span class="token punctuation">}</span>
<span class="token function-name function">force_reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    restart
<span class="token punctuation">}</span>
<span class="token function-name function">configtest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token variable">$nginx</span> -t -c <span class="token variable">$NGINX_CONF_FILE</span>
<span class="token punctuation">}</span>
<span class="token function-name function">rh_status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    status <span class="token variable">$prog</span>
<span class="token punctuation">}</span>
<span class="token function-name function">rh_status_q</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    rh_status <span class="token operator">&gt;</span>/dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token punctuation">}</span>
<span class="token keyword">case</span> <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token keyword">in</span>
    start<span class="token punctuation">)</span>
        rh_status_q <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span> <span class="token number">0</span>
        <span class="token variable">$1</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    stop<span class="token punctuation">)</span>
        rh_status_q <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token number">0</span>
        <span class="token variable">$1</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    restart<span class="token operator">|</span>configtest<span class="token punctuation">)</span>
        <span class="token variable">$1</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    reload<span class="token punctuation">)</span>
        rh_status_q <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token number">7</span>
        <span class="token variable">$1</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    force-reload<span class="token punctuation">)</span>
        force_reload
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    status<span class="token punctuation">)</span>
        rh_status
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    condrestart<span class="token operator">|</span>try-restart<span class="token punctuation">)</span>
        rh_status_q <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token number">0</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span>
        <span class="token builtin class-name">echo</span> $<span class="token string">&quot;Usage: <span class="token variable">$0</span> {start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest}&quot;</span>
        <span class="token builtin class-name">exit</span> <span class="token number">2</span>
<span class="token keyword">esac</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997395-28574">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="#!/bin/sh
#
# nginx - this script starts and stops the nginx daemon
#
# chkconfig:   - 85 15
# description:  NGINX is an HTTP(S) server, HTTP(S) reverse \
#               proxy and IMAP/POP3 proxy server
# processname: nginx
# config:      /usr/local/nginx/conf/nginx.conf
# config:      /etc/sysconfig/nginx
# pidfile:     /usr/local/nginx/logs/nginx.pid
# Source function library.
. /etc/rc.d/init.d/functions
# Source networking configuration.
. /etc/sysconfig/network
# Check that networking is up.
[ &quot;$NETWORKING&quot; = &quot;no&quot; ] &amp;&amp; exit 0
nginx=&quot;/usr/local/nginx/sbin/nginx&quot;
prog=$(basename $nginx)
NGINX_CONF_FILE=&quot;/usr/local/nginx/conf/nginx.conf&quot;
[ -f /etc/sysconfig/nginx ] &amp;&amp; . /etc/sysconfig/nginx
lockfile=/var/lock/subsys/nginx
make_dirs() {
   # make required directories
   user=`$nginx -V 2&gt;&amp;1 | grep &quot;configure arguments:&quot; | sed &#39;s/[^*]*--user=\([^ ]*\).*/\1/g&#39; -`
   if [ -z &quot;`grep $user /etc/passwd`&quot; ]; then
       useradd -M -s /bin/nologin $user
   fi
   options=`$nginx -V 2&gt;&amp;1 | grep &#39;configure arguments:&#39;`
   for opt in $options; do
       if [ `echo $opt | grep &#39;.*-temp-path&#39;` ]; then
           value=`echo $opt | cut -d &quot;=&quot; -f 2`
           if [ ! -d &quot;$value&quot; ]; then
               # echo &quot;creating&quot; $value
               mkdir -p $value &amp;&amp; chown -R $user $value
           fi
       fi
   done
}
start() {
    [ -x $nginx ] || exit 5
    [ -f $NGINX_CONF_FILE ] || exit 6
    make_dirs
    echo -n &lt;/pre&gt;quot;Starting $prog: &quot;
    daemon $nginx -c $NGINX_CONF_FILE
    retval=$?
    echo
    [ $retval -eq 0 ] &amp;&amp; touch $lockfile
    return $retval
}
stop() {
    echo -n &lt;/pre&gt;quot;Stopping $prog: &quot;
    killproc $prog -QUIT
    retval=$?
    echo
    [ $retval -eq 0 ] &amp;&amp; rm -f $lockfile
    return $retval
}
restart() {
    configtest || return $?
    stop
    sleep 1
    start
}
reload() {
    configtest || return $?
    echo -n &lt;/pre&gt;quot;Reloading $prog: &quot;
    killproc $nginx -HUP
    RETVAL=$?
    echo
}
force_reload() {
    restart
}
configtest() {
  $nginx -t -c $NGINX_CONF_FILE
}
rh_status() {
    status $prog
}
rh_status_q() {
    rh_status &gt;/dev/null 2&gt;&amp;1
}
case &quot;$1&quot; in
    start)
        rh_status_q &amp;&amp; exit 0
        $1
        ;;
    stop)
        rh_status_q || exit 0
        $1
        ;;
    restart|configtest)
        $1
        ;;
    reload)
        rh_status_q || exit 7
        $1
        ;;
    force-reload)
        force_reload
        ;;
    status)
        rh_status
        ;;
    condrestart|try-restart)
        rh_status_q || exit 0
            ;;
    *)
        echo &lt;/pre&gt;quot;Usage: $0 {start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest}&quot;
        exit 2
esac
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997395-28574" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br></div></div><p>添加开机启动：</p><div class="language-bash line-numbers-mode"><pre><code><span class="token comment"># 给予执行权限</span>
<span class="token function">chmod</span> a+x /etc/init.d/nginx

<span class="token comment"># 设置开机启动</span>
<span class="token function">chkconfig</span> nginx on

<span class="token comment"># 启动</span>
systemctl start nginx
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997395-26486">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="# 给予执行权限
chmod a+x /etc/init.d/nginx

# 设置开机启动
chkconfig nginx on

# 启动
systemctl start nginx
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997395-26486" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul><h4 id="ubuntu安装方式"><a class="header-anchor" href="#ubuntu安装方式" aria-hidden="true">#</a> Ubuntu安装方式</h4><ol><li><p>在线方式</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> nginx
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997395-45440">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="sudo apt-get install nginx
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997395-45440" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>源码方式</p><p>安装依赖</p><div class="language-bash line-numbers-mode"><pre><code><span class="token comment"># 安装gcc g++</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> build-essential
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libtool

<span class="token comment"># 安装pcre依赖库（http://www.pcre.org/）</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libpcre3 libpcre3-dev

<span class="token comment"># 安装zlib依赖库（http://www.zlib.net）</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> zlib1g-dev

<span class="token comment"># 安装SSL依赖库（16.04默认已经安装了）</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> openssl
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997396-66803">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="# 安装gcc g++
sudo apt-get install build-essential
sudo apt-get install libtool

# 安装pcre依赖库（http://www.pcre.org/）
sudo apt-get update
sudo apt-get install libpcre3 libpcre3-dev

# 安装zlib依赖库（http://www.zlib.net）
sudo apt-get install zlib1g-dev

# 安装SSL依赖库（16.04默认已经安装了）
sudo apt-get install openssl
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997396-66803" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>下载源码启动:</p><div class="language-bash line-numbers-mode"><pre><code><span class="token comment"># 下载最新版本：</span>
<span class="token comment"># 下面的version可以改为对应的版本</span>
<span class="token comment"># http://nginx.org/download/nginx-1.17.0.tar.gz</span>
<span class="token function">wget</span> -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>.tar.gz

<span class="token comment"># 解压：</span>
<span class="token builtin class-name">cd</span> /tmp/
<span class="token function">tar</span> -zxvf nginx.tar.gz

<span class="token comment"># 进入解压目录：</span>
<span class="token builtin class-name">cd</span> nginx-1.13.6

<span class="token comment"># 配置：</span>
./configure --prefix<span class="token operator">=</span>/usr/local/nginx 

<span class="token comment"># 编译：</span>
<span class="token function">make</span>

<span class="token comment"># 安装：</span>
<span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>

<span class="token comment"># 启动：</span>
<span class="token comment">#注意：-c 指定配置文件的路径，不加的话，nginx会自动加载默认路径的配置文件，可以通过-h查看帮助命令。</span>
<span class="token comment">#查看进程：</span>
<span class="token function">sudo</span> /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf

<span class="token comment"># 查看进程启动状态</span>
<span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> nginx
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997396-69174">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="# 下载最新版本：
# 下面的version可以改为对应的版本
# http://nginx.org/download/nginx-1.17.0.tar.gz
wget -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-&lt;version&gt;.tar.gz

# 解压：
cd /tmp/
tar -zxvf nginx.tar.gz

# 进入解压目录：
cd nginx-1.13.6

# 配置：
./configure --prefix=/usr/local/nginx 

# 编译：
make

# 安装：
sudo make install

# 启动：
#注意：-c 指定配置文件的路径，不加的话，nginx会自动加载默认路径的配置文件，可以通过-h查看帮助命令。
#查看进程：
sudo /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf

# 查看进程启动状态
ps -ef | grep nginx
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997396-69174" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div></li></ol><h3 id="nginx配置及优化"><a class="header-anchor" href="#nginx配置及优化" aria-hidden="true">#</a> Nginx配置及优化</h3><ol><li>配置文件结构</li></ol><div class="language-bash line-numbers-mode"><pre><code><span class="token punctuation">..</span>.              <span class="token comment">#全局块</span>

events <span class="token punctuation">{</span>         <span class="token comment">#events块</span>
   <span class="token punctuation">..</span>.
<span class="token punctuation">}</span>

http      <span class="token comment">#http块</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">..</span>.   <span class="token comment">#http全局块--start</span>
    server        <span class="token comment">#server块</span>
    <span class="token punctuation">{</span> 
        <span class="token punctuation">..</span>.       <span class="token comment">#server全局块</span>
        location <span class="token punctuation">[</span>PATTERN<span class="token punctuation">]</span>   <span class="token comment">#location块</span>
        <span class="token punctuation">{</span>
            <span class="token punctuation">..</span>.
        <span class="token punctuation">}</span>
        location <span class="token punctuation">[</span>PATTERN<span class="token punctuation">]</span> 
        <span class="token punctuation">{</span>
            <span class="token punctuation">..</span>.
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    server
    <span class="token punctuation">{</span>
      <span class="token punctuation">..</span>.
    <span class="token punctuation">}</span>
    <span class="token punctuation">..</span>.     <span class="token comment">#http全局块--end</span>
<span class="token punctuation">}</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997396-97094">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="...              #全局块

events {         #events块
   ...
}

http      #http块
{
    ...   #http全局块--start
    server        #server块
    { 
        ...       #server全局块
        location [PATTERN]   #location块
        {
            ...
        }
        location [PATTERN] 
        {
            ...
        }
    }
    server
    {
      ...
    }
    ...     #http全局块--end
}
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997396-97094" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><ul><li><strong>全局块</strong>：配置影响nginx全局的指令。一般有运行nginx服务器的用户组，nginx进程pid存放路径，日志存放路径，配置文件引入，允许生成worker process数等。</li><li><strong>events块</strong>：配置影响nginx服务器或与用户的网络连接。有每个进程的最大连接数，选取哪种事件驱动模型处理连接请求，是否允许同时接受多个网路连接，开启多个网络连接序列化等。</li><li><strong>http块</strong>：可以嵌套多个server，配置代理，缓存，日志定义等绝大多数功能和第三方模块的配置。如文件引入，mime-type定义，日志自定义，是否使用sendfile传输文件，连接超时时间，单连接请求数等。</li><li><strong>server块</strong>：配置虚拟主机的相关参数，一个http中可以有多个server。</li><li><strong>location块</strong>：配置请求的路由，以及各种页面的处理情况。</li></ul><ol start="2"><li><p>配置优化</p><p>配置文件：</p><div class="language-bash line-numbers-mode"><pre><code>user www-data<span class="token punctuation">;</span>
pid /run/nginx.pid<span class="token punctuation">;</span>

<span class="token comment"># worker_processes用来设置Nginx服务的进程数。推荐是CPU内核数或者内核数的倍数，推荐使用CPU内核数</span>
worker_processes <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token comment"># 默认情况下，Nginx的多个进程有可能跑在某一个CPU或CPU的某一核上，导致Nginx进程使用硬件的资源不均</span>
worker_cpu_affinity 0001 0010 0100 <span class="token number">1000</span><span class="token punctuation">;</span>
<span class="token comment"># 设置一个进程理论允许的最大连接数，理论上越大越好，但不可以超过worker_rlimit_nofile的值</span>
worker_rlimit_nofile <span class="token number">65535</span><span class="token punctuation">;</span>

events <span class="token punctuation">{</span>
				<span class="token comment"># 设置事件驱动模型，是内核2.6以上支持</span>
        use epoll<span class="token punctuation">;</span>
        worker_connections <span class="token number">65535</span><span class="token punctuation">;</span>
        accept_mutex off<span class="token punctuation">;</span>
        multi_accept off<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

http <span class="token punctuation">{</span>
        <span class="token comment">##</span>
        <span class="token comment"># Basic Settings</span>
        <span class="token comment">##</span>
        sendfile on<span class="token punctuation">;</span>
        tcp_nopush on<span class="token punctuation">;</span>
        tcp_nodelay on<span class="token punctuation">;</span>
        keepalive_timeout <span class="token number">60</span> <span class="token number">50</span><span class="token punctuation">;</span>
        send_timeout 10s<span class="token punctuation">;</span>
        types_hash_max_size <span class="token number">2048</span><span class="token punctuation">;</span>
        client_header_buffer_size 4k<span class="token punctuation">;</span>
        client_max_body_size 8m<span class="token punctuation">;</span>
        include /etc/nginx/mime.types<span class="token punctuation">;</span>
        default_type application/octet-stream<span class="token punctuation">;</span>

        <span class="token comment">##</span>
        <span class="token comment"># Logging Settings</span>
        <span class="token comment">##</span>
        access_log /var/log/nginx/access.log<span class="token punctuation">;</span>
        error_log /var/log/nginx/error.log<span class="token punctuation">;</span>

        <span class="token comment">##</span>
        <span class="token comment"># Gzip Settings</span>
        <span class="token comment">##</span>
        <span class="token function">gzip</span> on<span class="token punctuation">;</span>
        gzip_disable <span class="token string">&quot;msie6&quot;</span><span class="token punctuation">;</span>
        gzip_min_length <span class="token number">1024</span><span class="token punctuation">;</span>
        gzip_vary on<span class="token punctuation">;</span>
        gzip_comp_level <span class="token number">2</span><span class="token punctuation">;</span>
        gzip_buffers <span class="token number">32</span> 4k<span class="token punctuation">;</span>
        gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript<span class="token punctuation">;</span>


        <span class="token comment">##</span>
        <span class="token comment"># Virtual Host Configs</span>
        <span class="token comment">##</span>
        include /etc/nginx/conf.d/*.conf<span class="token punctuation">;</span>
        include /etc/nginx/sites-enabled/*<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997396-49138">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="user www-data;
pid /run/nginx.pid;

# worker_processes用来设置Nginx服务的进程数。推荐是CPU内核数或者内核数的倍数，推荐使用CPU内核数
worker_processes 4;
# 默认情况下，Nginx的多个进程有可能跑在某一个CPU或CPU的某一核上，导致Nginx进程使用硬件的资源不均
worker_cpu_affinity 0001 0010 0100 1000;
# 设置一个进程理论允许的最大连接数，理论上越大越好，但不可以超过worker_rlimit_nofile的值
worker_rlimit_nofile 65535;

events {
				# 设置事件驱动模型，是内核2.6以上支持
        use epoll;
        worker_connections 65535;
        accept_mutex off;
        multi_accept off;
}

http {
        ##
        # Basic Settings
        ##
        sendfile on;
        tcp_nopush on;
        tcp_nodelay on;
        keepalive_timeout 60 50;
        send_timeout 10s;
        types_hash_max_size 2048;
        client_header_buffer_size 4k;
        client_max_body_size 8m;
        include /etc/nginx/mime.types;
        default_type application/octet-stream;

        ##
        # Logging Settings
        ##
        access_log /var/log/nginx/access.log;
        error_log /var/log/nginx/error.log;

        ##
        # Gzip Settings
        ##
        gzip on;
        gzip_disable &quot;msie6&quot;;
        gzip_min_length 1024;
        gzip_vary on;
        gzip_comp_level 2;
        gzip_buffers 32 4k;
        gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;


        ##
        # Virtual Host Configs
        ##
        include /etc/nginx/conf.d/*.conf;
        include /etc/nginx/sites-enabled/*;
}
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997396-49138" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div></li></ol><p>nginxs配置说明：</p><ul><li><code>worker_connections</code></li></ul><p>设置一个进程理论允许的最大连接数，理论上越大越好，但不可以超过worker_rlimit_nofile的值。还有个问题，linux系统中有个指令open file resource limit，它设置了进程可以打开的文件句柄数量，可以用下面的指令查看你的linux系统中open file resource limit指令的值，<code>cat /proc/sys/fs/file-max</code><br> 可以将该指令设置为23900251</p><div class="language-bash line-numbers-mode"><pre><code>   <span class="token builtin class-name">echo</span> <span class="token string">&quot;2390251&quot;</span> <span class="token operator">&gt;</span> /proc/sys/fs/file-max
   
   sysctl -p
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997396-25535">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="   echo &quot;2390251&quot; &gt; /proc/sys/fs/file-max
   
   sysctl -p
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997396-25535" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li><p>压测工具Apache ab</p><p>我们要测试 nginx 的负载能力，需要借助压力测试工具。本博客是使用 Apache 服务器自带的一个 web 压力测试工具 ApacheBench ，简称 ab。ab 是一个命令行工具，即通过 <code>ab</code> 命令行，模拟多个请求同时对某一 URL 地址进行访问，因此可以用来测试目标服务器的负载压力。</p><div class="language-bash line-numbers-mode"><pre><code>yum -y <span class="token function">install</span> httpd-tools

<span class="token comment"># 查看安装结果</span>
ab -V

<span class="token comment"># 简单的使用</span>
<span class="token comment"># -c：一次并发请求的数量；-n：请求总次数</span>
ab -c <span class="token number">5000</span> -n <span class="token number">200000</span> http://10.211.55.6：80/index.html
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997396-46178">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="yum -y install httpd-tools

# 查看安装结果
ab -V

# 简单的使用
# -c：一次并发请求的数量；-n：请求总次数
ab -c 5000 -n 200000 http://10.211.55.6：80/index.html
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997396-46178" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>其他优化</p><div class="language-bash line-numbers-mode"><pre><code>net.ipv4.ip_forward <span class="token operator">=</span> <span class="token number">0</span>
net.ipv4.conf.default.rp_filter <span class="token operator">=</span> <span class="token number">1</span>
net.ipv4.conf.default.accept_source_route <span class="token operator">=</span> <span class="token number">0</span>
kernel.sysrq <span class="token operator">=</span> <span class="token number">0</span>
kernel.core_uses_pid <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment"># 开启SYN Cookies，当出现SYN等待队列溢出时，启用cookies来处理。</span>
net.ipv4.tcp_syncookies <span class="token operator">=</span> <span class="token number">1</span>
kernel.msgmnb <span class="token operator">=</span> <span class="token number">65536</span>
kernel.msgmax <span class="token operator">=</span> <span class="token number">65536</span>
kernel.shmmax <span class="token operator">=</span> <span class="token number">68719476736</span>
kernel.shmall <span class="token operator">=</span> <span class="token number">4294967296</span>

<span class="token comment"># timewait的数量，默认是180000</span>
net.ipv4.tcp_max_tw_buckets <span class="token operator">=</span> <span class="token number">6000</span>
net.ipv4.tcp_sack <span class="token operator">=</span> <span class="token number">1</span>
net.ipv4.tcp_window_scaling <span class="token operator">=</span> <span class="token number">1</span>
net.ipv4.tcp_rmem <span class="token operator">=</span> <span class="token number">4096</span>        <span class="token number">87380</span>   <span class="token number">4194304</span>
net.ipv4.tcp_wmem <span class="token operator">=</span> <span class="token number">4096</span>        <span class="token number">16384</span>   <span class="token number">4194304</span>
net.core.wmem_default <span class="token operator">=</span> <span class="token number">8388608</span>
net.core.rmem_default <span class="token operator">=</span> <span class="token number">8388608</span>
net.core.rmem_max <span class="token operator">=</span> <span class="token number">16777216</span>
net.core.wmem_max <span class="token operator">=</span> <span class="token number">16777216</span>

<span class="token comment"># # 每个网络接口接收数据包的速率比内核处理这些包的速率快时，允许送到队列的数据包的最大数目。</span>
net.core.netdev_max_backlog <span class="token operator">=</span> <span class="token number">262144</span>

<span class="token comment"># web应用中listen函数的backlog默认会给我们内核参数的net.core.somaxconn限制到128，而nginx定义 的NGX_LISTEN_BACKLOG默认为511，所以有必要调整这个值</span>
net.core.somaxconn <span class="token operator">=</span> <span class="token number">262144</span>

<span class="token comment"># 系统中最多有多少个TCP套接字不被关联到任何一个用户文件句柄上。如果超过这个数字，孤儿连接将即刻被复位并打印出警告信息。这个限制仅仅 是为了防止简单的DoS攻击，不能过分依靠它或者人为地减小这个值，更应该增加这个值(如果增加了内存之后)。</span>
net.ipv4.tcp_max_orphans <span class="token operator">=</span> <span class="token number">3276800</span>

<span class="token comment"># 记录的那些尚未收到客户端确认信息的连接请求的最大值。对于有128M内存的系统而言，缺省值是1024，小内存的系统则是128。</span>
net.ipv4.tcp_max_syn_backlog <span class="token operator">=</span> <span class="token number">262144</span>

<span class="token comment"># 时间戳可以避免序列号的卷绕。一个1Gbps的链路肯定会遇到以前用过的序列号。时间戳能够让内核接受这种“异常”的数据包。这里需要将其关掉。</span>
net.ipv4.tcp_timestamps <span class="token operator">=</span> <span class="token number">0</span>

<span class="token comment"># 为了打开对端的连接，内核需要发送一个SYN并附带一个回应前面一个SYN的ACK。也就是所谓三次握手中的第二次握手。这个设置决定了内核放弃连接之前发送SYN+ACK包的数量。</span>
net.ipv4.tcp_synack_retries <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment"># 在内核放弃建立连接之前发送SYN包的数量。</span>
net.ipv4.tcp_syn_retries <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment"># 启用timewait快速回收</span>
net.ipv4.tcp_tw_recycle <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment"># 开启重用。允许将TIME-WAIT sockets重新用于新的TCP连接。</span>
net.ipv4.tcp_tw_reuse <span class="token operator">=</span> <span class="token number">1</span>
net.ipv4.tcp_mem <span class="token operator">=</span> <span class="token number">94500000</span> <span class="token number">915000000</span> <span class="token number">927000000</span>

<span class="token comment"># 如果套接字由本端要求关闭，这个参数决定了它保持在FIN-WAIT-2状态的时间。对端可以出错并永远不关闭连接，甚至意外当机。缺省值是60秒。 2.2 内核的通常值是180秒，你可以按这个设置，但要记住的是，即使你的机器是一个轻载的WEB服务器，也有因为大量的死套接字而内存溢出的风险，FIN- WAIT-2的危险性比FIN-WAIT-1要小，因为它最多只能吃掉1.5K内存，但是它们的生存期长些。</span>
net.ipv4.tcp_fin_timeout <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment"># 当keepalive起用的时候，TCP发送keepalive消息的频度。缺省是2小时</span>
net.ipv4.tcp_keepalive_time <span class="token operator">=</span> <span class="token number">30</span>

<span class="token comment"># 允许系统打开的端口范围</span>
net.ipv4.ip_local_port_range <span class="token operator">=</span> <span class="token number">1024</span>   <span class="token number">65000</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997396-6881">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="net.ipv4.ip_forward = 0
net.ipv4.conf.default.rp_filter = 1
net.ipv4.conf.default.accept_source_route = 0
kernel.sysrq = 0
kernel.core_uses_pid = 1

# 开启SYN Cookies，当出现SYN等待队列溢出时，启用cookies来处理。
net.ipv4.tcp_syncookies = 1
kernel.msgmnb = 65536
kernel.msgmax = 65536
kernel.shmmax = 68719476736
kernel.shmall = 4294967296

# timewait的数量，默认是180000
net.ipv4.tcp_max_tw_buckets = 6000
net.ipv4.tcp_sack = 1
net.ipv4.tcp_window_scaling = 1
net.ipv4.tcp_rmem = 4096        87380   4194304
net.ipv4.tcp_wmem = 4096        16384   4194304
net.core.wmem_default = 8388608
net.core.rmem_default = 8388608
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216

# # 每个网络接口接收数据包的速率比内核处理这些包的速率快时，允许送到队列的数据包的最大数目。
net.core.netdev_max_backlog = 262144

# web应用中listen函数的backlog默认会给我们内核参数的net.core.somaxconn限制到128，而nginx定义 的NGX_LISTEN_BACKLOG默认为511，所以有必要调整这个值
net.core.somaxconn = 262144

# 系统中最多有多少个TCP套接字不被关联到任何一个用户文件句柄上。如果超过这个数字，孤儿连接将即刻被复位并打印出警告信息。这个限制仅仅 是为了防止简单的DoS攻击，不能过分依靠它或者人为地减小这个值，更应该增加这个值(如果增加了内存之后)。
net.ipv4.tcp_max_orphans = 3276800

# 记录的那些尚未收到客户端确认信息的连接请求的最大值。对于有128M内存的系统而言，缺省值是1024，小内存的系统则是128。
net.ipv4.tcp_max_syn_backlog = 262144

# 时间戳可以避免序列号的卷绕。一个1Gbps的链路肯定会遇到以前用过的序列号。时间戳能够让内核接受这种“异常”的数据包。这里需要将其关掉。
net.ipv4.tcp_timestamps = 0

# 为了打开对端的连接，内核需要发送一个SYN并附带一个回应前面一个SYN的ACK。也就是所谓三次握手中的第二次握手。这个设置决定了内核放弃连接之前发送SYN+ACK包的数量。
net.ipv4.tcp_synack_retries = 1

# 在内核放弃建立连接之前发送SYN包的数量。
net.ipv4.tcp_syn_retries = 1

# 启用timewait快速回收
net.ipv4.tcp_tw_recycle = 1

# 开启重用。允许将TIME-WAIT sockets重新用于新的TCP连接。
net.ipv4.tcp_tw_reuse = 1
net.ipv4.tcp_mem = 94500000 915000000 927000000

# 如果套接字由本端要求关闭，这个参数决定了它保持在FIN-WAIT-2状态的时间。对端可以出错并永远不关闭连接，甚至意外当机。缺省值是60秒。 2.2 内核的通常值是180秒，你可以按这个设置，但要记住的是，即使你的机器是一个轻载的WEB服务器，也有因为大量的死套接字而内存溢出的风险，FIN- WAIT-2的危险性比FIN-WAIT-1要小，因为它最多只能吃掉1.5K内存，但是它们的生存期长些。
net.ipv4.tcp_fin_timeout = 1

# 当keepalive起用的时候，TCP发送keepalive消息的频度。缺省是2小时
net.ipv4.tcp_keepalive_time = 30

# 允许系统打开的端口范围
net.ipv4.ip_local_port_range = 1024   65000
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997396-6881" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br></div></div></li></ol><h3 id="https"><a class="header-anchor" href="#https" aria-hidden="true">#</a> HTTP(s)</h3><h4 id="httphttps协议"><a class="header-anchor" href="#httphttps协议" aria-hidden="true">#</a> HTTP/HTTPS协议</h4><p><strong>超文本传输协议</strong>（英语：<strong>H</strong>yper<strong>T</strong>ext <strong>T</strong>ransfer <strong>P</strong>rotocol，缩写：<strong>HTTP</strong>）是一种用于分布式、协作式和超媒体信息系统的应用层协议，HTTP是万维网的数据通信的基础。</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145714.png" alt="A basic HTTP request"></p><p>请求信息包括：请求行、请求头、空行还有其他消息体</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145715.png" alt="image-20190605153656594"></p><p>HTTP的特点：</p><ul><li><p>客户端&amp;服务端</p></li><li><p>简单(路径+方法+传递的类型)</p><p>客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快。</p></li><li><p>灵活</p><p>HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type（Content-Type是HTTP包中用来表示内容类型的标识）加以标记。</p></li><li><p>无连接</p><p>无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。</p></li><li><p>无状态有会话</p><p>HTTP协议是无状态协议，无状态是指协议对于事务处理没有记忆能力。</p><p>缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。</p><blockquote><p>注意，HTTP本质是无状态的，使用Cookies可以创建有状态的会话。</p></blockquote></li></ul><p>HTTP 的不足之处</p><ul><li>通信内容使用明文——内容可能被窃听</li><li>不验证通信方的身份——可能遭遇伪装</li><li>无法验证报文的完整性——报文有可能已遭篡改</li></ul><p>HTTPS协议：</p><p><strong>超文本传输安全协议</strong>（英语：<strong>H</strong>yper<strong>T</strong>ext <strong>T</strong>ransfer <strong>P</strong>rotocol <strong>S</strong>ecure，缩写：<strong>HTTPS</strong>；常称为HTTP over TLS、HTTP over SSL或HTTP Secure）是一种通过计算机网络进行安全通信的传输协议。HTTPS经由HTTP进行通信，但利用SSL/TLS来加密数据包。HTTPS开发的主要目的，是提供对网站服务器的身份认证，保护交换数据的隐私与完整性。这个协议由网景公司（Netscape）在1994年首次提出，随后扩展到互联网上。</p><p>主要作用：在不安全的网络上创建一个安全信道。</p><h4 id="https认证原理"><a class="header-anchor" href="#https认证原理" aria-hidden="true">#</a> HTTPS认证原理</h4><p>认证方式：数字证书</p><p>认证机构：数字证书认证机构（Certificate Authority CA），EV SSL（Extended Validation SSL Certificate）证书，OpenSSL自认证。</p><p>证书信任方式：</p><ul><li>操作系统和浏览器内置</li><li>证书颁发机构</li><li>手动指定证书</li></ul><p>SSL握手过程：</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145716.png" alt="SSL"></p><h4 id="如何配置https"><a class="header-anchor" href="#如何配置https" aria-hidden="true">#</a> 如何配置HTTPS</h4><ol><li><p><a href="https://letsencrypt.org/" target="_blank" rel="noopener noreferrer">Let&#39;s Encrypt</a>组织介绍</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145717.png" alt="image-20190605160738126"></p></li><li><p>acme来自动化申请</p><p><a href="https://github.com/Neilpang/acme.sh" target="_blank" rel="noopener noreferrer">https://github.com/Neilpang/acme.sh</a></p><p>前提：需要域名</p></li></ol><p>前置条件：</p><ol><li><p>域名, 配置DNS解析，支持列表见下方</p><p><a href="https://github.com/Neilpang/acme.sh/wiki/dnsapi" target="_blank" rel="noopener noreferrer">https://github.com/Neilpang/acme.sh/wiki/dnsapi</a></p></li><li><p>有<strong>公网IP</strong>的服务器(可选)</p></li><li><p>安装nginx, <a href="http://acme.sh" target="_blank" rel="noopener noreferrer">acme.sh</a></p></li></ol><p>配置过程：</p><ol><li><p><a href="http://xn--nginxacme-zc6n999ikp7i.sh" target="_blank" rel="noopener noreferrer">安装nginx与acme.sh</a></p><p>安装很简单, 一个命令:</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">curl</span>  https://get.acme.sh <span class="token operator">|</span> <span class="token function">sh</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997396-18182">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="curl  https://get.acme.sh | sh
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997396-18182" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>普通用户和 root 用户都可以安装使用. 安装过程进行了以下几步:</p><p>把 <a href="http://acme.sh" target="_blank" rel="noopener noreferrer">acme.sh</a> 安装到你的 <strong>home</strong> 目录下:</p><div class="language-"><pre><code>~/.acme.sh/
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997396-21355">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="~/.acme.sh/
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997396-21355" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>并创建 一个 bash 的 alias, 方便你的使用: <code>alias acme.sh=~/.acme.sh/acme.sh</code></p><p>自动为你创建 cronjob, 每天 0:00 点自动检测所有的证书, 如果快过期了, 需要更新, 则会自动更新证书</p></blockquote><p>使用<code>source</code>命令，使上面的安装生效</p><div class="language-bash line-numbers-mode"><pre><code><span class="token builtin class-name">source</span> ~/.bashrc
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997396-27759">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="source ~/.bashrc
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997396-27759" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>两种方式，激活SSL证书(推荐DNS)</p><ul><li><p><strong>http 方式</strong></p><p>需要在你的网站根目录下放置一个文件, 来验证你的域名所有权,完成验证. 然后就可以生成证书了</p><div class="language-bash line-numbers-mode"><pre><code>acme.sh  --issue  -d mydomain.com -d www.mydomain.com  --webroot  /home/wwwroot/mydomain.com/
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997397-98529">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="acme.sh  --issue  -d mydomain.com -d www.mydomain.com  --webroot  /home/wwwroot/mydomain.com/
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997397-98529" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>只需要指定域名, 并指定域名所在的网站根目录. <strong><a href="http://acme.sh" target="_blank" rel="noopener noreferrer">acme.sh</a></strong> 会全自动的生成验证文件, 并放到网站的根目录, 然后自动完成验证. 最后会聪明的删除验证文件. 整个过程没有任何副作用.</p><p>如果你用的 <strong>apache</strong>服务器, <strong><a href="http://acme.sh" target="_blank" rel="noopener noreferrer">acme.sh</a></strong> 还可以智能的从 <strong>apache</strong>的配置中自动完成验证, 你不需要指定网站根目录:</p><div class="language-bash line-numbers-mode"><pre><code>acme.sh --issue  -d mydomain.com   --apache
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997397-89174">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="acme.sh --issue  -d mydomain.com   --apache
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997397-89174" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果你用的 <strong>nginx</strong>服务器, 或者反代, <strong><a href="http://acme.sh" target="_blank" rel="noopener noreferrer">acme.sh</a></strong> 还可以智能的从 <strong>nginx</strong>的配置中自动完成验证, 你不需要指定网站根目录:</p><div class="language-bash line-numbers-mode"><pre><code>acme.sh --issue  -d mydomain.com   --nginx
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997397-52284">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="acme.sh --issue  -d mydomain.com   --nginx
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997397-52284" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p><strong>dns 方式</strong>(推荐)</p><p>在域名上添加一条 txt 解析记录, 验证域名所有权。</p><p>这种方式的好处是, 你不需要任何服务器, <strong>不需要任何公网 ip, 只需要 dns 的解析记录即可完成验证</strong>. 坏处是，如果不同时配置 Automatic DNS API，使用这种方式 <a href="http://acme.sh" target="_blank" rel="noopener noreferrer">acme.sh</a> 将无法自动更新证书，每次都需要手动再次重新解析验证域名所有权。</p><div class="language-bash line-numbers-mode"><pre><code>acme.sh  --issue  --dns   -d mydomain.com
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997397-60047">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="acme.sh  --issue  --dns   -d mydomain.com
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997397-60047" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后, <strong><a href="http://acme.sh" target="_blank" rel="noopener noreferrer">acme.sh</a></strong> 会生成相应的解析记录显示出来, 你只需要在你的域名管理面板中添加这条 txt 记录即可.</p><p>等待解析完成之后, 重新生成证书:</p><div class="language-"><pre><code>acme.sh  --renew   -d mydomain.com
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997397-86983">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="acme.sh  --renew   -d mydomain.com
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997397-86983" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注意第二次这里用的是 <code>--renew</code></p><p>dns 方式的真正强大之处在于可以使用域名解析商提供的 api 自动添加 txt 记录完成验证.</p><p><strong><a href="http://acme.sh" target="_blank" rel="noopener noreferrer">acme.sh</a></strong> 目前支持 cloudflare, dnspod, cloudxns, godaddy 以及 ovh 等数十种解析商的自动集成.</p><p>以 dnspod 为例, 你需要先登录到 dnspod 账号, 生成你的 api id 和 api key, 都是免费的. 然后:</p><div class="language-"><pre><code>export DP_Id=&quot;1234&quot;

export DP_Key=&quot;sADDsdasdgdsf&quot;

acme.sh   --issue   --dns dns_dp   -d aa.com  -d www.aa.com
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997397-70274">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="export DP_Id=&quot;1234&quot;

export DP_Key=&quot;sADDsdasdgdsf&quot;

acme.sh   --issue   --dns dns_dp   -d aa.com  -d www.aa.com
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997397-70274" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>证书就会自动生成了. 这里给出的 api id 和 api key 会被自动记录下来, 将来你在使用 dnspod api 的时候, 就不需要再次指定了. 直接生成就好了:</p><div class="language-"><pre><code>acme.sh  --issue   -d  mydomain2.com   --dns  dns_dp
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997397-3346">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="acme.sh  --issue   -d  mydomain2.com   --dns  dns_dp
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997397-3346" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li><li><p>配置nginx配置，设置定时任务</p><p>生成dhparam.pem</p><div class="language-shell line-numbers-mode"><pre><code>$ openssl dhparam -out dhparam.pem <span class="token number">2048</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997397-82703">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="$ openssl dhparam -out dhparam.pem 2048
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997397-82703" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>nginx中正确的使用方法是使用 <code>--installcert</code> 命令,并指定目标位置, 然后证书文件会被copy到相应的位置, 例如:</p><div class="language-bash line-numbers-mode"><pre><code>acme.sh  --installcert  -d  <span class="token operator">&lt;</span>domain<span class="token operator">&gt;</span>.com   <span class="token punctuation">\</span>
        --key-file   /etc/nginx/ssl/<span class="token operator">&lt;</span>domain<span class="token operator">&gt;</span>.key <span class="token punctuation">\</span>
        --fullchain-file /etc/nginx/ssl/fullchain.cer <span class="token punctuation">\</span>
        --reloadcmd  <span class="token string">&quot;service nginx force-reload&quot;</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997397-46284">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="acme.sh  --installcert  -d  &lt;domain&gt;.com   \
        --key-file   /etc/nginx/ssl/&lt;domain&gt;.key \
        --fullchain-file /etc/nginx/ssl/fullchain.cer \
        --reloadcmd  &quot;service nginx force-reload&quot;
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997397-46284" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>配置文件：</p><div class="language-bash line-numbers-mode"><pre><code><span class="token comment"># server部分</span>
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span>
    ssl_prefer_server_ciphers on<span class="token punctuation">;</span>
    ssl on<span class="token punctuation">;</span>
    ssl_certificate         /etc/nginx/ssl/fullchain.cer<span class="token punctuation">;</span>
    ssl_certificate_key     /etc/nginx/ssl/<span class="token operator">&lt;</span>domain<span class="token operator">&gt;</span>.key<span class="token punctuation">;</span>
    <span class="token comment"># ssl_dhparam</span>
    ssl_dhparam             /etc/nginx/ssl/dhparam.pem<span class="token punctuation">;</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1629557997397-22197">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="# server部分
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
    ssl_prefer_server_ciphers on;
    ssl on;
    ssl_certificate         /etc/nginx/ssl/fullchain.cer;
    ssl_certificate_key     /etc/nginx/ssl/&lt;domain&gt;.key;
    # ssl_dhparam
    ssl_dhparam             /etc/nginx/ssl/dhparam.pem;
" data-mdic-attach-content="copyright | [artiely]" data-mdic-notify-id="j-notify-1629557997397-22197" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="copy fail" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>对网站的SSL进行检验</p><p>推荐：<a href="https://ssllabs.com/ssltest/analyze.html" target="_blank" rel="noopener noreferrer">https://ssllabs.com/ssltest/analyze.html</a></p></li><li><p>其他需要注意的地方：</p><ul><li>域名备案</li><li>防火墙</li></ul></li></ol><h2 id="云服务器"><a class="header-anchor" href="#云服务器" aria-hidden="true">#</a> 云服务器</h2><h3 id="阿里云ecs"><a class="header-anchor" href="#阿里云ecs" aria-hidden="true">#</a> 阿里云ECS</h3><h4 id="虚拟化技术原理"><a class="header-anchor" href="#虚拟化技术原理" aria-hidden="true">#</a> 虚拟化技术原理</h4><p><strong>虚拟化</strong>：在计算机技术中，虚拟化（技术）或虚拟技术（英语：Virtualization）是一种资源管理技术，是将计算机的各种实体资源（CPU、内存、磁盘空间、网络适配器等），予以抽象、转换后呈现出来并可供分区、组合为一个或多个电脑配置环境。</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145718.png" alt="img"></p><p>主要的目的：降低成本，提高应用兼容性，提高服务可用性，提升资源复用率。</p><p>虚拟化分类：</p><p>主要有全虚拟化和半虚拟化。</p><p>典型的全虚拟化软件有 —— VMWare、Hyper-V、KVM-x86(复杂指令集)。</p><p>典型的半虚拟化软件有——Xen、KVM-PowerPC(简易指令集）</p><p>参考资料：<a href="https://yq.aliyun.com/articles/48867" target="_blank" rel="noopener noreferrer">虚拟化的发展历程和实现原理——图文详解</a>，<a href="http://virtual.51cto.com/art/201803/569228.htm" target="_blank" rel="noopener noreferrer">虚拟化类型</a></p><h4 id="如何选择云服务器"><a class="header-anchor" href="#如何选择云服务器" aria-hidden="true">#</a> 如何选择云服务器</h4><ol><li><p>从硬件</p><p>使用阿里云的工具进行筛选，需要登录，链接：<a href="https://ecs-buy.aliyun.com/instanceTypes" target="_blank" rel="noopener noreferrer">ECS 实例规格可购买地域总览</a></p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145719.jpg" alt="image-20190604221840417"></p></li><li><p>从网络</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145720.png" alt="Explanation"></p><p>云服务器 ECS 的入网带宽和出网带宽皆以服务器角度出发。下表给出了入网带宽和出网带宽的具体内容：</p><table><thead><tr><th style="text-align:left;">带宽类别 （Mbit/s）</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">入网带宽</td><td style="text-align:left;">流入云服务器 ECS 的带宽 从云服务器 ECS 内部下载外部网络资源，或者从客户端 FTP 等方式上传资源到云服务器 ECS 都是入网带宽。</td></tr><tr><td style="text-align:left;">出网带宽</td><td style="text-align:left;">流出云服务器 ECS 的带宽 从云服务器 ECS 对外提供访问，或者从客户端 FTP 等方式下载云服务器 ECS 内部资源都是出网带宽，云服务器 ECS 出网带宽就是购买的带宽值。</td></tr></tbody></table><p>推荐公司使用固定带宽，对于测试用户或者流量比较小的用户使用按量计费带宽。</p><p>举例应用场景：公司网站展示类型(按量计费)，视频(固定带宽)</p><p>后期还可以购买CDN加速，分担静态资源的流量。</p></li><li><p>从地域</p><p>每个地域完全独立。每个可用区完全隔离，但同一个地域内的可用区之间使用低时延链路相连。地域和可用区之间的关系如下图所示。</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145721.png" alt="img"></p><ul><li><p>中国大陆</p><p>一般情况下建议选择和您目标用户所在地域最为接近的数据中心，可以进一步提升用户访问速度。不过，在基础设施、BGP 网络品质、服务质量、云服务器操作使用与配置等方面，阿里云中国大陆地域没有太大区别。BGP 网络可以保证中国大陆全部地域的快速访问。</p></li><li><p>其他国家及地区</p><p>其他国家及地区提供国际带宽，主要面向非中国大陆地区用户。如果您在中国大陆，使用这些地域会有较长的访问延迟，不建议您使用。</p><ul><li>对香港、东南亚有需求的用户，可以选择香港地域、亚太东南 1 地域、亚太东南 3 地域或亚太东南 5 地域。</li><li>对日、韩有需求的用户，可以选择亚太东北 1 地域。</li><li>对印度有需求的用户，可以选择亚太南部 1 地域。</li><li>对澳大利亚地区有需求的用户，可以选择亚太东南 2 地域。</li><li>对美洲有需求用户，可以选择美国地域。</li><li>对欧洲大陆有需求的用户，可以选择欧洲中部 1 地域。</li><li>对中东地区有需求的用户，可以选择中东东部 1 地域。</li></ul></li></ul></li><li><p>从费用</p></li></ol><h4 id="云服务器购买"><a class="header-anchor" href="#云服务器购买" aria-hidden="true">#</a> 云服务器购买</h4><h4 id="认识控制台"><a class="header-anchor" href="#认识控制台" aria-hidden="true">#</a> 认识控制台</h4><h3 id="云数据库rds"><a class="header-anchor" href="#云数据库rds" aria-hidden="true">#</a> 云数据库RDS</h3><h4 id="云数据库介绍"><a class="header-anchor" href="#云数据库介绍" aria-hidden="true">#</a> 云数据库介绍</h4><ol><li><p>基本概念</p><p>阿里云系产品：云数据库RDS（ApsaraDB for RDS，简称RDS）是一种稳定可靠、可弹性伸缩的在线数据库服务。基于飞天分布式系统和全SSD盘高性能存储，支持MySQL、SQL Server、PostgreSQL和PPAS（高度兼容Oracle)引擎，默认部署主备架构且提供了容灾、备份、恢复、监控、迁移等方面的全套解决方案，彻底解决数据库运维的烦恼！</p><p>亚马逊系产品：Amazon Relational Database Service (Amazon RDS) 让您能够在云中轻松设置、操作和扩展关系数据库。它在自动执行耗时的管理任务（如<strong>硬件预置、数据库设置、修补和备份</strong>）的同时，可提供经济实用的可调容量。这使您能够腾出时间专注于应用程序，为它们提供所需的快速性能、高可用性、安全性和兼容性。</p><p>Amazon RDS 在多种类型的数据库实例（针对内存、性能或 I/O 进行了优化的实例）上均可用，并提供六种常用的数据库引擎供您选择，包括 Amazon Aurora、PostgreSQL、MySQL、MariaDB、Oracle Database 和 SQL Server。您可以使用 AWS Database Migration Service <strong>轻松</strong>将您现有的<strong>数据库迁移或复制到 Amazon RDS</strong>。</p></li><li><p>特点：</p><table><thead><tr><th>类型</th><th>特点</th></tr></thead><tbody><tr><td>轻松管理</td><td>GUI页面，从部署到生产数据库</td></tr><tr><td>可扩展</td><td>修改CPU/内存/存储资源</td></tr><tr><td>高可用</td><td>自动备份、快照 、自动主机更换</td></tr><tr><td>速度快</td><td>可选SSD</td></tr><tr><td>安全</td><td>可建立专网，或者连接到使用VPN</td></tr><tr><td>经济</td><td>网络成本、运维成本都低</td></tr></tbody></table></li></ol><p><strong>使用亚马逊的RDS作为演示</strong></p><h4 id="常见rds-mysql购买与操作"><a class="header-anchor" href="#常见rds-mysql购买与操作" aria-hidden="true">#</a> 常见RDS-MySQL购买与操作</h4><ol><li><p>购买地址</p><p>阿里云：<a href="https://cn.aliyun.com/product/rds" target="_blank" rel="noopener noreferrer">https://cn.aliyun.com/product/rds</a></p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145722.jpg" alt="image-20190605084317131"></p><p>亚马逊：<a href="https://aws.amazon.com/cn/rds/" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/cn/rds/</a></p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145723.png" alt="image-20190605084341568"></p></li><li><p>操作面板介绍(以亚马逊为主)</p></li></ol><h4 id="备份与快照"><a class="header-anchor" href="#备份与快照" aria-hidden="true">#</a> 备份与快照</h4><h3 id="负载均衡slb"><a class="header-anchor" href="#负载均衡slb" aria-hidden="true">#</a> 负载均衡SLB</h3><h4 id="什么是负载均衡"><a class="header-anchor" href="#什么是负载均衡" aria-hidden="true">#</a> 什么是负载均衡</h4><p>负载均衡（Server Load Balancer）是对多台云服务器进行流量<strong>分发</strong>的负载均衡服务。负载均衡可以通过流量分发扩展应用系统对外的服务能力，通过消除单点故障提升应用系统的可用性。</p><h4 id="slb功能介绍"><a class="header-anchor" href="#slb功能介绍" aria-hidden="true">#</a> SLB功能介绍</h4><p>负载均衡通过设置虚拟服务地址，将添加的ECS实例虚拟成一个高性能、高可用的应用服务池，并根据转发规则，将来自客户端的请求分发给云服务器池中的ECS实例。</p><p>负载均衡默认检查云服务器池中的ECS实例的健康状态，自动隔离异常状态的ECS实例，消除了单台ECS实例的单点故障，提高了应用的整体服务能力。此外，负载均衡还具备抗DDoS攻击的能力，增强了应用服务的防护能力。</p><p>基本的功能：</p><ol><li><p><strong>调度</strong></p><p><strong>负载均衡支持轮询、加权轮询（WRR）、加权最小连接数（WLC）和一致性哈希（CH）调度算法。</strong></p></li><li><p>健康检查</p><p>负载均衡会检查后端服务器的运行状况。当探测到后端服务器运行状况不佳时，会停止向其发送流量，然后将流量转发给其他正常运行的后端服务器。</p></li><li><p>会话保持</p><p>负载均衡提供会话保持功能。在会话的生命周期内，可以将同一客户端的请求转发到同一台后端服务器上。</p></li><li><p>访问控制</p></li><li><p>高可用</p><p>负载均衡可以将流量转发给多个可用区的后端服务器。并且，负载均衡已经在大部分地域支持了多可用区部署，当主可用区出现故障时，负载均衡可自动切换到备可用区上提供服务。</p><p>业务场景二：</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145724.png" alt="img"></p></li><li><p>安全防护</p><p>结合云盾，可提供5Gbps的防DDoS攻击能力。</p></li><li><p>监控</p></li><li><p>证书管理</p></li><li><p>重定向</p></li><li><p>WS/WSS支持</p></li><li><p>HTTP/2支持</p><p>HTTP/2（Hypertext Transfer Protocol Version 2）是超文本传输协议的第二版，向下兼容HTTP1.X协议版本，同时带来性能的大幅提升。</p></li></ol><h4 id="slb技术架构"><a class="header-anchor" href="#slb技术架构" aria-hidden="true">#</a> SLB技术架构</h4><p><img src="http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/4091/1551152011936_zh-CN.png" alt="img"></p><h4 id="阿里云slb购买与操作"><a class="header-anchor" href="#阿里云slb购买与操作" aria-hidden="true">#</a> 阿里云SLB购买与操作</h4><h2 id="扩展知识"><a class="header-anchor" href="#扩展知识" aria-hidden="true">#</a> 扩展知识</h2><h3 id="域名解析"><a class="header-anchor" href="#域名解析" aria-hidden="true">#</a> 域名解析</h3><h3 id="shell脚本入门"><a class="header-anchor" href="#shell脚本入门" aria-hidden="true">#</a> shell脚本入门</h3><h3 id="vim编辑器入门"><a class="header-anchor" href="#vim编辑器入门" aria-hidden="true">#</a> vim编辑器入门</h3></div></div></div><div class="footer"><div class="follow"><a href="https://github.com/artiely" target="_target" title="github"><i class="icon iconfont"></i></a><a href="https://gitee.com/artiely" target="_target" title="gitee"><i class="icon iconfont"></i></a><a href="https://www.npmjs.com/~artiely" target="_target" title="npm"><i class="icon iconfont"></i></a><a href="mailto:artiely1024@gmail.com" title="gmail"><i class="icon iconfont"></i></a><a href="https://www.youtube.com/channel/UC3U9zfLMepBqyQjlvEVhQDQ?view_as=subscriber" target="_target" title="youtube"><i class="icon iconfont"></i></a><a href="https://www.zhihu.com/people/artiely-19" target="_target" title="zhihu"><i class="icon iconfont"></i></a><a href="https://space.bilibili.com/31432769?spm_id_from=333.33.b_73656375726974794f75744c696e6b.1" target="_target" title="bilibili"><i class="icon iconfont"></i></a></div><p class="footer-copyright"> ©Artiely <span class="time">-2019-2021</span></p></div><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"9c4cbb8a\",\"code_index.md\":\"e2cac647\",\"comment_index.md\":\"f62f9a07\",\"about_index.md\":\"8b060494\",\"timeline_index.md\":\"65792fa5\",\"post_2017_2017-6-10-tcp.md\":\"f3097174\",\"post_2017_2017-6-6-css-1px.md\":\"99c961a5\",\"post_2017_2017-6-6-css-ios-android.md\":\"8722cf5c\",\"post_2017_2017-6-6-css-sticky-footer.md\":\"c83661fd\",\"post_2017_2017-6-6-git.md\":\"b3b4882d\",\"post_2017_2017-6-7-css-mobile-scroll-through.md\":\"5ecd7091\",\"post_2017_2017-6-8-yahoo-rules14.md\":\"2bc9ba3b\",\"post_2017_2017-6-9-form-default-submit.md\":\"317a039a\",\"post_2017_2017-7-4-moment.md\":\"12766297\",\"post_2017_2017-7-7-css-rules.md\":\"16fcd222\",\"post_2017_2017-7-7-js-rules.md\":\"a9e37a92\",\"post_2017_2017-7-7-rules-file.md\":\"1eef21cc\",\"post_2017_2017-7-7-rules-html.md\":\"9a34e92f\",\"post_2018_2018-1-30-centos-setup-nodejs.md\":\"462cdb9d\",\"post_2018_2018-10-10-axios.md\":\"9430b2fb\",\"post_2018_2018-10-10-chrome-dev-tips.md\":\"fc1c7a34\",\"post_2018_2018-10-10-get-post.md\":\"78c3ad41\",\"post_2018_2018-10-10-git-green-pointer.md\":\"96450586\",\"post_2018_2018-10-10-js-bit-operation.md\":\"7fbbcab4\",\"post_2018_2018-10-10-npm-nrm.md\":\"25964696\",\"post_2018_2018-10-10-pm2.md\":\"af426e22\",\"post_2018_2018-10-10-vue-pracel.md\":\"b993216d\",\"post_2018_2018-10-7-node-spider.md\":\"857d597a\",\"post_2018_2018-3-12-nodejs-npm.md\":\"5f2fced5\",\"post_2018_2018-6-26-web-koa-egg.md\":\"fd511fa7\",\"post_2018_2018-6-9-nuxt.md\":\"5133278a\",\"post_2018_2018-7-10-electron-message.md\":\"df1a434b\",\"post_2018_2018-7-10-websocket.md\":\"36433317\",\"post_2018_2018-7-11-electron-nedb.md\":\"69eef357\",\"post_2018_2018-7-11-electron-shortcut-cliboard-nativeimage.md\":\"160bf927\",\"post_2018_2018-7-3-electron-init.md\":\"55dafbf2\",\"post_2018_2018-7-4-electron-base.md\":\"4ffa05a8\",\"post_2018_2018-7-5-electron-model.md\":\"99d0ee88\",\"post_2018_2018-7-6-electron-menu-shortcut.md\":\"3877dff6\",\"post_2018_2018-7-7-electron-main-render.md\":\"49883d99\",\"post_2018_2018-7-8-electron-dialog.md\":\"cea64172\",\"post_2018_2018-7-8-electron-shell-url-webview.md\":\"632ff6c6\",\"post_2018_2018-7-9-electron-ico.md\":\"3f16079e\",\"post_2018_2018-8-7-egg-start.md\":\"917938ad\",\"post_2018_2018-8-8-question.md\":\"48b884ac\",\"post_2018_2018-8-8-vue-rules.md\":\"4d190a9b\",\"post_2018_2018-9-7-js.md\":\"1c72ef9b\",\"tags_index.md\":\"327e5493\",\"post_2019_2019-10-27-node-pm2.md\":\"9bf51a37\",\"post_2019_2019-10-3-alinode.md\":\"288fe20f\",\"post_2019_2019-11-16-nodejs-api.md\":\"f0f4855f\",\"post_2019_2019-4-15-nodejs-tcp-udp-h2.md\":\"84ad74a8\",\"post_2019_2019-4-16-vue-cli3+to-plugin.md\":\"d5a631c4\",\"post_2019_2019-4-3-sentry-sourcemap.md\":\"f64f3133\",\"post_2019_2019-4-3-vuepress-theme.md\":\"aadb5a32\",\"post_2019_2019-5-5-restful-graphql.md\":\"2f92dc34\",\"post_2019_2019-6-1-linux.md\":\"d4d0e779\",\"post_2019_2019-6-12-deploy.md\":\"a48e1e27\",\"post_2019_2019-6-19-fontend-performance-optimization.md\":\"2ed632f9\",\"post_2019_2019-6-27-eslint-test.md\":\"db9e0ea5\",\"post_2019_2019-6-4-docker.md\":\"e662a2af\",\"post_2019_2019-6-4-nodejs-events.md\":\"80c06156\",\"post_2019_2019-6-6-css-fixedleft-autoright.md\":\"e084b81c\",\"post_2019_2019-6-6-vue-observable.md\":\"86b73e8e\",\"post_2019_2019-7-13-automated-testing.md\":\"09bf2db1\",\"post_2019_2019-7-6-android-studio-flutter-shortcut.md\":\"1f5cf5ff\",\"post_2019_2019-7-6-dart-flutter-conf.md\":\"c5adc038\",\"post_2019_2019-8-14-nosql.md\":\"6ac4bdf9\",\"post_2021_2021-1-3-puppeteer.md\":\"83ca78b1\",\"post_2021_2021-2-23-proxy.md\":\"4689cc77\",\"post_2021_2021-3-18-appleid.md\":\"11bca294\",\"post_2021_2021-6-15-mini.md\":\"0a73df2a\",\"post_2021_2021-7-23-pixijs.md\":\"087f3a60\",\"post_2021_2021-8-15-resize-observer.md\":\"c07759f7\",\"post_2021_2021-8-16-min-share.md\":\"1788e49f\",\"post_2020_2020-12-31-css.md\":\"15c1ea52\",\"post_2020_2020-3-16-chrome-plugin.md\":\"310dce5f\",\"post_2020_2020-3-16-vscode-plugin.md\":\"4a45a823\",\"post_2020_2020-3-16-windows-plugin.md\":\"3e56b4e0\",\"post_2020_2020-3-18-electron-mirror-down.md\":\"d923a2a1\",\"post_2020_2020-3-18-electron-updater.md\":\"8e3021de\",\"post_2020_2020-3-19-timer.js.md\":\"c16a77da\",\"post_2020_2020-3-20-antd-vue-pro.md\":\"5fbce157\",\"post_2020_2020-3-20-js-how-to-work.md\":\"6bbe1f7b\",\"post_2020_2020-3-29-vuepress-plugin.md\":\"db191ff1\",\"post_2020_2020-3-31-shituzhengmei.md\":\"2008b4d6\",\"post_2020_2020-4-1-plupload.md\":\"23cf540b\",\"post_2020_2020-4-2-cmder.md\":\"462d53db\",\"post_2020_2020-4-29-vue-hook-lifecycle.md\":\"3b8da007\",\"post_2020_2020-4-4-yiqin.md\":\"c5c02598\",\"post_2020_2020-4-6-plop.md\":\"2e7dbcd2\",\"post_2020_2020-5-22-ali-oss.md\":\"706bb3dd\",\"post_2020_2020-5-29-axios.md\":\"259f6b15\",\"post_2020_2020-6-12-icon.md\":\"501ceb18\",\"post_2020_2020-6-20-limit-chars.md\":\"e2e71619\",\"post_2020_2020-6-23-charslimit.md\":\"4a0ba0fc\",\"post_2020_2020-6-25-custom-event.md\":\"bfd1bcf3\",\"post_2020_2020-6-25-photo.md\":\"f76c87ce\",\"post_2020_2020-6-29-component.md\":\"29aafcf6\",\"post_2020_2020-6-5-01-vue-cli.md\":\"5147397a\",\"post_2020_2020-6-5-02-vue-dir.md\":\"baae8bf6\",\"post_2020_2020-6-5-03-vue-config.md\":\"15a391f0\",\"post_2020_2020-6-5-04-vue.webpack.md\":\"47568c64\",\"post_2020_2020-6-5-05-env-mode.md\":\"7adba4cf\",\"post_2020_2020-6-5-06-local-preview.md\":\"0ee33aaa\",\"post_2020_2020-6-9-01-plugin.md\":\"55f9eb8d\",\"post_2020_2020-7-1-vue-api.md\":\"7f076787\",\"post_2020_2020-7-1-vuex-api.md\":\"07f9dee0\",\"post_2020_2020-7-13-madel.md\":\"4c1a07cf\",\"post_2020_2020-7-14-share.md\":\"922d2f73\",\"post_2020_2020-7-21-taro.md\":\"db1b6393\",\"post_2020_2020-7-23-temp.md\":\"e381ddcb\",\"post_2020_2020-7-9-thks-js.md\":\"05b6b915\",\"post_2020_2020-8-17.md\":\"0cb9026c\",\"post_2020_2020-8-27-frontend-css1.md\":\"97a8a6ba\",\"post_2020_2020-8-28-frontend-css2.md\":\"ddbec19e\",\"post_2020_2020-8-29-frontend-js1.md\":\"9611eccf\",\"post_2020_2020-8-29-frontend-js2.md\":\"8554d168\",\"post_2020_2020-8-29-frontend-js3.md\":\"f9031f99\",\"post_2020_2020-8-30-frontend-brower1.md\":\"e278fc38\",\"post_2020_2020-8-30-frontend-brower2.md\":\"6c9192b1\",\"post_2020_2020-8-31-frontend-brower3.md\":\"73ecc99d\",\"post_2020_2020-8-31-frontend-brower4.md\":\"36abf36f\",\"post_2020_2020-9-1-fw.md\":\"1097ed0e\",\"post_2020_2020-9-1-fw2.md\":\"0a2181be\",\"post_2020_2020-9-15-js-arr.md\":\"6f474a04\",\"post_2020_2020-9-2-proxy.md\":\"b61ef5ab\",\"post_2020_2020-9-24-interview.md\":\"cf0b1b13\",\"post_2020_2020-9-3-brower.md\":\"5e5a254b\",\"post_2020_2020-9-5-what-happens.md\":\"2052d068\",\"post_2020_2020-9-7-recursive.md\":\"df30bb82\"}")</script>
    <script type="module" async src="/vitepress-blog/assets/app.746f22cf.js"></script>
  </body>
</html>