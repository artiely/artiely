import{o as n,c as s,a,x as t}from"./app.746f22cf.js";const e='{"title":"小程序分享","description":"","frontmatter":{"title":"小程序分享","tag":["js","mini"],"author":"Artiely","date":"2021-8-16","cover":"https://gitee.com/artiely/Figure-bed/raw/master/20210816192452.png","base64":"fafafa"},"relativePath":"post/2021/2021-8-16-min-share.md","lastUpdated":1629113106983}',o={},c=a("h1",{id:"小程序分享"},[a("a",{class:"header-anchor",href:"#小程序分享","aria-hidden":"true"},"#"),t(" 小程序分享")],-1),p=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"/**\n * 分享包装\n * useHandleShare(params,callback)\n * params={\n *  title:string\n *  imageUrl:string\n *  path:string\n *  cb:fn\n *  query:{} 参数\n * }\n */"),t("\n"),a("span",{class:"token keyword"},"import"),t(),a("span",{class:"token punctuation"},"{"),t("urlStringify"),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'@/libs/tools'"),t("\n"),a("span",{class:"token keyword"},"import"),t(" Taro"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token punctuation"},"{"),t(" useShareAppMessage "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},'"@tarojs/taro"'),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token keyword"},"import"),t(" Aes "),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},'"@/libs/aes"'),a("span",{class:"token punctuation"},";"),t("\n\n"),a("span",{class:"token keyword"},"export"),t(),a("span",{class:"token keyword"},"default"),t(),a("span",{class:"token keyword"},"function"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("params"),a("span",{class:"token punctuation"},","),t(" cb")]),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token function"},"useShareAppMessage"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"props"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("props"),a("span",{class:"token punctuation"},"."),t("from "),a("span",{class:"token operator"},"==="),t(),a("span",{class:"token string"},'"button"'),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token punctuation"},"}"),t("\n    "),a("span",{class:"token keyword"},"let"),t(" _path "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token template-string"},[a("span",{class:"token template-punctuation string"},"`"),a("span",{class:"token interpolation"},[a("span",{class:"token interpolation-punctuation punctuation"},"${"),a("span",{class:"token function"},"urlStringify"),a("span",{class:"token punctuation"},"("),t("\n      params"),a("span",{class:"token punctuation"},"."),t("path "),a("span",{class:"token operator"},"||"),t(),a("span",{class:"token string"},'"/pages/index/index"'),a("span",{class:"token punctuation"},","),t("\n      params"),a("span",{class:"token punctuation"},"."),t("query "),a("span",{class:"token operator"},"||"),t(),a("span",{class:"token punctuation"},"{"),a("span",{class:"token punctuation"},"}"),t("\n    "),a("span",{class:"token punctuation"},")"),a("span",{class:"token interpolation-punctuation punctuation"},"}")]),a("span",{class:"token interpolation"},[a("span",{class:"token interpolation-punctuation punctuation"},"${"),t("Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"keys"),a("span",{class:"token punctuation"},"("),t("params"),a("span",{class:"token punctuation"},"."),t("query"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"."),t("length "),a("span",{class:"token operator"},"?"),t(),a("span",{class:"token string"},'"&"'),t(),a("span",{class:"token operator"},":"),t(),a("span",{class:"token string"},'"?"'),a("span",{class:"token interpolation-punctuation punctuation"},"}")]),a("span",{class:"token string"},"cb="),a("span",{class:"token interpolation"},[a("span",{class:"token interpolation-punctuation punctuation"},"${"),t("Aes"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"encrypt"),a("span",{class:"token punctuation"},"("),t("\n      params"),a("span",{class:"token punctuation"},"."),t("cb\n    "),a("span",{class:"token punctuation"},")"),a("span",{class:"token interpolation-punctuation punctuation"},"}")]),a("span",{class:"token template-punctuation string"},"`")]),a("span",{class:"token punctuation"},";"),t("\n    cb "),a("span",{class:"token operator"},"&&"),t(),a("span",{class:"token function"},"cb"),a("span",{class:"token punctuation"},"("),t("props"),a("span",{class:"token punctuation"},","),t("params"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n    "),a("span",{class:"token keyword"},"return"),t(),a("span",{class:"token punctuation"},"{"),t("\n      title"),a("span",{class:"token operator"},":"),t(" params"),a("span",{class:"token punctuation"},"."),t("title"),a("span",{class:"token punctuation"},","),t("\n      path"),a("span",{class:"token operator"},":"),t(" _path"),a("span",{class:"token punctuation"},","),t("\n      imageUrl"),a("span",{class:"token operator"},":"),t(" params"),a("span",{class:"token punctuation"},"."),t("imageUrl"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),t("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n  "),a("span",{class:"token keyword"},"return"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558006903-62368"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'/**\n * 分享包装\n * useHandleShare(params,callback)\n * params={\n *  title:string\n *  imageUrl:string\n *  path:string\n *  cb:fn\n *  query:{} 参数\n * }\n */\nimport {urlStringify} from \'@/libs/tools\'\nimport Taro, { useShareAppMessage } from "@tarojs/taro";\nimport Aes from "@/libs/aes";\n\nexport default function(params, cb) {\n  useShareAppMessage((props) => {\n    if (props.from === "button") {\n    }\n    let _path = `${urlStringify(\n      params.path || "/pages/index/index",\n      params.query || {}\n    )}${Object.keys(params.query).length ? "&" : "?"}cb=${Aes.encrypt(\n      params.cb\n    )}`;\n    cb && cb(props,params);\n    return {\n      title: params.title,\n      path: _path,\n      imageUrl: params.imageUrl,\n    };\n  });\n  return;\n}\n\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558006903-62368","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br"),a("span",{class:"line-number"},"27"),a("br"),a("span",{class:"line-number"},"28"),a("br"),a("span",{class:"line-number"},"29"),a("br"),a("span",{class:"line-number"},"30"),a("br"),a("span",{class:"line-number"},"31"),a("br"),a("span",{class:"line-number"},"32"),a("br"),a("span",{class:"line-number"},"33"),a("br"),a("span",{class:"line-number"},"34"),a("br"),a("span",{class:"line-number"},"35"),a("br")])],-1),l=a("h1",{id:"解析分享"},[a("a",{class:"header-anchor",href:"#解析分享","aria-hidden":"true"},"#"),t(" 解析分享")],-1),r=a("p",null,[t("入口文件"),a("code",null,"App.js"),t(" 调用")],-1),i=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"/**\n * 分享逻辑解析\n * 解密密文并执行\n * 密文为对应的分享回调处理逻辑函数\n *\n */"),t("\n"),a("span",{class:"token keyword"},"import"),t(" Taro"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token punctuation"},"{"),t(" useEffect"),a("span",{class:"token punctuation"},","),t(" useRef"),a("span",{class:"token punctuation"},","),t(" useRouter "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},'"@tarojs/taro"'),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token keyword"},"import"),t(),a("span",{class:"token punctuation"},"{"),t(" Interpreter "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},'"eval5"'),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token keyword"},"import"),t(" AppNavigator "),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},'"@/libs/appNavigator"'),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token keyword"},"import"),t(" Aes "),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},'"@/libs/aes"'),a("span",{class:"token punctuation"},";"),t("\n\n"),a("span",{class:"token keyword"},"export"),t(),a("span",{class:"token keyword"},"default"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token punctuation"},"{"),t(" params "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"useRouter"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n  "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token operator"},"!"),t("params"),a("span",{class:"token punctuation"},"."),t("cb"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token keyword"},"return"),a("span",{class:"token punctuation"},";"),t("\n  "),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token punctuation"},"{"),t(" current"),a("span",{class:"token operator"},":"),t(" context "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"useRef"),a("span",{class:"token punctuation"},"("),t("Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"create"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"null"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n  "),a("span",{class:"token function"},"useEffect"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token comment"},"// 基本方法注入"),t("\n    "),a("span",{class:"token keyword"},"const"),t(" rootContext "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"{"),t("\n      console"),a("span",{class:"token punctuation"},","),t("\n      AppNavigator"),a("span",{class:"token punctuation"},","),t("\n      Taro"),a("span",{class:"token punctuation"},","),t("\n      console"),a("span",{class:"token punctuation"},","),t("\n      setTimeout"),a("span",{class:"token punctuation"},","),t("\n      clearTimeout"),a("span",{class:"token punctuation"},","),t("\n      setInterval"),a("span",{class:"token punctuation"},","),t("\n      clearInterval"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),t("\n    "),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token constant"},"SCRIPT_EXEC_TIMEOUT"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},";"),t("\n    "),a("span",{class:"token keyword"},"const"),t(" interpreter "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"Interpreter"),a("span",{class:"token punctuation"},"("),t("context"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token punctuation"},"{"),t("\n      timeout"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token constant"},"SCRIPT_EXEC_TIMEOUT"),a("span",{class:"token punctuation"},","),t("\n      rootContext"),a("span",{class:"token operator"},":"),t(" rootContext"),a("span",{class:"token punctuation"},","),t("\n      globalContextInFunction"),a("span",{class:"token operator"},":"),t(" context"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n\n    "),a("span",{class:"token keyword"},"let"),t(" originalText "),a("span",{class:"token operator"},"="),t(" Aes"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"decrypt"),a("span",{class:"token punctuation"},"("),t("params"),a("span",{class:"token punctuation"},"."),t("cb"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n    "),a("span",{class:"token keyword"},"try"),t(),a("span",{class:"token punctuation"},"{"),t("\n      interpreter"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"evaluate"),a("span",{class:"token punctuation"},"("),t("originalText"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n    "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"catch"),t(),a("span",{class:"token punctuation"},"("),t("error"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"error"),a("span",{class:"token punctuation"},"("),t("\n        "),a("span",{class:"token string"},'"🚀 ~ file: useHandleShare.js ~ line 46 ~ useEffect ~ error"'),a("span",{class:"token punctuation"},","),t("\n        error\n      "),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n    "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n\n  "),a("span",{class:"token keyword"},"return"),t(),a("span",{class:"token punctuation"},"{"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),t("\n\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558006904-12289"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'/**\n * 分享逻辑解析\n * 解密密文并执行\n * 密文为对应的分享回调处理逻辑函数\n *\n */\nimport Taro, { useEffect, useRef, useRouter } from "@tarojs/taro";\nimport { Interpreter } from "eval5";\nimport AppNavigator from "@/libs/appNavigator";\nimport Aes from "@/libs/aes";\n\nexport default () => {\n  const { params } = useRouter();\n  if (!params.cb) return;\n  const { current: context } = useRef(Object.create(null));\n  useEffect(() => {\n    // 基本方法注入\n    const rootContext = {\n      console,\n      AppNavigator,\n      Taro,\n      console,\n      setTimeout,\n      clearTimeout,\n      setInterval,\n      clearInterval,\n    };\n    const SCRIPT_EXEC_TIMEOUT = 0;\n    const interpreter = new Interpreter(context, {\n      timeout: SCRIPT_EXEC_TIMEOUT,\n      rootContext: rootContext,\n      globalContextInFunction: context,\n    });\n\n    let originalText = Aes.decrypt(params.cb);\n    try {\n      interpreter.evaluate(originalText);\n    } catch (error) {\n      console.error(\n        "🚀 ~ file: useHandleShare.js ~ line 46 ~ useEffect ~ error",\n        error\n      );\n    }\n  }, []);\n\n  return {};\n};\n\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558006904-12289","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br"),a("span",{class:"line-number"},"27"),a("br"),a("span",{class:"line-number"},"28"),a("br"),a("span",{class:"line-number"},"29"),a("br"),a("span",{class:"line-number"},"30"),a("br"),a("span",{class:"line-number"},"31"),a("br"),a("span",{class:"line-number"},"32"),a("br"),a("span",{class:"line-number"},"33"),a("br"),a("span",{class:"line-number"},"34"),a("br"),a("span",{class:"line-number"},"35"),a("br"),a("span",{class:"line-number"},"36"),a("br"),a("span",{class:"line-number"},"37"),a("br"),a("span",{class:"line-number"},"38"),a("br"),a("span",{class:"line-number"},"39"),a("br"),a("span",{class:"line-number"},"40"),a("br"),a("span",{class:"line-number"},"41"),a("br"),a("span",{class:"line-number"},"42"),a("br"),a("span",{class:"line-number"},"43"),a("br"),a("span",{class:"line-number"},"44"),a("br"),a("span",{class:"line-number"},"45"),a("br"),a("span",{class:"line-number"},"46"),a("br"),a("span",{class:"line-number"},"47"),a("br"),a("span",{class:"line-number"},"48"),a("br")])],-1),u=a("h1",{id:"使用"},[a("a",{class:"header-anchor",href:"#使用","aria-hidden":"true"},"#"),t(" 使用")],-1),k=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"import"),t(" useShare "),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'./useShareAppMessage'"),t("\n"),a("span",{class:"token keyword"},"const"),t(" callback"),a("span",{class:"token operator"},"="),a("span",{class:"token template-string"},[a("span",{class:"token template-punctuation string"},"`"),a("span",{class:"token string"},"(props,params) =>{\n  AppNavigator.push('/pages/detail',params.query)\n}"),a("span",{class:"token template-punctuation string"},"`")]),t("\n"),a("span",{class:"token function"},"useShare"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t("\n  title"),a("span",{class:"token operator"},":"),a("span",{class:"token string"},"'分享'"),t("\n   imageUrl"),a("span",{class:"token operator"},":"),a("span",{class:"token string"},"'share.png'"),t("\n   path"),a("span",{class:"token operator"},":"),a("span",{class:"token string"},"'pages/index'"),t("\n   cb"),a("span",{class:"token operator"},":"),t("callback\n   query"),a("span",{class:"token operator"},":"),a("span",{class:"token punctuation"},"{"),t("\n     id"),a("span",{class:"token operator"},":"),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},","),t(" uid"),a("span",{class:"token operator"},":"),a("span",{class:"token number"},"1"),t("\n   "),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558006904-9897"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"import useShare from './useShareAppMessage'\nconst callback=`(props,params) =>{\n  AppNavigator.push('/pages/detail',params.query)\n}`\nuseShare({\n  title:'分享'\n   imageUrl:'share.png'\n   path:'pages/index'\n   cb:callback\n   query:{\n     id:1, uid:1\n   }\n})\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558006904-9897","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br")])],-1);o.render=function(a,t,e,o,m,b){return n(),s("div",null,[c,p,l,r,i,u,k])};export default o;export{e as __pageData};
