import{o as n,c as t,a as e,x as a,t as s}from"./app.746f22cf.js";const c='{"title":"移动端1px解决方案","description":"","frontmatter":{"title":"移动端1px解决方案","tag":["css"],"author":"Artiely","date":"2017-6-6","cover":"https://gitee.com/artiely/Figure-bed/raw/master/images/20200315173001.png","base64":"3a4953"},"headers":[{"level":2,"title":"1.用小数来写px值","slug":"1用小数来写px值"},{"level":2,"title":"2.border-image","slug":"2border-image"},{"level":2,"title":"3. background渐变","slug":"3-background渐变"},{"level":2,"title":"4. :before, :after与transform","slug":"4-before-after与transform"},{"level":2,"title":"5. flexible.js","slug":"5-flexiblejs"},{"level":2,"title":"主观","slug":"主观"}],"relativePath":"post/2017/2017-6-6-css-1px.md","lastUpdated":1629109028197}',o={},i=e("h1",{id:"移动端1px解决方案"},[e("a",{class:"header-anchor",href:"#移动端1px解决方案","aria-hidden":"true"},"#"),a(" 移动端1px解决方案")],-1),l=e("h2",{id:"1用小数来写px值"},[e("a",{class:"header-anchor",href:"#1用小数来写px值","aria-hidden":"true"},"#"),a(" 1.用小数来写px值")],-1),p=e("p",null,"IOS8以上已经支持带小数的px值, media query对应devicePixelRatio有个查询值-webkit-min-device-pixel-ratio, css可以写成这样",-1),r=e("div",{class:"language-css line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token selector"},".border"),a(),e("span",{class:"token punctuation"},"{"),a(),e("span",{class:"token property"},"border"),e("span",{class:"token punctuation"},":"),a(" 1px solid #999 "),e("span",{class:"token punctuation"},"}"),a("\n"),e("span",{class:"token atrule"},[e("span",{class:"token rule"},"@media"),a(" screen "),e("span",{class:"token keyword"},"and"),a(),e("span",{class:"token punctuation"},"("),e("span",{class:"token property"},"-webkit-min-device-pixel-ratio"),e("span",{class:"token punctuation"},":"),a(" 2"),e("span",{class:"token punctuation"},")")]),a(),e("span",{class:"token punctuation"},"{"),a("\n    "),e("span",{class:"token selector"},".border"),a(),e("span",{class:"token punctuation"},"{"),a(),e("span",{class:"token property"},"border"),e("span",{class:"token punctuation"},":"),a(" 0.5px solid #999 "),e("span",{class:"token punctuation"},"}"),a("\n"),e("span",{class:"token punctuation"},"}"),a("\n"),e("span",{class:"token atrule"},[e("span",{class:"token rule"},"@media"),a(" screen "),e("span",{class:"token keyword"},"and"),a(),e("span",{class:"token punctuation"},"("),e("span",{class:"token property"},"-webkit-min-device-pixel-ratio"),e("span",{class:"token punctuation"},":"),a(" 3"),e("span",{class:"token punctuation"},")")]),a(),e("span",{class:"token punctuation"},"{"),a("\n    "),e("span",{class:"token selector"},".border"),a(),e("span",{class:"token punctuation"},"{"),a(),e("span",{class:"token property"},"border"),e("span",{class:"token punctuation"},":"),a(" 0.333333px solid #999 "),e("span",{class:"token punctuation"},"}"),a("\n"),e("span",{class:"token punctuation"},"}"),a("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557986052-76011"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":".border { border: 1px solid #999 }\n@media screen and (-webkit-min-device-pixel-ratio: 2) {\n    .border { border: 0.5px solid #999 }\n}\n@media screen and (-webkit-min-device-pixel-ratio: 3) {\n    .border { border: 0.333333px solid #999 }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557986052-76011","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br")])],-1),d=e("p",null,"如果使用less/sass的话只是加了1句mixin",-1),u=e("blockquote",null,[e("p",null,"缺点: 安卓与低版本IOS不适用, 这个或许是未来的标准写法, 现在不做指望")],-1),m=e("h2",{id:"2border-image"},[e("a",{class:"header-anchor",href:"#2border-image","aria-hidden":"true"},"#"),a(" 2.border-image")],-1),b=e("p",null,[e("img",{src:"https://gitee.com/artiely/Figure-bed/raw/master/images/20200313221708.png",alt:""}),e("br"),a(" 这样的1张6X6的图片, 9宫格等分填充border-image, 这样元素的4个边框宽度都只有1px")],-1),y=e("div",{class:"language-css line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token atrule"},[e("span",{class:"token rule"},"@media"),a(" screen "),e("span",{class:"token keyword"},"and"),a(),e("span",{class:"token punctuation"},"("),e("span",{class:"token property"},"-webkit-min-device-pixel-ratio"),e("span",{class:"token punctuation"},":"),a(" 2"),e("span",{class:"token punctuation"},")")]),e("span",{class:"token punctuation"},"{"),a(" \n    "),e("span",{class:"token selector"},".border"),e("span",{class:"token punctuation"},"{"),a(" \n        "),e("span",{class:"token property"},"border"),e("span",{class:"token punctuation"},":"),a(" 1px solid transparent"),e("span",{class:"token punctuation"},";"),a("\n        "),e("span",{class:"token property"},"border-image"),e("span",{class:"token punctuation"},":"),a(),e("span",{class:"token url"},[e("span",{class:"token function"},"url"),e("span",{class:"token punctuation"},"("),a("border.gif"),e("span",{class:"token punctuation"},")")]),a(" 2 repeat"),e("span",{class:"token punctuation"},";"),a("\n    "),e("span",{class:"token punctuation"},"}"),a("\n"),e("span",{class:"token punctuation"},"}"),a("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557986056-15306"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"@media screen and (-webkit-min-device-pixel-ratio: 2){ \n    .border{ \n        border: 1px solid transparent;\n        border-image: url(border.gif) 2 repeat;\n    }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557986056-15306","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br")])],-1),k=e("p",null,"图片可以用gif, png, base64多种格式, 以上是上下左右四条边框的写法, 需要单一边框只要定义单一边框的border, 代码比较直观.",-1),f=e("blockquote",null,[e("p",null,"缺点: 对于圆角样式, 将图片放大修改成圆角也能满足需求, 但这样无形中增加了border的宽度存在多种边框颜色或者更改的时候麻烦")],-1),h=e("h2",{id:"3-background渐变"},[e("a",{class:"header-anchor",href:"#3-background渐变","aria-hidden":"true"},"#"),a(" 3. background渐变")],-1),x=e("p",null,"背景渐变, 渐变在透明色和边框色中间分割, frozenUI用的就是这种方法, 借用它的上边框写法:",-1),v=e("div",{class:"language-css line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token atrule"},[e("span",{class:"token rule"},"@media"),a(" screen "),e("span",{class:"token keyword"},"and"),a(),e("span",{class:"token punctuation"},"("),e("span",{class:"token property"},"-webkit-min-device-pixel-ratio"),e("span",{class:"token punctuation"},":"),a(" 2"),e("span",{class:"token punctuation"},")")]),e("span",{class:"token punctuation"},"{"),a("\n    "),e("span",{class:"token selector"},".ui-border-t"),a(),e("span",{class:"token punctuation"},"{"),a("\n        "),e("span",{class:"token property"},"background-position"),e("span",{class:"token punctuation"},":"),a(" left top"),e("span",{class:"token punctuation"},";"),a("\n        "),e("span",{class:"token property"},"background-image"),e("span",{class:"token punctuation"},":"),a(),e("span",{class:"token function"},"-webkit-gradient"),e("span",{class:"token punctuation"},"("),a("linear"),e("span",{class:"token punctuation"},","),a("left bottom"),e("span",{class:"token punctuation"},","),a("left top"),e("span",{class:"token punctuation"},","),e("span",{class:"token function"},"color-stop"),e("span",{class:"token punctuation"},"("),a("0.5"),e("span",{class:"token punctuation"},","),a("transparent"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},","),e("span",{class:"token function"},"color-stop"),e("span",{class:"token punctuation"},"("),a("0.5"),e("span",{class:"token punctuation"},","),a("#e0e0e0"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},","),e("span",{class:"token function"},"to"),e("span",{class:"token punctuation"},"("),a("#e0e0e0"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),a("\n    "),e("span",{class:"token punctuation"},"}"),a("\n"),e("span",{class:"token punctuation"},"}"),a("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557986056-89318"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"@media screen and (-webkit-min-device-pixel-ratio: 2){\n    .ui-border-t {\n        background-position: left top;\n        background-image: -webkit-gradient(linear,left bottom,left top,color-stop(0.5,transparent),color-stop(0.5,#e0e0e0),to(#e0e0e0));\n    }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557986056-89318","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br")])],-1),g=e("p",null,"这样更改颜色比border-image方便, 兼容性",-1),w=e("blockquote",null,[e("p",null,"缺点: 代码量大, 而且需要针对不同边框结构, frozenUI就定义9种基本样式而且这只是背景, 这样做出来的边框实际是在原本的border空间内部的, 如果元素背景色有变化的样式, 边框线也会消失.最后不能适应圆角样式")],-1),C=e("h2",{id:"4-before-after与transform"},[e("a",{class:"header-anchor",href:"#4-before-after与transform","aria-hidden":"true"},"#"),a(" 4. :before, :after与transform")],-1),j=e("p",null,"之前说的frozenUI的圆角边框就是采用这种方式, 构建1个伪元素, 将它的长宽放大到2倍, 边框宽度设置为1px, 再以transform缩放到50%.",-1),E=e("div",{class:"language-css line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token selector"},".radius-border"),e("span",{class:"token punctuation"},"{"),a("\n    "),e("span",{class:"token property"},"position"),e("span",{class:"token punctuation"},":"),a(" relative"),e("span",{class:"token punctuation"},";"),a("\n"),e("span",{class:"token punctuation"},"}"),a("\n"),e("span",{class:"token atrule"},[e("span",{class:"token rule"},"@media"),a(" screen "),e("span",{class:"token keyword"},"and"),a(),e("span",{class:"token punctuation"},"("),e("span",{class:"token property"},"-webkit-min-device-pixel-ratio"),e("span",{class:"token punctuation"},":"),a(" 2"),e("span",{class:"token punctuation"},")")]),e("span",{class:"token punctuation"},"{"),a("\n    "),e("span",{class:"token selector"},".radius-border:before"),e("span",{class:"token punctuation"},"{"),a("\n        "),e("span",{class:"token property"},"content"),e("span",{class:"token punctuation"},":"),a(),e("span",{class:"token string"},'""'),e("span",{class:"token punctuation"},";"),a("\n        "),e("span",{class:"token property"},"pointer-events"),e("span",{class:"token punctuation"},":"),a(" none"),e("span",{class:"token punctuation"},";"),a(),e("span",{class:"token comment"},"/* 防止点击触发 */"),a("\n        "),e("span",{class:"token property"},"box-sizing"),e("span",{class:"token punctuation"},":"),a(" border-box"),e("span",{class:"token punctuation"},";"),a("\n        "),e("span",{class:"token property"},"position"),e("span",{class:"token punctuation"},":"),a(" absolute"),e("span",{class:"token punctuation"},";"),a("\n        "),e("span",{class:"token property"},"width"),e("span",{class:"token punctuation"},":"),a(" 200%"),e("span",{class:"token punctuation"},";"),a("\n        "),e("span",{class:"token property"},"height"),e("span",{class:"token punctuation"},":"),a(" 200%"),e("span",{class:"token punctuation"},";"),a("\n        "),e("span",{class:"token property"},"left"),e("span",{class:"token punctuation"},":"),a(" 0"),e("span",{class:"token punctuation"},";"),a("\n        "),e("span",{class:"token property"},"top"),e("span",{class:"token punctuation"},":"),a(" 0"),e("span",{class:"token punctuation"},";"),a("\n        "),e("span",{class:"token property"},"border-radius"),e("span",{class:"token punctuation"},":"),a(" 8px"),e("span",{class:"token punctuation"},";"),a("\n        "),e("span",{class:"token property"},"border"),e("span",{class:"token punctuation"},":"),a("1px solid #999"),e("span",{class:"token punctuation"},";"),a("\n        "),e("span",{class:"token function"},"-webkit-transform"),e("span",{class:"token punctuation"},"("),e("span",{class:"token function"},"scale"),e("span",{class:"token punctuation"},"("),a("0.5"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),a("\n        "),e("span",{class:"token property"},"-webkit-transform-origin"),e("span",{class:"token punctuation"},":"),a(" 0 0"),e("span",{class:"token punctuation"},";"),a("\n        "),e("span",{class:"token function"},"transform"),e("span",{class:"token punctuation"},"("),e("span",{class:"token function"},"scale"),e("span",{class:"token punctuation"},"("),a("0.5"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),a("\n        "),e("span",{class:"token property"},"transform-origin"),e("span",{class:"token punctuation"},":"),a(" 0 0"),e("span",{class:"token punctuation"},";"),a("\n    "),e("span",{class:"token punctuation"},"}"),a("\n"),e("span",{class:"token punctuation"},"}"),a("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557986056-48288"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'.radius-border{\n    position: relative;\n}\n@media screen and (-webkit-min-device-pixel-ratio: 2){\n    .radius-border:before{\n        content: "";\n        pointer-events: none; /* 防止点击触发 */\n        box-sizing: border-box;\n        position: absolute;\n        width: 200%;\n        height: 200%;\n        left: 0;\n        top: 0;\n        border-radius: 8px;\n        border:1px solid #999;\n        -webkit-transform(scale(0.5));\n        -webkit-transform-origin: 0 0;\n        transform(scale(0.5));\n        transform-origin: 0 0;\n    }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557986056-48288","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br")])],-1),I=s('',6),$=e("div",{class:"language-"},[e("pre",null,[e("code",null,"metaEl = doc.createElement('meta');\nmetaEl.setAttribute('name', 'viewport');\nmetaEl.setAttribute('content', 'initial-scale=' + scale + ', maximum-scale=' + scale + ', minimum-scale=' + scale + ', user-scalable=no');\n"),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557986057-81755"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"metaEl = doc.createElement('meta');\nmetaEl.setAttribute('name', 'viewport');\nmetaEl.setAttribute('content', 'initial-scale=' + scale + ', maximum-scale=' + scale + ', minimum-scale=' + scale + ', user-scalable=no');\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557986057-81755","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br")])],-1),T=e("p",null,"devicePixelRatio=2时输出meta如下, 这样viewport与ideal viewport的比是0.5, 也就与设备物理像素一致",-1),A=e("div",{class:"language-"},[e("pre",null,[e("code",null,'<meta name="viewport" content="initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no">\n'),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557986057-37852"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'<meta name="viewport" content="initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no">\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557986057-37852","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br")])],-1),N=e("p",null,"另外html元素上的font-size会被设置为屏幕宽的1/10, 这样css可以以rem为基础长度单位进行改写, 比如rem是28px, 原先的7px就是0.25rem. border的宽度能直接写1px.",-1),P=e("div",{class:"language-"},[e("pre",null,[e("code",null,"function refreshRem() {\n    var width = docEl.getBoundingClientRect().width;\n    if (width / dpr > 540) { //大于540px可以不认为是手机屏\n        width = 540 * dpr;\n    }\n    var rem = width / 10; \n    docEl.style.fontSize = rem + 'px';\n    flexible.rem = win.rem = rem;\n}\n"),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557986057-72540"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function refreshRem() {\n    var width = docEl.getBoundingClientRect().width;\n    if (width / dpr > 540) { //大于540px可以不认为是手机屏\n        width = 540 * dpr;\n    }\n    var rem = width / 10; \n    docEl.style.fontSize = rem + 'px';\n    flexible.rem = win.rem = rem;\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557986057-72540","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br")])],-1),_=e("p",null,"px和rem相互转换的计算方法会暴露在window.lib.flexible中. 这样可以为less/sass编写宏方法. 具体的css改写方法参照大漠的文章http://www.w3cplus.com/mobile/lib-flexible-for-html5-layout.html",-1),F=e("p",null,"项目中特别指出了为了防止字体模糊, 出现奇数字号的字体, 字体的实际单位还是要以px为单位.",-1),z=e("blockquote",null,[e("p",null,"缺点: 不适用安卓, flexible内部做了检测 非iOS机型还是采用传统的scale=1.0, 原因在于安卓手机不一定有devicePixelRatio属性, 就算有也不一定能响应scale小于1的viewport缩放设置, 例如我的手机设置了scale=0.33333333, 显示的结果也与scale=1无异.")],-1),B=e("h2",{id:"主观"},[e("a",{class:"header-anchor",href:"#主观","aria-hidden":"true"},"#"),a(" 主观")],-1),R=e("p",null,"个人比较偏爱 FrozenUI 的解决方案",-1);o.render=function(e,a,s,c,o,S){return n(),t("div",null,[i,l,p,r,d,u,m,b,y,k,f,h,x,v,g,w,C,j,E,I,$,T,A,N,P,_,F,z,B,R])};export default o;export{c as __pageData};
