import{o as n,c as t,f as s,a,x as e}from"./app.5f3fb606.js";const o='{"title":"前端面试题汇总-js-2","description":"","frontmatter":{"title":"前端面试题汇总-js-2","tag":["javaScript"],"cover":"https://gitee.com/artiely/Figure-bed/raw/master/image/20200829105349.png","base64":141414,"author":"artiely","date":"2020-8-29"},"headers":[{"level":2,"title":"有以下 3 个判断数组的方法，请分别介绍它们之间的区别和优劣","slug":"有以下-3-个判断数组的方法请分别介绍它们之间的区别和优劣"},{"level":3,"title":"1. Object.prototype.toString.call()","slug":"1-objectprototypetostringcall"},{"level":3,"title":"2. instanceof","slug":"2-instanceof"},{"level":3,"title":"3. Array.isArray()","slug":"3-arrayisarray"},{"level":2,"title":"ES5/ES6 的定义对象的区别","slug":"es5es6-的定义对象的区别"},{"level":3,"title":"class` 的所有方法（包括静态方法和实例方法）都是不可枚举的。","slug":"class-的所有方法包括静态方法和实例方法都是不可枚举的"},{"level":2,"title":"全局作用域中，用 const 和 let 声明的变量不在 window 上，那到底在哪里？如何去获取？","slug":"全局作用域中用-const-和-let-声明的变量不在-window-上那到底在哪里如何去获取"},{"level":2,"title":"为何会出现浏览器兼容问题","slug":"为何会出现浏览器兼容问题"},{"level":3,"title":"处理兼容问题的思路","slug":"处理兼容问题的思路"},{"level":2,"title":"前端性能优化","slug":"前端性能优化"},{"level":2,"title":"原型继承","slug":"原型继承"},{"level":2,"title":"继承","slug":"继承"},{"level":2,"title":"闭包","slug":"闭包"},{"level":3,"title":"有一个函数，参数是一个函数，返回值也是一个函数，返回的函数功能和入参的函数相似，但这个函数只能执行3次，再次执行无效，如何实现","slug":"有一个函数参数是一个函数返回值也是一个函数返回的函数功能和入参的函数相似但这个函数只能执行3次再次执行无效如何实现"},{"level":3,"title":"实现add函数,让add(a)(b)和add(a,b)两种调用结果相同","slug":"实现add函数让addab和addab两种调用结果相同"},{"level":2,"title":"Ajax","slug":"ajax"},{"level":3,"title":"使用Ajax的优缺点分别是什么","slug":"使用ajax的优缺点分别是什么"},{"level":3,"title":"Ajax和Fetch区别","slug":"ajax和fetch区别"},{"level":2,"title":"cookie、session、localStorage、sessionStorage区别","slug":"cookie-session-localstorage-sessionstorage区别"},{"level":2,"title":"创建对象有几种方法","slug":"创建对象有几种方法"},{"level":2,"title":"bind、call、apply、箭头函数、new的区别","slug":"bind-call-apply-箭头函数-new的区别"},{"level":2,"title":"请简述JavaScript中的this。","slug":"请简述javascript中的this"},{"level":2,"title":"如何确定this指向","slug":"如何确定this指向"}],"relativePath":"post/2020/2020-8-29-frontend-js2.md","lastUpdated":1629110863716}',c={},l=s('<h1 id="前端面试题汇总-js-2"><a class="header-anchor" href="#前端面试题汇总-js-2" aria-hidden="true">#</a> 前端面试题汇总-js-2</h1><h2 id="有以下-3-个判断数组的方法请分别介绍它们之间的区别和优劣"><a class="header-anchor" href="#有以下-3-个判断数组的方法请分别介绍它们之间的区别和优劣" aria-hidden="true">#</a> 有以下 3 个判断数组的方法，请分别介绍它们之间的区别和优劣</h2><h3 id="1-objectprototypetostringcall"><a class="header-anchor" href="#1-objectprototypetostringcall" aria-hidden="true">#</a> 1. Object.prototype.toString.call()</h3><p>每一个继承 Object 的对象都有 <code>toString</code> 方法，如果 <code>toString</code> 方法没有重写的话，会返回 <code>[Object type]</code>，其中 type 为对象的类型。但当除了 Object 类型的对象外，其他类型直接使用 <code>toString</code> 方法时，会直接返回都是内容的字符串，所以我们需要使用call或者apply方法来改变toString方法的执行上下文。</p>',4),i=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),e(" an "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token punctuation"},"["),a("span",{class:"token string"},"'Hello'"),a("span",{class:"token punctuation"},","),a("span",{class:"token string"},"'An'"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},";"),e("\nan"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"toString"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},'// "Hello,An"'),e("\n"),a("span",{class:"token class-name"},"Object"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"toString"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"call"),a("span",{class:"token punctuation"},"("),e("an"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},'// "[object Array]"'),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012948-27598"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"const an = ['Hello','An'];\nan.toString(); // \"Hello,An\"\nObject.prototype.toString.call(an); // \"[object Array]\"\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012948-27598","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br")])],-1),p=a("p",null,"这种方法对于所有基本的数据类型都能进行判断，即使是 null 和 undefined 。",-1),u=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token class-name"},"Object"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"toString"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"call"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'An'"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token comment"},'// "[object String]"'),e("\n"),a("span",{class:"token class-name"},"Object"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"toString"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"call"),a("span",{class:"token punctuation"},"("),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token comment"},'// "[object Number]"'),e("\n"),a("span",{class:"token class-name"},"Object"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"toString"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"call"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"Symbol"),a("span",{class:"token punctuation"},"("),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token comment"},'// "[object Symbol]"'),e("\n"),a("span",{class:"token class-name"},"Object"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"toString"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"call"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"null"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token comment"},'// "[object Null]"'),e("\n"),a("span",{class:"token class-name"},"Object"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"toString"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"call"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"undefined"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token comment"},'// "[object Undefined]"'),e("\n"),a("span",{class:"token class-name"},"Object"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"toString"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"call"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"function"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token comment"},'// "[object Function]"'),e("\n"),a("span",{class:"token class-name"},"Object"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"toString"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"call"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e("name"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token string"},"'An'"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token comment"},'// "[object Object]"'),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012948-78443"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'Object.prototype.toString.call(\'An\') // "[object String]"\nObject.prototype.toString.call(1) // "[object Number]"\nObject.prototype.toString.call(Symbol(1)) // "[object Symbol]"\nObject.prototype.toString.call(null) // "[object Null]"\nObject.prototype.toString.call(undefined) // "[object Undefined]"\nObject.prototype.toString.call(function(){}) // "[object Function]"\nObject.prototype.toString.call({name: \'An\'}) // "[object Object]"\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012948-78443","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br")])],-1),r=s('<p><code>Object.prototype.toString.call()</code> 常用于判断浏览器内置对象时。</p><p>更多实现可见 <a href="https://juejin.im/post/591647550ce4630069df1c4a" target="_blank" rel="noopener noreferrer">谈谈 Object.prototype.toString</a></p><h3 id="2-instanceof"><a class="header-anchor" href="#2-instanceof" aria-hidden="true">#</a> 2. instanceof</h3><p><code>instanceof</code> 的内部机制是通过判断对象的原型链中是不是能找到类型的 <code>prototype</code>。</p><p>使用 <code>instanceof</code>判断一个对象是否为数组，<code>instanceof</code> 会判断这个对象的原型链上是否会找到对应的 <code>Array</code> 的原型，找到返回 <code>true</code>，否则返回 <code>false</code>。</p>',5),d=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),e("  "),a("span",{class:"token keyword"},"instanceof"),e(),a("span",{class:"token class-name"},"Array"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// true"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012948-89852"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"[]  instanceof Array; // true\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012948-89852","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])],-1),m=a("p",null,[e("但 "),a("code",null,"instanceof"),e(" 只能用来判断对象类型，原始类型不可以。并且所有对象类型 instanceof Object 都是 true。")],-1),k=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),e("  "),a("span",{class:"token keyword"},"instanceof"),e(),a("span",{class:"token class-name"},"Object"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// true"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012949-38549"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"[]  instanceof Object; // true\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012949-38549","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])],-1),y=a("h3",{id:"3-arrayisarray"},[a("a",{class:"header-anchor",href:"#3-arrayisarray","aria-hidden":"true"},"#"),e(" 3. Array.isArray()")],-1),b=a("ul",null,[a("li",null,[a("p",null,"功能：用来判断对象是否为数组")]),a("li",null,[a("p",null,[a("code",null,"Array.isArray()"),e(" 与 "),a("code",null,"Object.prototype.toString.call()")]),a("p",null,[a("code",null,"Array.isArray()"),e("是ES5新增的方法，当不存在 "),a("code",null,"Array.isArray()"),e(" ，可以用 "),a("code",null,"Object.prototype.toString.call()"),e(" 实现。")]),a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"if"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token operator"},"!"),e("Array"),a("span",{class:"token punctuation"},"."),e("isArray"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n  Array"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function-variable function"},"isArray"),e(),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"function"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"arg"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"return"),e(),a("span",{class:"token class-name"},"Object"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"toString"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"call"),a("span",{class:"token punctuation"},"("),e("arg"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"==="),e(),a("span",{class:"token string"},"'[object Array]'"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012949-87889"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"if (!Array.isArray) {\n  Array.isArray = function(arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n  };\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012949-87889","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])])])],-1),f=a("h2",{id:"es5es6-的定义对象的区别"},[a("a",{class:"header-anchor",href:"#es5es6-的定义对象的区别","aria-hidden":"true"},"#"),e(" ES5/ES6 的定义对象的区别")],-1),h=a("ol",null,[a("li",null,[a("code",null,"class"),e(" 声明会提升，但不会初始化赋值。"),a("code",null,"Foo"),e(" 进入暂时性死区，类似于 "),a("code",null,"let"),e("、"),a("code",null,"const"),e(" 声明变量。")])],-1),w=a("div",{class:"language-javascript line-numbers-mode"},[a("pre",null,[a("code",null,[e("\n"),a("span",{class:"token keyword"},"const"),e(" bar "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"Bar"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// it's ok"),e("\n"),a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"Bar"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("bar "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"42"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n\n"),a("span",{class:"token keyword"},"const"),e(" foo "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"Foo"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// ReferenceError: Foo is not defined"),e("\n"),a("span",{class:"token keyword"},"class"),e(),a("span",{class:"token class-name"},"Foo"),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token function"},"constructor"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("foo "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"42"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012949-13792"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"\nconst bar = new Bar(); // it's ok\nfunction Bar() {\n  this.bar = 42;\n}\n\nconst foo = new Foo(); // ReferenceError: Foo is not defined\nclass Foo {\n  constructor() {\n    this.foo = 42;\n  }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012949-13792","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br")])],-1),g=a("ol",null,[a("li",null,[a("code",null,"class"),e(" 声明内部会启用严格模式。")])],-1),v=a("div",{class:"language-javascript line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"// 引用一个未声明的变量"),e("\n"),a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"Bar"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n  baz "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"42"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// it's ok"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token keyword"},"const"),e(" bar "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"Bar"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n\n"),a("span",{class:"token keyword"},"class"),e(),a("span",{class:"token class-name"},"Foo"),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token function"},"constructor"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    fol "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"42"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// ReferenceError: fol is not defined"),e("\n  "),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token keyword"},"const"),e(" foo "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"Foo"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012949-44458"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 引用一个未声明的变量\nfunction Bar() {\n  baz = 42; // it's ok\n}\nconst bar = new Bar();\n\nclass Foo {\n  constructor() {\n    fol = 42; // ReferenceError: fol is not defined\n  }\n}\nconst foo = new Foo();\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012949-44458","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br")])],-1),C=a("h3",{id:"class-的所有方法包括静态方法和实例方法都是不可枚举的"},[a("a",{class:"header-anchor",href:"#class-的所有方法包括静态方法和实例方法都是不可枚举的","aria-hidden":"true"},"#"),e(" class` 的所有方法（包括静态方法和实例方法）都是不可枚举的。")],-1),j=a("div",{class:"language-javascript line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"// 引用一个未声明的变量"),e("\n"),a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"Bar"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("bar "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"42"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\nBar"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function-variable function"},"answer"),e(),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"function"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token keyword"},"return"),e(),a("span",{class:"token number"},"42"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token class-name"},"Bar"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function-variable function"},"print"),e(),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"function"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n  console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("bar"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token keyword"},"const"),e(" barKeys "),a("span",{class:"token operator"},"="),e(" Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"keys"),a("span",{class:"token punctuation"},"("),e("Bar"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// ['answer']"),e("\n"),a("span",{class:"token keyword"},"const"),e(" barProtoKeys "),a("span",{class:"token operator"},"="),e(" Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"keys"),a("span",{class:"token punctuation"},"("),a("span",{class:"token class-name"},"Bar"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// ['print']"),e("\n\n"),a("span",{class:"token keyword"},"class"),e(),a("span",{class:"token class-name"},"Foo"),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token function"},"constructor"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("foo "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"42"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token punctuation"},"}"),e("\n  "),a("span",{class:"token keyword"},"static"),e(),a("span",{class:"token function"},"answer"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"return"),e(),a("span",{class:"token number"},"42"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token punctuation"},"}"),e("\n  "),a("span",{class:"token function"},"print"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("foo"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token keyword"},"const"),e(" fooKeys "),a("span",{class:"token operator"},"="),e(" Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"keys"),a("span",{class:"token punctuation"},"("),e("Foo"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// []"),e("\n"),a("span",{class:"token keyword"},"const"),e(" fooProtoKeys "),a("span",{class:"token operator"},"="),e(" Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"keys"),a("span",{class:"token punctuation"},"("),a("span",{class:"token class-name"},"Foo"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// []"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012949-87658"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 引用一个未声明的变量\nfunction Bar() {\n  this.bar = 42;\n}\nBar.answer = function() {\n  return 42;\n};\nBar.prototype.print = function() {\n  console.log(this.bar);\n};\nconst barKeys = Object.keys(Bar); // ['answer']\nconst barProtoKeys = Object.keys(Bar.prototype); // ['print']\n\nclass Foo {\n  constructor() {\n    this.foo = 42;\n  }\n  static answer() {\n    return 42;\n  }\n  print() {\n    console.log(this.foo);\n  }\n}\nconst fooKeys = Object.keys(Foo); // []\nconst fooProtoKeys = Object.keys(Foo.prototype); // []\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012949-87658","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br")])],-1),x=a("ol",null,[a("li",null,[a("code",null,"class"),e(" 的所有方法（包括静态方法和实例方法）都没有原型对象 prototype，所以也没有"),a("code",null,"[[construct]]"),e("，不能使用 "),a("code",null,"new"),e(" 来调用。")])],-1),T=a("div",{class:"language-javascript line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"Bar"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("bar "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"42"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token class-name"},"Bar"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function-variable function"},"print"),e(),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"function"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n  console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("bar"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),e("\n\n"),a("span",{class:"token keyword"},"const"),e(" bar "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"Bar"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token keyword"},"const"),e(" barPrint "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},[e("bar"),a("span",{class:"token punctuation"},"."),e("print")]),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// it's ok"),e("\n\n"),a("span",{class:"token keyword"},"class"),e(),a("span",{class:"token class-name"},"Foo"),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token function"},"constructor"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("foo "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"42"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token punctuation"},"}"),e("\n  "),a("span",{class:"token function"},"print"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("foo"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token keyword"},"const"),e(" foo "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"Foo"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token keyword"},"const"),e(" fooPrint "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},[e("foo"),a("span",{class:"token punctuation"},"."),e("print")]),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// TypeError: foo.print is not a constructor"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012949-60405"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function Bar() {\n  this.bar = 42;\n}\nBar.prototype.print = function() {\n  console.log(this.bar);\n};\n\nconst bar = new Bar();\nconst barPrint = new bar.print(); // it's ok\n\nclass Foo {\n  constructor() {\n    this.foo = 42;\n  }\n  print() {\n    console.log(this.foo);\n  }\n}\nconst foo = new Foo();\nconst fooPrint = new foo.print(); // TypeError: foo.print is not a constructor\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012949-60405","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br")])],-1),S=a("ol",null,[a("li",null,[e("必须使用 "),a("code",null,"new"),e(" 调用 "),a("code",null,"class"),e("。")])],-1),A=a("div",{class:"language-javascript line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"Bar"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("bar "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"42"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token keyword"},"const"),e(" bar "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"Bar"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// it's ok"),e("\n\n"),a("span",{class:"token keyword"},"class"),e(),a("span",{class:"token class-name"},"Foo"),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token function"},"constructor"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("foo "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"42"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token keyword"},"const"),e(" foo "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"Foo"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// TypeError: Class constructor Foo cannot be invoked without 'new'"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012950-33967"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function Bar() {\n  this.bar = 42;\n}\nconst bar = Bar(); // it's ok\n\nclass Foo {\n  constructor() {\n    this.foo = 42;\n  }\n}\nconst foo = Foo(); // TypeError: Class constructor Foo cannot be invoked without 'new'\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012950-33967","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br")])],-1),E=a("ol",null,[a("li",null,[a("code",null,"class"),e(" 内部无法重写类名。")])],-1),F=a("div",{class:"language-javascript line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"Bar"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n  Bar "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token string"},"'Baz'"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// it's ok"),e("\n  "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("bar "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"42"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token keyword"},"const"),e(" bar "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"Bar"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token comment"},"// Bar: 'Baz'"),e("\n"),a("span",{class:"token comment"},"// bar: Bar {bar: 42}  "),e("\n\n"),a("span",{class:"token keyword"},"class"),e(),a("span",{class:"token class-name"},"Foo"),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token function"},"constructor"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("foo "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"42"),a("span",{class:"token punctuation"},";"),e("\n    Foo "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token string"},"'Fol'"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// TypeError: Assignment to constant variable"),e("\n  "),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token keyword"},"const"),e(" foo "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"Foo"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\nFoo "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token string"},"'Fol'"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// it's ok"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012950-1546"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function Bar() {\n  Bar = 'Baz'; // it's ok\n  this.bar = 42;\n}\nconst bar = new Bar();\n// Bar: 'Baz'\n// bar: Bar {bar: 42}  \n\nclass Foo {\n  constructor() {\n    this.foo = 42;\n    Foo = 'Fol'; // TypeError: Assignment to constant variable\n  }\n}\nconst foo = new Foo();\nFoo = 'Fol'; // it's ok\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012950-1546","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br")])],-1),$=a("h2",{id:"全局作用域中用-const-和-let-声明的变量不在-window-上那到底在哪里如何去获取"},[a("a",{class:"header-anchor",href:"#全局作用域中用-const-和-let-声明的变量不在-window-上那到底在哪里如何去获取","aria-hidden":"true"},"#"),e(" 全局作用域中，用 const 和 let 声明的变量不在 window 上，那到底在哪里？如何去获取？")],-1),B=a("p",null,"在ES5中，顶层对象的属性和全局变量是等价的，var 命令和 function 命令声明的全局变量，自然也是顶层对象。",-1),I=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"var"),e(" a "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"12"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"f"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),e("\n\nconsole"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),e("window"),a("span",{class:"token punctuation"},"."),e("a"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// 12"),e("\nconsole"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),e("window"),a("span",{class:"token punctuation"},"."),e("f"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// f(){}"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012950-94283"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"var a = 12;\nfunction f(){};\n\nconsole.log(window.a); // 12\nconsole.log(window.f); // f(){}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012950-94283","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])],-1),N=a("p",null,"但ES6规定，var 命令和 function 命令声明的全局变量，依旧是顶层对象的属性，但 let命令、const命令、class命令声明的全局变量，不属于顶层对象的属性。",-1),_=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"let"),e(" aa "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token keyword"},"const"),e(" bb "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"2"),a("span",{class:"token punctuation"},";"),e("\n\nconsole"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),e("window"),a("span",{class:"token punctuation"},"."),e("aa"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// undefined"),e("\nconsole"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),e("window"),a("span",{class:"token punctuation"},"."),e("bb"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// undefined"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012950-59743"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"let aa = 1;\nconst bb = 2;\n\nconsole.log(window.aa); // undefined\nconsole.log(window.bb); // undefined\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012950-59743","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])],-1),P=a("p",null,"在哪里？怎么获取？通过在设置断点，看看浏览器是怎么处理的：",-1),O=a("p",null,[a("img",{src:"https://gitee.com/artiely/Figure-bed/raw/master/image/20200829100519.png",alt:""})],-1),H=a("p",null,"通过上图也可以看到，在全局作用域中，用 let 和 const 声明的全局变量并没有在全局对象中，只是一个块级作用域（Script）中",-1),D=a("p",null,"怎么获取？在定义变量的块级作用域中就能获取啊，既然不属于顶层对象，那就不加 window（global）呗。",-1),M=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"let"),e(" aa "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token keyword"},"const"),e(" bb "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"2"),a("span",{class:"token punctuation"},";"),e("\n\nconsole"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),e("aa"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// 1"),e("\nconsole"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),e("bb"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e(),a("span",{class:"token comment"},"// 2"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012950-1685"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"let aa = 1;\nconst bb = 2;\n\nconsole.log(aa); // 1\nconsole.log(bb); // 2\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012950-1685","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])],-1),J=a("p",null,[a("img",{src:"https://gitee.com/artiely/Figure-bed/raw/master/image/20200829100533.png",alt:""})],-1),q=a("p",null,"const和let会生成块级作用域，可以理解为",-1),R=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"let"),e(" a "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"10"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token keyword"},"const"),e(" b "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"20"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token function"},"相当于："),e("\n"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"function"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),e("\n         "),a("span",{class:"token keyword"},"var"),e("  a "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"10"),a("span",{class:"token punctuation"},";"),e("\n         "),a("span",{class:"token keyword"},"var"),e(" b "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"20"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012950-13246"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"let a = 10;\nconst b = 20;\n相当于：\n(function(){\n         var  a = 10;\n         var b = 20;\n})()\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012950-13246","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br")])],-1),L=s('<p>ES5没有块级作用域的概念，只有函数作用域，可以近似理解成这样。 所以外层window必然无法访问。</p><h2 id="为何会出现浏览器兼容问题"><a class="header-anchor" href="#为何会出现浏览器兼容问题" aria-hidden="true">#</a> 为何会出现浏览器兼容问题</h2><ul><li>同一产品，版本越老 bug 越多</li><li>同一产品，版本越新，功能越多</li><li>不同产品，不同标准，不同实现方式</li></ul><h3 id="处理兼容问题的思路"><a class="header-anchor" href="#处理兼容问题的思路" aria-hidden="true">#</a> 处理兼容问题的思路</h3><ol><li>要不要做</li></ol><ul><li>产品的角度（产品的受众、受众的浏览器比例、效果优先还是基本功能优先）</li><li>成本的角度 (有无必要做某件事)</li></ul><p>2.做到什么程度</p><ul><li>让哪些浏览器支持哪些效果</li></ul><p>3..如何做</p><ul><li>根据兼容需求选择技术框架/库(jquery)</li><li>根据兼容需求选择兼容工具(html5shiv.js、respond.js、css reset、normalize.css、Modernizr)</li><li>条件注释、CSS Hack、js 能力检测做一些修补</li><li>渐进增强(progressive enhancement): 针对低版本浏览器进行构建页面，保证最基本的功能，然后再针对高级浏览器进行效果、交互等改进和追加功能达到更好的用户体验</li><li>优雅降级 (graceful degradation): 一开始就构建完整的功能，然后再针对低版本浏览器进行兼容。</li></ul><h2 id="前端性能优化"><a class="header-anchor" href="#前端性能优化" aria-hidden="true">#</a> 前端性能优化</h2><ul><li>减少 HTTP 请求</li><li>减少 DOM 操作</li><li>避免不必要的重绘与重排</li><li>优化 CSS 选择器（从右向左匹配）</li><li>CSS/JS minify，减少文件体积</li><li>开启 Gzip 压缩</li><li>将 CSS 放到顶部，JavaScript 放到尾部</li><li>压缩图片以及使用 CSS Sprite</li><li>使用 CDN 加速，适当进行文件缓存</li><li>合理控制 cookie 大小（每次请求都会包含 cookie）</li></ul><h2 id="原型继承"><a class="header-anchor" href="#原型继承" aria-hidden="true">#</a> 原型继承</h2><p>所有的JS对象都有一个prototype属性，指向它的原型对象。当试图访问一个对象的属性时，如果没有在该对象上找到，它还会搜寻该对象的原型，以及该对象的原型的原型，依次层层向上搜索，直到找到一个名字匹配的属性或到达原型链的末尾。</p><h2 id="继承"><a class="header-anchor" href="#继承" aria-hidden="true">#</a> 继承</h2><p>JS高程第3版 第6章 继承<br> 寄生组合式继承</p>',16),X=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"SuperType"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"name"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("name "),a("span",{class:"token operator"},"="),e(" name\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("colors "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token punctuation"},"["),a("span",{class:"token string"},"'red'"),a("span",{class:"token punctuation"},"]"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n\n"),a("span",{class:"token class-name"},"SuperType"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function-variable function"},"sayName"),e(),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"function"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("name"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token comment"},"// 继承实例属性"),e("\n"),a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"SubType"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[e("name"),a("span",{class:"token punctuation"},","),e(" age")]),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token function"},"SuperType"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"call"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},","),e(" name"),a("span",{class:"token punctuation"},")"),e("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("age "),a("span",{class:"token operator"},"="),e(" age\n"),a("span",{class:"token punctuation"},"}"),e("\n\n"),a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"inheritPrototype"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[e("subType"),a("span",{class:"token punctuation"},","),e(" superType")]),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"let"),e(" prototype "),a("span",{class:"token operator"},"="),e(" Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"create"),a("span",{class:"token punctuation"},"("),e("superType"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},")"),e("\n    prototype"),a("span",{class:"token punctuation"},"."),e("constructor "),a("span",{class:"token operator"},"="),e(" subType\n    subType"),a("span",{class:"token punctuation"},"."),e("prototype "),a("span",{class:"token operator"},"="),e(" prototype\n"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token comment"},"// 继承原型方法"),e("\n"),a("span",{class:"token function"},"inheritPrototype"),a("span",{class:"token punctuation"},"("),e("SubType"),a("span",{class:"token punctuation"},","),e(" SuperType"),a("span",{class:"token punctuation"},")"),e("\n\n"),a("span",{class:"token comment"},"// 定义自己的原型方法"),e("\n"),a("span",{class:"token class-name"},"SubType"),a("span",{class:"token punctuation"},"."),e("prototype"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function-variable function"},"sayAge"),e(),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"function"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("age"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012950-85111"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function SuperType(name) {\n    this.name = name\n    this.colors = ['red']\n}\n\nSuperType.prototype.sayName = function() {\n    console.log(this.name)\n}\n// 继承实例属性\nfunction SubType(name, age) {\n    SuperType.call(this, name)\n    this.age = age\n}\n\nfunction inheritPrototype(subType, superType) {\n    let prototype = Object.create(superType.prototype)\n    prototype.constructor = subType\n    subType.prototype = prototype\n}\n// 继承原型方法\ninheritPrototype(SubType, SuperType)\n\n// 定义自己的原型方法\nSubType.prototype.sayAge = function() {\n    console.log(this.age)\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012950-85111","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br")])],-1),V=a("h2",{id:"闭包"},[a("a",{class:"header-anchor",href:"#闭包","aria-hidden":"true"},"#"),e(" 闭包")],-1),z=a("p",null,"闭包是指有权访问另一个函数作用域中的变量的函数。",-1),K=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"sayHi"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"name"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"return"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"{"),e("\n       console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token template-string"},[a("span",{class:"token template-punctuation string"},"`"),a("span",{class:"token string"},"Hi! "),a("span",{class:"token interpolation"},[a("span",{class:"token interpolation-punctuation punctuation"},"${"),e("name"),a("span",{class:"token interpolation-punctuation punctuation"},"}")]),a("span",{class:"token template-punctuation string"},"`")]),a("span",{class:"token punctuation"},")"),e("\n    "),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token keyword"},"const"),e(" test "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"sayHi"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'xiaoming'"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token function"},"test"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token comment"},"// Hi! xiaoming"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012951-87492"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function sayHi(name) {\n    return () => {\n       console.log(`Hi! ${name}`)\n    }\n}\nconst test = sayHi('xiaoming')\ntest() // Hi! xiaoming\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012951-87492","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br")])],-1),W=a("p",null,[e("虽然sayHi函数已经执行完毕，但是其活动对象也不会被销毁，因为test函数仍然引用着sayHi函数中的变量name，这就是闭包。"),a("br"),a("br"),e(" 但也因为闭包引用着另一个函数的变量，导致另一个函数已经不使用了也无法销毁，所以闭包使用过多，会占用较多的内存，这也是一个副作用，内存泄漏。")],-1),G=a("h3",{id:"有一个函数参数是一个函数返回值也是一个函数返回的函数功能和入参的函数相似但这个函数只能执行3次再次执行无效如何实现"},[a("a",{class:"header-anchor",href:"#有一个函数参数是一个函数返回值也是一个函数返回的函数功能和入参的函数相似但这个函数只能执行3次再次执行无效如何实现","aria-hidden":"true"},"#"),e(" 有一个函数，参数是一个函数，返回值也是一个函数，返回的函数功能和入参的函数相似，但这个函数只能执行3次，再次执行无效，如何实现")],-1),U=a("p",null,"这个题目是考察闭包的使用",-1),Z=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"sayHi"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'hi'"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n\n"),a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"threeTimes"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"fn"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"let"),e(" times "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"0"),e("\n    "),a("span",{class:"token keyword"},"return"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"{"),e("\n        "),a("span",{class:"token keyword"},"if"),e(),a("span",{class:"token punctuation"},"("),e("times"),a("span",{class:"token operator"},"++"),e(),a("span",{class:"token operator"},"<"),e(),a("span",{class:"token number"},"3"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n            "),a("span",{class:"token function"},"fn"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e("\n        "),a("span",{class:"token punctuation"},"}"),e("\n    "),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n\n"),a("span",{class:"token keyword"},"const"),e(" newFn "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"threeTimes"),a("span",{class:"token punctuation"},"("),e("sayHi"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token function"},"newFn"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token function"},"newFn"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token function"},"newFn"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token function"},"newFn"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token function"},"newFn"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token comment"},"// 后面两次执行都无任何反应"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012951-19553"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function sayHi() {\n    console.log('hi')\n}\n\nfunction threeTimes(fn) {\n    let times = 0\n    return () => {\n        if (times++ < 3) {\n            fn()\n        }\n    }\n}\n\nconst newFn = threeTimes(sayHi)\nnewFn()\nnewFn()\nnewFn()\nnewFn()\nnewFn() // 后面两次执行都无任何反应\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012951-19553","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br")])],-1),Q=a("p",null,[e("通过闭包变量 "),a("code",null,"times"),e(" 来控制函数的执行")],-1),Y=a("h3",{id:"实现add函数让addab和addab两种调用结果相同"},[a("a",{class:"header-anchor",href:"#实现add函数让addab和addab两种调用结果相同","aria-hidden":"true"},"#"),e(" 实现add函数,让add(a)(b)和add(a,b)两种调用结果相同")],-1),nn=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"add"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[e("a"),a("span",{class:"token punctuation"},","),e(" b")]),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"if"),e(),a("span",{class:"token punctuation"},"("),e("b "),a("span",{class:"token operator"},"==="),e(),a("span",{class:"token keyword"},"undefined"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n        "),a("span",{class:"token keyword"},"return"),e(),a("span",{class:"token keyword"},"function"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"x"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n            "),a("span",{class:"token keyword"},"return"),e(" a "),a("span",{class:"token operator"},"+"),e(" x\n        "),a("span",{class:"token punctuation"},"}"),e("\n    "),a("span",{class:"token punctuation"},"}"),e("\n\n    "),a("span",{class:"token keyword"},"return"),e(" a "),a("span",{class:"token operator"},"+"),e(" b\n"),a("span",{class:"token punctuation"},"}"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012951-96019"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function add(a, b) {\n    if (b === undefined) {\n        return function(x) {\n            return a + x\n        }\n    }\n\n    return a + b\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012951-96019","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br")])],-1),tn=a("h2",{id:"ajax"},[a("a",{class:"header-anchor",href:"#ajax","aria-hidden":"true"},"#"),e(" Ajax")],-1),sn=a("p",null,[e("Ajax(asynchronous JavaScript and XML)是使用客户端上的许多 Web 技术，创建异步 Web 应用的一种 Web 开发技术。借助 Ajax，Web 应用可以异步（在后台）向服务器发送数据和从服务器检索数据，而不会干扰现有页面的显示和行为。通过将数据交换层与表示层分离，Ajax 允许网页和扩展 Web 应用程序动态更改内容，而无需重新加载整个页面。实际上，现在通常将 JSON 替换为 XML，因为 JavaScript 对 JSON 有原生支持优势。"),a("br"),a("br"),e(" XMLHttpRequest API 经常用于异步通信。此外还有最近流行的fetch API。")],-1),an=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"let"),e(" xmlhttp\n"),a("span",{class:"token keyword"},"if"),e(),a("span",{class:"token punctuation"},"("),e("window"),a("span",{class:"token punctuation"},"."),e("XMLHttpRequest"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n\t"),a("span",{class:"token comment"},"//  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码"),e("\n\txmlhttp "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"XMLHttpRequest"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token punctuation"},"}"),e(),a("span",{class:"token keyword"},"else"),e(),a("span",{class:"token punctuation"},"{"),e("\n\t"),a("span",{class:"token comment"},"// IE6, IE5 浏览器执行代码"),e("\n\txmlhttp "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"ActiveXObject"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},'"Microsoft.XMLHTTP"'),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\nxmlhttp"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function-variable function"},"onreadystatechange"),e(),a("span",{class:"token operator"},"="),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"{"),e("\n\t"),a("span",{class:"token keyword"},"if"),e(),a("span",{class:"token punctuation"},"("),e("xmlhttp"),a("span",{class:"token punctuation"},"."),e("readyState "),a("span",{class:"token operator"},"==="),e(),a("span",{class:"token number"},"4"),e(),a("span",{class:"token operator"},"&&"),e(" xmlhttp"),a("span",{class:"token punctuation"},"."),e("status "),a("span",{class:"token operator"},"==="),e(),a("span",{class:"token number"},"200"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n\t\tdocument"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"getElementById"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},'"myDiv"'),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"."),e("innerHTML "),a("span",{class:"token operator"},"="),e(" xmlhttp"),a("span",{class:"token punctuation"},"."),e("responseText\n\t"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\nxmlhttp"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"open"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},'"GET"'),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token string"},'"/ajax/test.txt"'),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},")"),e("\nxmlhttp"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"send"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012951-71715"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'let xmlhttp\nif (window.XMLHttpRequest) {\n\t//  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码\n\txmlhttp = new XMLHttpRequest()\n} else {\n\t// IE6, IE5 浏览器执行代码\n\txmlhttp = new ActiveXObject("Microsoft.XMLHTTP")\n}\nxmlhttp.onreadystatechange = () => {\n\tif (xmlhttp.readyState === 4 && xmlhttp.status === 200) {\n\t\tdocument.getElementById("myDiv").innerHTML = xmlhttp.responseText\n\t}\n}\nxmlhttp.open("GET", "/ajax/test.txt", true)\nxmlhttp.send()\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012951-71715","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br")])],-1),en=s('<h3 id="使用ajax的优缺点分别是什么"><a class="header-anchor" href="#使用ajax的优缺点分别是什么" aria-hidden="true">#</a> 使用Ajax的优缺点分别是什么</h3><p><strong>优点</strong></p><ul><li>交互性更好。来自服务器的新内容可以动态更改，无需重新加载整个页面。</li><li>减少与服务器的连接，因为脚本和样式只需要被请求一次。</li><li>状态可以维护在一个页面上。JavaScript 变量和 DOM 状态将得到保持，因为主容器页面未被重新加载。</li><li>基本上包括大部分 SPA 的优点。</li></ul><p><strong>缺点</strong></p><ul><li>动态网页很难收藏。</li><li>如果 JavaScript 已在浏览器中被禁用，则不起作用。</li><li>有些网络爬虫不执行 JavaScript，也不会看到 JavaScript 加载的内容。</li><li>基本上包括大部分 SPA 的缺点。 搜索引擎优化比较难</li></ul><p><a href="https://github.com/yangshun/front-end-interview-handbook/blob/master/questions/javascript-questions.md" target="_blank" rel="noopener noreferrer">https://github.com/yangshun/front-end-interview-handbook/blob/master/questions/javascript-questions.md</a></p><h3 id="ajax和fetch区别"><a class="header-anchor" href="#ajax和fetch区别" aria-hidden="true">#</a> Ajax和Fetch区别</h3><ul><li>ajax是使用XMLHttpRequest对象发起的，但是用起来很麻烦，所以ES6新规范就有了fetch，fetch发一个请求不用像ajax那样写一大堆代码。</li><li>使用fetch无法取消一个请求，这是因为fetch基于Promise，而Promise无法做到这一点。</li><li>在默认情况下，fetch不会接受或者发送cookies</li><li>fetch没有办法原生监测请求的进度，而XMLHttpRequest可以</li><li>fetch只对网络请求报错，对400，500都当做成功的请求，需要封装去处理</li><li>fetch由于是ES6规范，兼容性上比不上XMLHttpRequest</li></ul><h2 id="cookie-session-localstorage-sessionstorage区别"><a class="header-anchor" href="#cookie-session-localstorage-sessionstorage区别" aria-hidden="true">#</a> cookie、session、localStorage、sessionStorage区别</h2><table><thead><tr><th>特性</th><th>cookie</th><th>localStorage</th><th>sessionStorage</th></tr></thead><tbody><tr><td>由谁初始化</td><td>客户端或服务器，服务器可以使用<code>Set-Cookie</code>请求头。</td><td>客户端</td><td>客户端</td></tr><tr><td>数据的生命周期</td><td>一般由服务器生成，可设置失效时间，如果在浏览器生成，默认是关闭浏览器之后失效</td><td>永久保存，可清除</td><td>仅在当前会话有效，关闭页面后清除</td></tr><tr><td>存放数据大小</td><td>4KB</td><td>5MB</td><td>5MB</td></tr><tr><td>与服务器通信</td><td>每次都会携带在HTTP头中，如果使用cookie保存过多数据会带来性能问题</td><td>仅在客户端保存</td><td>仅在客户端保存</td></tr><tr><td>用途</td><td>一般由服务器生成，用于标识用户身份</td><td>用于浏览器缓存数据</td><td>用于浏览器缓存数据</td></tr><tr><td>访问权限</td><td>任意窗口</td><td>任意窗口</td><td>当前页面窗口</td></tr></tbody></table><h2 id="创建对象有几种方法"><a class="header-anchor" href="#创建对象有几种方法" aria-hidden="true">#</a> 创建对象有几种方法</h2><ul><li>字面量</li></ul>',12),on=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),e(" obj "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token punctuation"},"{"),e("a"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},"}"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012952-29776"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"const obj = {a: 1}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012952-29776","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])],-1),cn=a("ul",null,[a("li",null,"构造函数")],-1),ln=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"Obj"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"val"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("a "),a("span",{class:"token operator"},"="),e(" val\n"),a("span",{class:"token punctuation"},"}"),e("\n\n"),a("span",{class:"token keyword"},"const"),e(" obj "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"Obj"),a("span",{class:"token punctuation"},"("),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},")"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012952-50563"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function Obj(val) {\n    this.a = val\n}\n\nconst obj = new Obj(1)\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012952-50563","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])],-1),pn=a("ul",null,[a("li",null,"Object.create")],-1),un=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),e(" obj "),a("span",{class:"token operator"},"="),e(" Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"create"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e("a"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012952-37657"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"const obj = Object.create({a: 1})\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012952-37657","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])],-1),rn=a("h4",{id:"es6-class"},[a("a",{class:"header-anchor",href:"#es6-class","aria-hidden":"true"},"#"),e(" ES6 class")],-1),dn=a("div",{class:"language-javascript line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"class"),e(),a("span",{class:"token class-name"},"abc"),a("span",{class:"token punctuation"},"{"),e("\n\t"),a("span",{class:"token function"},"constructor"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),e("\n\t\t"),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("a "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"123"),e("\n\t"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012952-58065"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"class abc{\n\tconstructor(){\n\t\tthis.a = 123\n\t}\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012952-58065","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])],-1),mn=a("h2",{id:"bind-call-apply-箭头函数-new的区别"},[a("a",{class:"header-anchor",href:"#bind-call-apply-箭头函数-new的区别","aria-hidden":"true"},"#"),e(" bind、call、apply、箭头函数、new的区别")],-1),kn=a("p",null,[e("call和apply其实是一样的，区别就在于传参时参数是一个一个传或者是以一个数组的方式来传。"),a("br"),a("br"),e(" call和apply都是在调用时生效，改变调用者的this指向。"),a("br")],-1),yn=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"let"),e(" name "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token string"},"'Jack'"),e("\n"),a("span",{class:"token keyword"},"const"),e(" obj "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token punctuation"},"{"),e("name"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token string"},"'Tom'"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token function"},"sayHi"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'Hi! '"),e(),a("span",{class:"token operator"},"+"),e(),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),e("name"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"}"),e("\n\n"),a("span",{class:"token function"},"sayHi"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token comment"},"// Hi! Jack"),e("\n"),a("span",{class:"token function"},"sayHi"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"call"),a("span",{class:"token punctuation"},"("),e("obj"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token comment"},"// Hi! Tom"),e("\n\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012952-40483"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"let name = 'Jack'\nconst obj = {name: 'Tom'}\nfunction sayHi() {console.log('Hi! ' + this.name)}\n\nsayHi() // Hi! Jack\nsayHi.call(obj) // Hi! Tom\n\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012952-40483","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br")])],-1),bn=a("p",null,"bind也是改变this指向，不过不是在调用时生效，而是返回一个新函数。",-1),fn=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),e(" newFunc "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"sayHi"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"bind"),a("span",{class:"token punctuation"},"("),e("obj"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token function"},"newFunc"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token comment"},"// Hi! Tom"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557012952-54847"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"const newFunc = sayHi.bind(obj)\nnewFunc() // Hi! Tom\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557012952-54847","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br")])],-1),hn=s('<h2 id="请简述javascript中的this"><a class="header-anchor" href="#请简述javascript中的this" aria-hidden="true">#</a> 请简述<code>JavaScript</code>中的<code>this</code>。</h2><p>JS 中的<code>this</code>是一个相对复杂的概念，不是简单几句能解释清楚的。粗略地讲，函数的调用方式决定了<code>this</code>的值。我阅读了网上很多关于<code>this</code>的文章，<a href="https://medium.com/@arnav_aggarwal" target="_blank" rel="noopener noreferrer">Arnav Aggrawal</a> 写的比较清楚。<code>this</code>取值符合以下规则：</p><ol><li>在调用函数时使用<code>new</code>关键字，函数内的<code>this</code>是一个全新的对象。</li><li>如果<code>apply</code>、<code>call</code>或<code>bind</code>方法用于调用、创建一个函数，函数内的 this 就是作为参数传入这些方法的对象。</li><li>当函数作为对象里的方法被调用时，函数内的<code>this</code>是调用该函数的对象。比如当<code>obj.method()</code>被调用时，函数内的 this 将绑定到<code>obj</code>对象。</li><li>如果调用函数不符合上述规则，那么<code>this</code>的值指向全局对象（global object）。浏览器环境下<code>this</code>的值指向<code>window</code>对象，但是在严格模式下(<code>&#39;use strict&#39;</code>)，<code>this</code>的值为<code>undefined</code>。</li><li>如果符合上述多个规则，则较高的规则（1 号最高，4 号最低）将决定<code>this</code>的值。</li><li>如果该函数是 ES2015 中的箭头函数，将忽略上面的所有规则，<code>this</code>被设置为它被创建时的上下文。</li></ol><p>想获得更深入的解释，请查看<a href="https://codeburst.io/the-simple-rules-to-this-in-javascript-35d97f31bde3" target="_blank" rel="noopener noreferrer">他在 Medium 上的文章</a>。</p><p><a href="https://github.com/yangshun/front-end-interview-handbook/blob/master/Translations/Chinese/questions/javascript-questions.md#%E8%AF%B7%E7%AE%80%E8%BF%B0javascript%E4%B8%AD%E7%9A%84this" target="_blank" rel="noopener noreferrer">https://github.com/yangshun/front-end-interview-handbook/blob/master/Translations/Chinese/questions/javascript-questions.md#请简述javascript中的this</a></p><h2 id="如何确定this指向"><a class="header-anchor" href="#如何确定this指向" aria-hidden="true">#</a> 如何确定this指向</h2><p>如果要判断一个运行中函数的 this 绑定，就需要找到这个函数的直接调用位置。找到之后就可以顺序应用下面这四条规则来判断 this 的绑定对象。</p><ol><li>由 new 调用？绑定到新创建的对象。</li><li>由 call 或者 apply （或者 bind ）调用？绑定到指定的对象。</li><li>由上下文对象调用？绑定到那个上下文对象。</li><li>默认：在严格模式下绑定到 undefined ，否则绑定到全局对象。</li></ol><p>一定要注意，有些调用可能在无意中使用默认绑定规则。如果想“更安全”地忽略 this 绑定，你可以使用一个 DMZ 对象，比如 ø = Object.create(null) ，以保护全局对象。<br><br> ES6 中的箭头函数并不会使用四条标准的绑定规则，而是根据当前的词法作用域来决定this ，具体来说，箭头函数会继承外层函数调用的 this 绑定（无论 this 绑定到什么）。这其实和 ES6 之前代码中的 self = this 机制一样</p>',9);c.render=function(s,a,e,o,c,wn){return n(),t("div",null,[l,i,p,u,r,d,m,k,y,b,f,h,w,g,v,C,j,x,T,S,A,E,F,$,B,I,N,_,P,O,H,D,M,J,q,R,L,X,V,z,K,W,G,U,Z,Q,Y,nn,tn,sn,an,en,on,cn,ln,pn,un,rn,dn,mn,kn,yn,bn,fn,hn])};export default c;export{o as __pageData};
