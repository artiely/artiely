import{o as n,c as e,a as t,x as a,f as c}from"./app.5f3fb606.js";const s='{"title":"Vuecli3+发布组件库到npm","description":"","frontmatter":{"title":"Vuecli3+发布组件库到npm","tag":["vue-cli","vue","npm"],"cover":"https://gitee.com/artiely/Figure-bed/raw/master/image/20200416175737.png","date":"2019-4-16","base64":"ca3838"},"headers":[{"level":2,"title":"创建项目","slug":"创建项目"},{"level":2,"title":"调整目录","slug":"调整目录"},{"level":2,"title":"配置项目以支持新的目录结构","slug":"配置项目以支持新的目录结构"},{"level":2,"title":"重新配置入口，修改配置中的 pages 选项","slug":"重新配置入口修改配置中的-pages-选项"},{"level":2,"title":"支持对 packages 目录的处理，修改配置中的 chainWebpack 选项","slug":"支持对-packages-目录的处理修改配置中的-chainwebpack-选项"},{"level":2,"title":"编写组件","slug":"编写组件"},{"level":2,"title":"整合所有的组件，对外导出，即一个完整的组件库","slug":"整合所有的组件对外导出即一个完整的组件库"},{"level":2,"title":"编写示例","slug":"编写示例"},{"level":2,"title":"发布到 npm，方便直接在项目中引用","slug":"发布到-npm方便直接在项目中引用"},{"level":3,"title":"package.json 中新增一条编译为库的命令","slug":"packagejson-中新增一条编译为库的命令"},{"level":3,"title":"配置 package.json 文件中发布到 npm 的字段","slug":"配置-packagejson-文件中发布到-npm-的字段"},{"level":3,"title":"添加 .npmignore 文件，设置忽略发布文件","slug":"添加-npmignore-文件设置忽略发布文件"},{"level":3,"title":"登录到 npm","slug":"登录到-npm"},{"level":3,"title":"发布到 npm","slug":"发布到-npm"},{"level":2,"title":"使用组件","slug":"使用组件"}],"relativePath":"post/2019/2019-4-16-vue-cli3+to-plugin.md","lastUpdated":1629110828326}',o={},i=t("h1",{id:"vuecli3发布组件库到npm"},[t("a",{class:"header-anchor",href:"#vuecli3发布组件库到npm","aria-hidden":"true"},"#"),a(" Vuecli3+发布组件库到npm")],-1),l=t("h2",{id:"创建项目"},[t("a",{class:"header-anchor",href:"#创建项目","aria-hidden":"true"},"#"),a(" 创建项目")],-1),p=t("div",{class:"language-sh line-numbers-mode"},[t("pre",null,[t("code",null,"vue create my-plugin\n"),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990441-37023"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"vue create my-plugin\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990441-37023","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br")])],-1),d=t("h2",{id:"调整目录"},[t("a",{class:"header-anchor",href:"#调整目录","aria-hidden":"true"},"#"),a(" 调整目录")],-1),m=t("p",null,"我们需要一个目录存放组件，一个目录存放示例，按照以下方式对目录进行改造。",-1),r=t("div",{class:"language-sh line-numbers-mode"},[t("pre",null,[t("code",null,"|-- src      \n|-- packages      // 新增 packages 用于编写存放组件\n"),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990441-43635"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"|-- src      \n|-- packages      // 新增 packages 用于编写存放组件\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990441-43635","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br")])],-1),u=c('<h2 id="配置项目以支持新的目录结构"><a class="header-anchor" href="#配置项目以支持新的目录结构" aria-hidden="true">#</a> 配置项目以支持新的目录结构</h2><p>我们通过上一步的目录改造后，会遇到两个问题。</p><ul><li>新增packages目录，该目录未加入webpack编译</li><li>新增packages目录, 需要编译的入口增加</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>cli3 提供一个可选的 vue.config.js 配置文件。如果这个文件存在则他会被自动加载，所有的对项目和webpack的配置，都在这个文件中</p></div><h2 id="重新配置入口修改配置中的-pages-选项"><a class="header-anchor" href="#重新配置入口修改配置中的-pages-选项" aria-hidden="true">#</a> 重新配置入口，修改配置中的 pages 选项</h2><p>新版 Vue CLI 支持使用 vue.config.js 中的 pages 选项构建一个多页面的应用。</p>',6),y=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[a("module"),t("span",{class:"token punctuation"},"."),a("exports "),t("span",{class:"token operator"},"="),a(),t("span",{class:"token punctuation"},"{"),a("\n  "),t("span",{class:"token comment"},"// 修改 src 目录 为 examples 目录"),a("\n  pages"),t("span",{class:"token operator"},":"),a(),t("span",{class:"token punctuation"},"{"),a("\n    index"),t("span",{class:"token operator"},":"),a(),t("span",{class:"token punctuation"},"{"),a("\n      entry"),t("span",{class:"token operator"},":"),a(),t("span",{class:"token string"},"'src/main.js'"),t("span",{class:"token punctuation"},","),a("\n      template"),t("span",{class:"token operator"},":"),a(),t("span",{class:"token string"},"'public/index.html'"),t("span",{class:"token punctuation"},","),a("\n      filename"),t("span",{class:"token operator"},":"),a(),t("span",{class:"token string"},"'index.html'"),a("\n    "),t("span",{class:"token punctuation"},"}"),a("\n  "),t("span",{class:"token punctuation"},"}"),a("\n"),t("span",{class:"token punctuation"},"}"),a("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990442-28445"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"module.exports = {\n  // 修改 src 目录 为 examples 目录\n  pages: {\n    index: {\n      entry: 'src/main.js',\n      template: 'public/index.html',\n      filename: 'index.html'\n    }\n  }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990442-28445","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br")])],-1),b=t("h2",{id:"支持对-packages-目录的处理修改配置中的-chainwebpack-选项"},[t("a",{class:"header-anchor",href:"#支持对-packages-目录的处理修改配置中的-chainwebpack-选项","aria-hidden":"true"},"#"),a(" 支持对 packages 目录的处理，修改配置中的 chainWebpack 选项")],-1),k=t("p",null,"packages 是我们新增的一个目录，默认是不被 webpack 处理的，所以需要添加配置对该目录的支持。",-1),h=t("p",null,"chainWebpack 是一个函数，会接收一个基于 webpack-chain 的 ChainableConfig 实例。允许对内部的 webpack 配置进行更细粒度的修改。",-1),f=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[a("module"),t("span",{class:"token punctuation"},"."),a("exports "),t("span",{class:"token operator"},"="),a(),t("span",{class:"token punctuation"},"{"),a("\n  pages"),t("span",{class:"token operator"},":"),a(),t("span",{class:"token punctuation"},"{"),a("\n    index"),t("span",{class:"token operator"},":"),a(),t("span",{class:"token punctuation"},"{"),a("\n      entry"),t("span",{class:"token operator"},":"),a(),t("span",{class:"token string"},"'src/main.js'"),t("span",{class:"token punctuation"},","),a("\n      template"),t("span",{class:"token operator"},":"),a(),t("span",{class:"token string"},"'public/index.html'"),t("span",{class:"token punctuation"},","),a("\n      filename"),t("span",{class:"token operator"},":"),a(),t("span",{class:"token string"},"'index.html'"),a("\n    "),t("span",{class:"token punctuation"},"}"),a("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),a("\n  "),t("span",{class:"token comment"},"// 扩展 webpack 配置，使 packages 加入编译"),a("\n  "),t("span",{class:"token function-variable function"},"chainWebpack"),t("span",{class:"token operator"},":"),a(),t("span",{class:"token parameter"},"config"),a(),t("span",{class:"token operator"},"=>"),a(),t("span",{class:"token punctuation"},"{"),a("\n    config"),t("span",{class:"token punctuation"},"."),a("module\n      "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"rule"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'js'"),t("span",{class:"token punctuation"},")"),a("\n      "),t("span",{class:"token punctuation"},"."),a("include\n        "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"add"),t("span",{class:"token punctuation"},"("),t("span",{class:"token regex"},[t("span",{class:"token regex-delimiter"},"/"),t("span",{class:"token regex-source language-regex"},"packages"),t("span",{class:"token regex-delimiter"},"/")]),t("span",{class:"token punctuation"},")"),a("\n        "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"end"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),a("\n      "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"use"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'babel'"),t("span",{class:"token punctuation"},")"),a("\n        "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"loader"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'babel-loader'"),t("span",{class:"token punctuation"},")"),a("\n        "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"tap"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"options"),a(),t("span",{class:"token operator"},"=>"),a(),t("span",{class:"token punctuation"},"{"),a("\n          "),t("span",{class:"token comment"},"// 修改它的选项..."),a("\n          "),t("span",{class:"token keyword"},"return"),a(" options\n        "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),a("\n  "),t("span",{class:"token punctuation"},"}"),a("\n"),t("span",{class:"token punctuation"},"}"),a("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990442-5975"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"module.exports = {\n  pages: {\n    index: {\n      entry: 'src/main.js',\n      template: 'public/index.html',\n      filename: 'index.html'\n    }\n  },\n  // 扩展 webpack 配置，使 packages 加入编译\n  chainWebpack: config => {\n    config.module\n      .rule('js')\n      .include\n        .add(/packages/)\n        .end()\n      .use('babel')\n        .loader('babel-loader')\n        .tap(options => {\n          // 修改它的选项...\n          return options\n        })\n  }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990442-5975","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br")])],-1),g=t("div",{class:"warning custom-block"},[t("p",{class:"custom-block-title"},"WARNING"),t("p",null,[t("code",null,".add(/packages/)"),a("必须使用正则模式")])],-1),v=t("h2",{id:"编写组件"},[t("a",{class:"header-anchor",href:"#编写组件","aria-hidden":"true"},"#"),a(" 编写组件")],-1),C=t("p",null,"这里根据你的需求只有发挥组件的功能",-1),x=t("p",null,[a("如果是组件库，每个组件可以单独分一个文件夹"),t("br"),a(" 结构如下")],-1),w=t("div",{class:"language-sh line-numbers-mode"},[t("pre",null,[t("code",null,"├──my-plugin01\n│ ├──index.vue\n│ ├──index.js\n├──my-plugin02\n│ ├──index.vue\n│ ├──index.js\n"),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990442-49202"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"├──my-plugin01\n│ ├──index.vue\n│ ├──index.js\n├──my-plugin02\n│ ├──index.vue\n│ ├──index.js\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990442-49202","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br")])],-1),j=t("p",null,"index.js",-1),T=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token comment"},"// 导入组件，组件必须声明 name"),a("\n"),t("span",{class:"token keyword"},"import"),a(" myPlugin01 "),t("span",{class:"token keyword"},"from"),a(),t("span",{class:"token string"},"'./index.vue'"),a("\n\n"),t("span",{class:"token comment"},"// 为组件提供 install 安装方法，供按需引入"),a("\nmyPlugin01"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function-variable function"},"install"),a(),t("span",{class:"token operator"},"="),a(),t("span",{class:"token keyword"},"function"),a(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"Vue"),t("span",{class:"token punctuation"},")"),a(),t("span",{class:"token punctuation"},"{"),a("\n  Vue"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"component"),t("span",{class:"token punctuation"},"("),a("myPlugin01"),t("span",{class:"token punctuation"},"."),a("name"),t("span",{class:"token punctuation"},","),a(" myPlugin01"),t("span",{class:"token punctuation"},")"),a("\n"),t("span",{class:"token punctuation"},"}"),a("\n\n"),t("span",{class:"token comment"},"// 默认导出组件"),a("\n"),t("span",{class:"token keyword"},"export"),a(),t("span",{class:"token keyword"},"default"),a(" myPlugin01\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990442-78165"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 导入组件，组件必须声明 name\nimport myPlugin01 from './index.vue'\n\n// 为组件提供 install 安装方法，供按需引入\nmyPlugin01.install = function (Vue) {\n  Vue.component(myPlugin01.name, myPlugin01)\n}\n\n// 默认导出组件\nexport default myPlugin01\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990442-78165","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br")])],-1),P=t("h2",{id:"整合所有的组件对外导出即一个完整的组件库"},[t("a",{class:"header-anchor",href:"#整合所有的组件对外导出即一个完整的组件库","aria-hidden":"true"},"#"),a(" 整合所有的组件，对外导出，即一个完整的组件库")],-1),_=t("p",null,[a("修改 "),t("code",null,"/packages/index.js"),a(" 文件，对整个组件库进行导出。")],-1),$=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token comment"},"// 导入颜色选择器组件"),a("\n"),t("span",{class:"token keyword"},"import"),a(" myPlugin01 "),t("span",{class:"token keyword"},"from"),a(),t("span",{class:"token string"},"'./my-plugin01'"),a("\n\n"),t("span",{class:"token comment"},"// 存储组件列表"),a("\n"),t("span",{class:"token keyword"},"const"),a(" components "),t("span",{class:"token operator"},"="),a(),t("span",{class:"token punctuation"},"["),a("\n  myPlugin01\n"),t("span",{class:"token punctuation"},"]"),a("\n\n"),t("span",{class:"token comment"},"// 定义 install 方法，接收 Vue 作为参数。如果使用 use 注册插件，则所有的组件都将被注册"),a("\n"),t("span",{class:"token keyword"},"const"),a(),t("span",{class:"token function-variable function"},"install"),a(),t("span",{class:"token operator"},"="),a(),t("span",{class:"token keyword"},"function"),a(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"Vue"),t("span",{class:"token punctuation"},")"),a(),t("span",{class:"token punctuation"},"{"),a("\n  "),t("span",{class:"token comment"},"// 判断是否安装"),a("\n  "),t("span",{class:"token keyword"},"if"),a(),t("span",{class:"token punctuation"},"("),a("install"),t("span",{class:"token punctuation"},"."),a("installed"),t("span",{class:"token punctuation"},")"),a(),t("span",{class:"token keyword"},"return"),a("\n  "),t("span",{class:"token comment"},"// 遍历注册全局组件"),a("\n  components"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"map"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"component"),a(),t("span",{class:"token operator"},"=>"),a(" Vue"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"component"),t("span",{class:"token punctuation"},"("),a("component"),t("span",{class:"token punctuation"},"."),a("name"),t("span",{class:"token punctuation"},","),a(" component"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},")"),a("\n"),t("span",{class:"token punctuation"},"}"),a("\n\n"),t("span",{class:"token comment"},"// 判断是否是直接引入文件"),a("\n"),t("span",{class:"token keyword"},"if"),a(),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"typeof"),a(" window "),t("span",{class:"token operator"},"!=="),a(),t("span",{class:"token string"},"'undefined'"),a(),t("span",{class:"token operator"},"&&"),a(" window"),t("span",{class:"token punctuation"},"."),a("Vue"),t("span",{class:"token punctuation"},")"),a(),t("span",{class:"token punctuation"},"{"),a("\n  "),t("span",{class:"token function"},"install"),t("span",{class:"token punctuation"},"("),a("window"),t("span",{class:"token punctuation"},"."),a("Vue"),t("span",{class:"token punctuation"},")"),a("\n"),t("span",{class:"token punctuation"},"}"),a("\n\n"),t("span",{class:"token keyword"},"export"),a(),t("span",{class:"token keyword"},"default"),a(),t("span",{class:"token punctuation"},"{"),a("\n  "),t("span",{class:"token comment"},"// 导出的对象必须具有 install，才能被 Vue.use() 方法安装"),a("\n  install"),t("span",{class:"token punctuation"},","),a("\n  "),t("span",{class:"token comment"},"// 以下是具体的组件列表"),a("\n  myPlugin01\n"),t("span",{class:"token punctuation"},"}"),a("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990442-40960"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 导入颜色选择器组件\nimport myPlugin01 from './my-plugin01'\n\n// 存储组件列表\nconst components = [\n  myPlugin01\n]\n\n// 定义 install 方法，接收 Vue 作为参数。如果使用 use 注册插件，则所有的组件都将被注册\nconst install = function (Vue) {\n  // 判断是否安装\n  if (install.installed) return\n  // 遍历注册全局组件\n  components.map(component => Vue.component(component.name, component))\n}\n\n// 判断是否是直接引入文件\nif (typeof window !== 'undefined' && window.Vue) {\n  install(window.Vue)\n}\n\nexport default {\n  // 导出的对象必须具有 install，才能被 Vue.use() 方法安装\n  install,\n  // 以下是具体的组件列表\n  myPlugin01\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990442-40960","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br"),t("span",{class:"line-number"},"26"),t("br"),t("span",{class:"line-number"},"27"),t("br")])],-1),I=t("h2",{id:"编写示例"},[t("a",{class:"header-anchor",href:"#编写示例","aria-hidden":"true"},"#"),a(" 编写示例")],-1),V=t("p",null,"在示例中导入组件库",-1),A=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token keyword"},"import"),a(" Vue "),t("span",{class:"token keyword"},"from"),a(),t("span",{class:"token string"},"'vue'"),a("\n"),t("span",{class:"token keyword"},"import"),a(" App "),t("span",{class:"token keyword"},"from"),a(),t("span",{class:"token string"},"'./App.vue'"),a("\n\n"),t("span",{class:"token comment"},"// 导入组件库"),a("\n"),t("span",{class:"token keyword"},"import"),a(" MyPlugin "),t("span",{class:"token keyword"},"from"),a(),t("span",{class:"token string"},"'./../packages/index'"),a("\n"),t("span",{class:"token comment"},"// 注册组件库"),a("\nVue"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"use"),t("span",{class:"token punctuation"},"("),a("MyPlugin"),t("span",{class:"token punctuation"},")"),a("\n\nVue"),t("span",{class:"token punctuation"},"."),a("config"),t("span",{class:"token punctuation"},"."),a("productionTip "),t("span",{class:"token operator"},"="),a(),t("span",{class:"token boolean"},"false"),a("\n\n"),t("span",{class:"token keyword"},"new"),a(),t("span",{class:"token class-name"},"Vue"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),a("\n  "),t("span",{class:"token function-variable function"},"render"),t("span",{class:"token operator"},":"),a(),t("span",{class:"token parameter"},"h"),a(),t("span",{class:"token operator"},"=>"),a(),t("span",{class:"token function"},"h"),t("span",{class:"token punctuation"},"("),a("App"),t("span",{class:"token punctuation"},")"),a("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"$mount"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'#app'"),t("span",{class:"token punctuation"},")"),a("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990442-27163"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"import Vue from 'vue'\nimport App from './App.vue'\n\n// 导入组件库\nimport MyPlugin from './../packages/index'\n// 注册组件库\nVue.use(MyPlugin)\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990442-27163","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br")])],-1),E=c('<h2 id="发布到-npm方便直接在项目中引用"><a class="header-anchor" href="#发布到-npm方便直接在项目中引用" aria-hidden="true">#</a> 发布到 npm，方便直接在项目中引用</h2><p>到此为止我们一个完整的组件库已经开发完成了，接下来就是发布到 npm 以供后期使用</p><h3 id="packagejson-中新增一条编译为库的命令"><a class="header-anchor" href="#packagejson-中新增一条编译为库的命令" aria-hidden="true">#</a> package.json 中新增一条编译为库的命令</h3><p>在库模式中，Vue是外置的，这意味着即使在代码中引入了 Vue，打包后的文件也是不包含Vue的。</p><p>以下我们在 <code>scripts</code> 中新增一条命令 <code>npm run lib</code></p><ul><li><code>--target</code>: 构建目标，默认为应用模式。这里修改为 <code>lib</code> 启用库模式。还有一种<code>wc</code>模式</li><li><code>--dest</code> : 输出目录，默认 <code>dist</code>。这里我们改成 <code>lib</code></li><li><code>[entry]</code>: 最后一个参数为入口文件，默认为 <code>src/App.vue</code>。这里我们指定编译 <code>packages/</code> 组件库目录。</li></ul>',6),N=t("div",{class:"language-json line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token property"},'"scripts"'),t("span",{class:"token operator"},":"),a(),t("span",{class:"token punctuation"},"{"),a("\n    "),t("span",{class:"token comment"},"// ..."),a("\n    "),t("span",{class:"token property"},'"lib"'),t("span",{class:"token operator"},":"),a(),t("span",{class:"token string"},'"vue-cli-service build --target lib --name vcolorpicker --dest lib packages/index.js"'),a("\n"),t("span",{class:"token punctuation"},"}"),a("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990443-52849"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'"scripts": {\n    // ...\n    "lib": "vue-cli-service build --target lib --name vcolorpicker --dest lib packages/index.js"\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990443-52849","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br")])],-1),D=t("p",null,"执行编译库命令",-1),F=t("div",{class:"language-sh line-numbers-mode"},[t("pre",null,[t("code",null,"npm run lib\n"),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990443-16246"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"npm run lib\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990443-16246","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br")])],-1),S=c('<p>生成的文件</p><ul><li><p><code>dist/my-plugin01.common.js</code>：一个给打包器用的 CommonJS 包 (不幸的是，webpack 目前还并没有支持 ES modules 输出格式的包)</p></li><li><p><code>dist/my-plugin01.umd.js</code>：一个直接给浏览器或 AMD loader 使用的 UMD 包</p></li><li><p><code>dist/my-plugin01.umd.min.js</code>：压缩后的 UMD 构建版本</p></li><li><p><code>dist/my-plugin01.css</code>：提取出来的 CSS 文件 (可以通过在 <code>vue.config.js</code> 中设置 <code>css: { extract: false } </code>强制内联)</p></li></ul><h3 id="配置-packagejson-文件中发布到-npm-的字段"><a class="header-anchor" href="#配置-packagejson-文件中发布到-npm-的字段" aria-hidden="true">#</a> 配置 <code>package.json</code> 文件中发布到 npm 的字段</h3><ul><li><code>name</code>: 包名，该名字是唯一的。可在 npm 官网搜索名字，如果存在则需换个名字。</li><li><code>version</code>: 版本号，每次发布至 npm 需要修改版本号，不能和历史版本号相同。</li><li><code>description</code>: 描述。</li><li><code>main</code>: 入口文件，该字段需指向我们最终编译后的包文件。</li><li><code>keyword</code>：关键字，数组以逗号分离希望用户最终搜索的词。</li><li><code>author</code>：作者</li><li><code>private</code>：是否私有，需要修改为 <code>false</code> 才能发布到 npm</li><li><code>license</code>： 开源协议</li></ul><h3 id="添加-npmignore-文件设置忽略发布文件"><a class="header-anchor" href="#添加-npmignore-文件设置忽略发布文件" aria-hidden="true">#</a> 添加 <code>.npmignore</code> 文件，设置忽略发布文件</h3><p>我们发布到 npm 中，只有编译后的 lib 目录、package.json、README.md才是需要被发布的。所以我们需要设置忽略目录和文件。</p><p>参考</p>',7),B=t("div",{class:"language-"},[t("pre",null,[t("code",null,"# 忽略目录\ncomponents/\nsrc/\ndist/\npublic/\ndocs/\ndocs/\nnode_modules\n.history\n\n# 忽略指定文件\nvue.config.js\nbabel.config.js\n*.map\n.editorconfig\n.browserslistrc\n.eslintrc\n.gitignore\ndeploy.sh\npackage-lock.json\n"),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990443-95756"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 忽略目录\ncomponents/\nsrc/\ndist/\npublic/\ndocs/\ndocs/\nnode_modules\n.history\n\n# 忽略指定文件\nvue.config.js\nbabel.config.js\n*.map\n.editorconfig\n.browserslistrc\n.eslintrc\n.gitignore\ndeploy.sh\npackage-lock.json\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990443-95756","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br")])],-1),M=t("h3",{id:"登录到-npm"},[t("a",{class:"header-anchor",href:"#登录到-npm","aria-hidden":"true"},"#"),a(" 登录到 npm")],-1),R=t("p",null,"首先需要到 npm 上注册一个账号，注册过程略。",-1),W=t("p",null,"如果配置了淘宝镜像，先设置回npm镜像：",-1),U=t("div",{class:"language-sh line-numbers-mode"},[t("pre",null,[t("code",null,"npm config set registry http://registry.npmjs.org \n"),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990443-36564"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"npm config set registry http://registry.npmjs.org \n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990443-36564","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br")])],-1),G=t("p",null,"然后在终端执行登录命令，输入用户名、密码、邮箱即可登录。",-1),J=t("div",{class:"language-sh line-numbers-mode"},[t("pre",null,[t("code",null,"npm login\n"),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990443-19406"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"npm login\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990443-19406","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br")])],-1),L=c('<h3 id="发布到-npm"><a class="header-anchor" href="#发布到-npm" aria-hidden="true">#</a> 发布到 npm</h3><p>发布成功后你会立马收到来自npm的邮件，提示你发布成功，你也可以直接去官网搜索你发布的组件</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>在发布你的插件的时候确保你的插件名在npm搜索不到，名称被占用是发布不成功的</p></div><h2 id="使用组件"><a class="header-anchor" href="#使用组件" aria-hidden="true">#</a> 使用组件</h2><p>安装</p>',5),q=t("div",{class:"language-sh line-numbers-mode"},[t("pre",null,[t("code",null,"npm i my-plugin01\n"),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990443-26923"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"npm i my-plugin01\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990443-26923","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br")])],-1),z=t("p",null,"使用",-1),H=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token comment"},"// 在 main.js 引入并注册"),a("\n"),t("span",{class:"token keyword"},"import"),a(" MyPlugin01 "),t("span",{class:"token keyword"},"from"),a(),t("span",{class:"token string"},"'my-plugin01'"),a("\nVue"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"use"),t("span",{class:"token punctuation"},"("),a("MyPlugin01"),t("span",{class:"token punctuation"},")"),a("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556990444-64061"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 在 main.js 引入并注册\nimport MyPlugin01 from 'my-plugin01'\nVue.use(MyPlugin01)\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556990444-64061","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br")])],-1);o.render=function(t,a,c,s,o,K){return n(),e("div",null,[i,l,p,d,m,r,u,y,b,k,h,f,g,v,C,x,w,j,T,P,_,$,I,V,A,E,N,D,F,S,B,M,R,W,U,G,J,L,q,z,H])};export default o;export{s as __pageData};
