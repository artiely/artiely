import{o as n,c as t,a,x as e}from"./app.5f3fb606.js";const o='{"title":"Electron实现消息通知与监听网络","description":"","frontmatter":{"title":"Electron实现消息通知与监听网络","tag":["nodejs","electron"],"author":"Artiely","date":"2018-7-10","cover":"https://gitee.com/artiely/Figure-bed/raw/master/images/20200315165620.png","base64":"101e2e"},"headers":[{"level":2,"title":"Electron实现消息通知","slug":"electron实现消息通知"},{"level":2,"title":"Electron 监听网络变化","slug":"electron-监听网络变化"}],"relativePath":"post/2018/2018-7-10-electron-message.md","lastUpdated":1629110798454}',s={},c=a("h2",{id:"electron实现消息通知"},[a("a",{class:"header-anchor",href:"#electron实现消息通知","aria-hidden":"true"},"#"),e(" Electron实现消息通知")],-1),i=a("p",null,[e("Electron 里面的消息通知是基于 h5 的通知 api 实现的。"),a("br"),a("img",{src:"https://gitee.com/artiely/Figure-bed/raw/master/images/20200308134242.png",alt:""})],-1),l=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),e(" option "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token punctuation"},"{"),e("\n  title"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token string"},"'title'"),a("span",{class:"token punctuation"},","),e("\n  body"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token string"},"'body'"),a("span",{class:"token punctuation"},","),e("\n  icon"),a("span",{class:"token operator"},":"),e(" path"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"join"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'main-process/favicon2.ico'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token keyword"},"const"),e(" myNotification "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},[e("window"),a("span",{class:"token punctuation"},"."),e("Notification")]),a("span",{class:"token punctuation"},"("),e("option"),a("span",{class:"token punctuation"},"."),e("title"),a("span",{class:"token punctuation"},","),e(" option"),a("span",{class:"token punctuation"},")"),e("\nmyNotification"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function-variable function"},"onclick"),e(),a("span",{class:"token operator"},"="),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"{"),e("\n  console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'clicked'"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556982227-1204"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"const option = {\n  title: 'title',\n  body: 'body',\n  icon: path.join('main-process/favicon2.ico'),\n}\nconst myNotification = new window.Notification(option.title, option)\nmyNotification.onclick = () => {\n  console.log('clicked')\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556982227-1204","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br")])],-1),p=a("h2",{id:"electron-监听网络变化"},[a("a",{class:"header-anchor",href:"#electron-监听网络变化","aria-hidden":"true"},"#"),e(" Electron 监听网络变化")],-1),d=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[e("window"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"addEventListener"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'online'"),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token keyword"},"function"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\nwindow"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"addEventListener"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'offline'"),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token keyword"},"function"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629556982229-95476"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"window.addEventListener('online', function(){});\nwindow.addEventListener('offline', function(){});\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629556982229-95476","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br")])],-1);s.render=function(a,e,o,s,u,r){return n(),t("div",null,[c,i,l,p,d])};export default s;export{o as __pageData};
