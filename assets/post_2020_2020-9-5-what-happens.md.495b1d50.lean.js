import{o as e,c as o,f as t,a as i,x as l}from"./app.b304d650.js";const c='{"title":"当···时发生了什么","description":"","frontmatter":{"title":"当···时发生了什么","tag":["javaScript"],"cover":"https://gitee.com/artiely/Figure-bed/raw/master/image/20200905120754.png","base64":"f2f2f2","author":"artiely","date":"2020-9-5"},"headers":[{"level":2,"title":"按下\\"g\\"键","slug":"按下g键"},{"level":2,"title":"回车键按下","slug":"回车键按下"},{"level":2,"title":"产生中断[非USB键盘]","slug":"产生中断非usb键盘"},{"level":2,"title":"(Windows)一个 `WM_KEYDOWN` 消息被发往应用程序","slug":"windows一个-wm_keydown-消息被发往应用程序"},{"level":2,"title":"(Mac OS X)一个 `KeyDown` NSEvent被发往应用程序","slug":"mac-os-x一个-keydown-nsevent被发往应用程序"},{"level":2,"title":"(GNU/Linux)Xorg 服务器监听键码值","slug":"gnulinuxxorg-服务器监听键码值"},{"level":2,"title":"解析URL","slug":"解析url"},{"level":2,"title":"输入的是 URL 还是搜索的关键字？","slug":"输入的是-url-还是搜索的关键字"},{"level":2,"title":"转换非 ASCII 的 Unicode 字符","slug":"转换非-ascii-的-unicode-字符"},{"level":2,"title":"检查 HSTS 列表","slug":"检查-hsts-列表"},{"level":2,"title":"DNS 查询","slug":"dns-查询"},{"level":2,"title":"ARP 过程","slug":"arp-过程"},{"level":2,"title":"使用套接字","slug":"使用套接字"},{"level":2,"title":"TLS 握手","slug":"tls-握手"},{"level":2,"title":"HTTP 协议","slug":"http-协议"},{"level":2,"title":"HTTP 服务器请求处理","slug":"http-服务器请求处理"},{"level":2,"title":"浏览器背后的故事","slug":"浏览器背后的故事"},{"level":2,"title":"浏览器","slug":"浏览器"},{"level":2,"title":"HTML 解析","slug":"html-解析"},{"level":2,"title":"CSS 解析","slug":"css-解析"},{"level":2,"title":"页面渲染","slug":"页面渲染"},{"level":2,"title":"GPU 渲染","slug":"gpu-渲染"},{"level":2,"title":"Window Server","slug":"window-server"},{"level":2,"title":"后期渲染与用户引发的处理","slug":"后期渲染与用户引发的处理"}],"relativePath":"post/2020/2020-9-5-what-happens.md","lastUpdated":1629110865544}',d={},n=t('',39),a=i("pre",null,[i("code",null,"Sender MAC: interface:mac:address:here\nSender IP: interface.ip.goes.here\nTarget MAC: FF:FF:FF:FF:FF:FF (Broadcast)\nTarget IP: target.ip.goes.here\n"),i("div",{class:"m-mdic-copy-wrapper"},[i("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558771990-2452"},"复制成功"),i("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"Sender MAC: interface:mac:address:here\nSender IP: interface.ip.goes.here\nTarget MAC: FF:FF:FF:FF:FF:FF (Broadcast)\nTarget IP: target.ip.goes.here\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558771990-2452","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])],-1),r=t("",8),p=i("pre",null,[i("code",null,"Sender MAC: target:mac:address:here\nSender IP: target.ip.goes.here\nTarget MAC: interface:mac:address:here\nTarget IP: interface.ip.goes.here\n"),i("div",{class:"m-mdic-copy-wrapper"},[i("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558771990-22700"},"复制成功"),i("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"Sender MAC: target:mac:address:here\nSender IP: target.ip.goes.here\nTarget MAC: interface:mac:address:here\nTarget IP: interface.ip.goes.here\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558771990-22700","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])],-1),s=t('',17),h=i("pre",null,[i("code",null,"GET / HTTP/1.1\nHost: google.com\nConnection: close\n[其他头部]\n"),i("div",{class:"m-mdic-copy-wrapper"},[i("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558771990-24987"},"复制成功"),i("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"GET / HTTP/1.1\nHost: google.com\nConnection: close\n[其他头部]\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558771990-24987","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])],-1),u=i("p",null,[l("“其他头部”包含了一系列的由冒号分割开的键值对，它们的格式符合HTTP协议标准，它们之间由一个换行符分割开来。（这里我们假设浏览器没有违反HTTP协议标准的bug，同时假设浏览器使用 "),i("code",null,"HTTP/1.1"),l(" 协议，不然的话头部可能不包含 "),i("code",null,"Host"),l(" 字段，同时 "),i("code",null,"GET"),l(" 请求中的版本号会变成 "),i("code",null,"HTTP/1.0"),l(" 或者 "),i("code",null,"HTTP/0.9"),l(" 。）")],-1),m=i("p",null,'HTTP/1.1 定义了“关闭连接”的选项 "close"，发送者使用这个选项指示这次连接在响应结束之后会断开。例如：',-1),y=i("pre",null,[i("code",null,"Connection:close\n"),i("div",{class:"m-mdic-copy-wrapper"},[i("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558771990-54926"},"复制成功"),i("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"Connection:close\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558771990-54926","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])],-1),g=i("p",null,'不支持持久连接的 HTTP/1.1 应用必须在每条消息中都包含 "close" 选项。',-1),T=i("p",null,"在发送完这些请求和头部之后，浏览器发送一个换行符，表示要发送的内容已经结束了。",-1),S=i("p",null,"服务器端返回一个响应码，指示这次请求的状态，响应的形式是这样的::",-1),f=i("pre",null,[i("code",null,"200 OK\n[响应头部]\n"),i("div",{class:"m-mdic-copy-wrapper"},[i("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558771990-73364"},"复制成功"),i("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"200 OK\n[响应头部]\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558771990-73364","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])],-1),C=i("p",null,[l("然后是一个换行，接下来有效载荷(payload)，也就是 "),i("code",null,"www.google.com"),l(" 的HTML内容。服务器下面可能会关闭连接，如果客户端请求保持连接的话，服务器端会保持连接打开，以供之后的请求重用。")],-1),P=i("p",null,"如果浏览器发送的HTTP头部包含了足够多的信息（例如包含了 Etag 头部），以至于服务器可以判断出，浏览器缓存的文件版本自从上次获取之后没有再更改过，服务器可能会返回这样的响应::",-1),_=i("pre",null,[i("code",null,"304 Not Modified\n[响应头部]\n"),i("div",{class:"m-mdic-copy-wrapper"},[i("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558771990-31717"},"复制成功"),i("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"304 Not Modified\n[响应头部]\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558771990-31717","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])],-1),w=t('',39);d.render=function(t,i,l,c,d,b){return e(),o("div",null,[n,a,r,p,s,h,u,m,y,g,T,S,f,C,P,_,w])};export default d;export{c as __pageData};
