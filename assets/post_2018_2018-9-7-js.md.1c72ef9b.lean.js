import{o as n,c as a,t,a as e,x as s}from"./app.746f22cf.js";const o='{"title":"javascript 的执行逻辑","description":"","frontmatter":{"title":"javascript 的执行逻辑","tag":["javaScript"],"date":"2018-9-7","cover":"https://gitee.com/artiely/Figure-bed/raw/master/images/20200320132450.png","hot":true,"base64":"f0de3e"},"headers":[{"level":2,"title":"你将了解","slug":"你将了解"},{"level":2,"title":"执行栈","slug":"执行栈"},{"level":2,"title":"什么是执行上下文","slug":"什么是执行上下文"},{"level":3,"title":"执行上下文的创建过程","slug":"执行上下文的创建过程"},{"level":3,"title":"创建阶段","slug":"创建阶段"},{"level":3,"title":"词法环境（Lexical Environment）","slug":"词法环境lexical-environment"},{"level":3,"title":"变量提升","slug":"变量提升"},{"level":3,"title":"对外部环境的引用","slug":"对外部环境的引用"},{"level":3,"title":"闭包","slug":"闭包"},{"level":2,"title":"this 绑定","slug":"this-绑定"},{"level":2,"title":"最后","slug":"最后"}],"relativePath":"post/2018/2018-9-7-js.md","lastUpdated":1629110799404}',c={},l=t('',6),i=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"function"),s(),e("span",{class:"token function"},"one"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s(),e("span",{class:"token punctuation"},"{"),s("\n  console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'one'"),e("span",{class:"token punctuation"},")"),s("\n  "),e("span",{class:"token function"},"two"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token keyword"},"function"),s(),e("span",{class:"token function"},"two"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s(),e("span",{class:"token punctuation"},"{"),s("\n  console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'two'"),e("span",{class:"token punctuation"},")"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token function"},"one"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995519-41706"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function one() {\n  console.log('one')\n  two()\n}\nfunction two() {\n  console.log('two')\n}\none()\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995519-41706","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br")])],-1),p=t('',3),r=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"function"),s(),e("span",{class:"token function"},"foo"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s(),e("span",{class:"token punctuation"},"{"),s("\n  "),e("span",{class:"token function"},"foo"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token function"},"foo"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995519-23206"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function foo() {\n  foo()\n}\nfoo()\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995519-23206","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br")])],-1),u=t('',16),d=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[s("ExecutionContext "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token punctuation"},"{"),s("\n  LexicalEnvironment "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token operator"},"<"),s("词法环境"),e("span",{class:"token operator"},">"),s("，\n  VariableEnvironment "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token operator"},"<"),s("变量环境"),e("span",{class:"token operator"},">"),s("，\n"),e("span",{class:"token punctuation"},"}"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995519-81472"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"ExecutionContext = {\n  LexicalEnvironment = <词法环境>，\n  VariableEnvironment = <变量环境>，\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995519-81472","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br")])],-1),m=t('',14),b=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[s("GlobalExectionContext "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token punctuation"},"{"),s("\n  "),e("span",{class:"token comment"},"// 词法环境"),s("\n  LexicalEnvironment"),e("span",{class:"token operator"},":"),e("span",{class:"token punctuation"},"{"),s("\n    "),e("span",{class:"token comment"},"// 功能环境记录"),s("\n    EnvironmentRecord"),e("span",{class:"token operator"},":"),e("span",{class:"token punctuation"},"{"),s("\n      Type"),e("span",{class:"token operator"},":"),e("span",{class:"token string"},'"Object"'),e("span",{class:"token punctuation"},","),s("\n      "),e("span",{class:"token comment"},"// Identifier bindings go here"),s("\n     "),e("span",{class:"token punctuation"},"}"),s("\n    outer"),e("span",{class:"token operator"},":"),e("span",{class:"token operator"},"<"),e("span",{class:"token keyword"},"null"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n    "),e("span",{class:"token keyword"},"this"),e("span",{class:"token operator"},":"),e("span",{class:"token operator"},"<"),s("global object"),e("span",{class:"token operator"},">"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\nFunctionExectionContext "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token punctuation"},"{"),s("\n  LexicalEnvironment"),e("span",{class:"token operator"},":"),e("span",{class:"token punctuation"},"{"),s("\n    EnvironmentRecord"),e("span",{class:"token operator"},":"),e("span",{class:"token punctuation"},"{"),s("\n      Type"),e("span",{class:"token operator"},":"),e("span",{class:"token string"},'"Declarative"'),e("span",{class:"token punctuation"},","),s("\n      "),e("span",{class:"token comment"},"// Identifier bindings go here"),s("\n     "),e("span",{class:"token punctuation"},"}"),s("\n    outer"),e("span",{class:"token operator"},":"),e("span",{class:"token operator"},"<"),s("Global or outer "),e("span",{class:"token keyword"},"function"),s(" environment reference"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n    "),e("span",{class:"token keyword"},"this"),e("span",{class:"token operator"},":"),e("span",{class:"token operator"},"<"),s("取决于函数的调用方式"),e("span",{class:"token operator"},">"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995520-1164"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'GlobalExectionContext = {\n  // 词法环境\n  LexicalEnvironment:{\n    // 功能环境记录\n    EnvironmentRecord:{\n      Type:"Object",\n      // Identifier bindings go here\n     }\n    outer:<null>,\n    this:<global object>\n  }\n}\nFunctionExectionContext = {\n  LexicalEnvironment:{\n    EnvironmentRecord:{\n      Type:"Declarative",\n      // Identifier bindings go here\n     }\n    outer:<Global or outer function environment reference>,\n    this:<取决于函数的调用方式>\n  }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995520-1164","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br"),e("span",{class:"line-number"},"22"),e("br")])],-1),k=e("h4",{id:"变量环境"},[e("a",{class:"header-anchor",href:"#变量环境","aria-hidden":"true"},"#"),s(" 变量环境:")],-1),y=e("p",null,[s("它也是一个词法环境，其 EnvironmentRecord 包含了由 VariableStatements 在此执行上下文创建的绑定。"),e("br"),s(" 如上所述，变量环境也是一个词法环境，因此它具有上面定义的词法环境的所有属性。"),e("br"),s(" 在 ES6 中，LexicalEnvironment 组件和 VariableEnvironment 组件的区别在于前者用于存储函数声明和变量（ let 和 const ）绑定，而后者仅用于存储变量（ var ）绑定。"),e("br"),s(" 让我们结合一些代码示例来理解上述概念：")],-1),h=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"let"),s(" a "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token number"},"20"),s("\n"),e("span",{class:"token keyword"},"const"),s(" b "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token number"},"30"),s("\n"),e("span",{class:"token keyword"},"var"),s(" c\n\n"),e("span",{class:"token keyword"},"function"),s(),e("span",{class:"token function"},"multiply"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[s("e"),e("span",{class:"token punctuation"},","),s(" f")]),e("span",{class:"token punctuation"},")"),s(),e("span",{class:"token punctuation"},"{"),s("\n  "),e("span",{class:"token keyword"},"var"),s(" g "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token number"},"20"),s("\n  "),e("span",{class:"token keyword"},"return"),s(" e "),e("span",{class:"token operator"},"*"),s(" f "),e("span",{class:"token operator"},"*"),s(" g\n"),e("span",{class:"token punctuation"},"}"),s("\n\nc "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token function"},"multiply"),e("span",{class:"token punctuation"},"("),e("span",{class:"token number"},"20"),e("span",{class:"token punctuation"},","),s(),e("span",{class:"token number"},"30"),e("span",{class:"token punctuation"},")"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995520-97017"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"let a = 20\nconst b = 30\nvar c\n\nfunction multiply(e, f) {\n  var g = 20\n  return e * f * g\n}\n\nc = multiply(20, 30)\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995520-97017","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br")])],-1),f=e("p",null,"执行上下文如下所示：",-1),v=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[s("GlobalExectionContext "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token punctuation"},"{"),s("\n  LexicalEnvironment"),e("span",{class:"token operator"},":"),e("span",{class:"token punctuation"},"{"),s("\n    EnvironmentRecord"),e("span",{class:"token operator"},":"),e("span",{class:"token punctuation"},"{"),s("\n      Type"),e("span",{class:"token operator"},":"),e("span",{class:"token string"},'"Object"'),e("span",{class:"token punctuation"},","),s("\n      "),e("span",{class:"token comment"},"// Identifier bindings go here"),s("\n      a"),e("span",{class:"token operator"},":"),e("span",{class:"token operator"},"<"),s("uninitialized"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n      b"),e("span",{class:"token operator"},":"),e("span",{class:"token operator"},"<"),s("uninitialized"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n      multiply"),e("span",{class:"token operator"},":"),e("span",{class:"token operator"},"<"),s("func"),e("span",{class:"token operator"},">"),s("\n    "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n    outer"),e("span",{class:"token operator"},":"),e("span",{class:"token operator"},"<"),e("span",{class:"token keyword"},"null"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n    ThisBinding"),e("span",{class:"token operator"},":"),e("span",{class:"token operator"},"<"),s("Global Object"),e("span",{class:"token operator"},">"),s("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n  VariableEnvironment"),e("span",{class:"token operator"},":"),e("span",{class:"token punctuation"},"{"),s("\n    EnvironmentRecord"),e("span",{class:"token operator"},":"),e("span",{class:"token punctuation"},"{"),s("\n      Type"),e("span",{class:"token operator"},":"),e("span",{class:"token string"},'"Object"'),e("span",{class:"token punctuation"},","),s("\n      "),e("span",{class:"token comment"},"// Identifier bindings go here"),s("\n      c"),e("span",{class:"token operator"},":"),e("span",{class:"token keyword"},"undefined"),e("span",{class:"token punctuation"},","),s("\n    "),e("span",{class:"token punctuation"},"}"),s("\n    outer"),e("span",{class:"token operator"},":"),e("span",{class:"token operator"},"<"),e("span",{class:"token keyword"},"null"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n    ThisBinding"),e("span",{class:"token operator"},":"),e("span",{class:"token operator"},"<"),s("Global Object"),e("span",{class:"token operator"},">"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995520-40871"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'GlobalExectionContext = {\n  LexicalEnvironment:{\n    EnvironmentRecord:{\n      Type:"Object",\n      // Identifier bindings go here\n      a:<uninitialized>,\n      b:<uninitialized>,\n      multiply:<func>\n    },\n    outer:<null>,\n    ThisBinding:<Global Object>\n  },\n  VariableEnvironment:{\n    EnvironmentRecord:{\n      Type:"Object",\n      // Identifier bindings go here\n      c:undefined,\n    }\n    outer:<null>,\n    ThisBinding:<Global Object>\n  }\n}\n\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995520-40871","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br"),e("span",{class:"line-number"},"22"),e("br"),e("span",{class:"line-number"},"23"),e("br")])],-1),g=e("p",null,"在执行阶段，完成变量赋值。因此，在执行阶段，全局执行上下文将看起来像这样。",-1),C=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token comment"},"// 执行"),s("\nGlobalExectionContext "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token punctuation"},"{"),s("\nLexicalEnvironment"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n    EnvironmentRecord"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n      Type"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"Object"'),e("span",{class:"token punctuation"},","),s("\n      "),e("span",{class:"token comment"},"// Identifier bindings go here"),s("\n      a"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"20"),e("span",{class:"token punctuation"},","),s("\n      b"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"30"),e("span",{class:"token punctuation"},","),s("\n      multiply"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s(" func "),e("span",{class:"token operator"},">"),s("\n    "),e("span",{class:"token punctuation"},"}"),s("\n    outer"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),e("span",{class:"token keyword"},"null"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n    ThisBinding"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("Global Object"),e("span",{class:"token operator"},">"),s("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\nVariableEnvironment"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n    EnvironmentRecord"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n      Type"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"Object"'),e("span",{class:"token punctuation"},","),s("\n      "),e("span",{class:"token comment"},"// Identifier bindings go here"),s("\n      c"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token keyword"},"undefined"),e("span",{class:"token punctuation"},","),s("\n    "),e("span",{class:"token punctuation"},"}"),s("\n    outer"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),e("span",{class:"token keyword"},"null"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n    ThisBinding"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("Global Object"),e("span",{class:"token operator"},">"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995520-70058"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'// 执行\nGlobalExectionContext = {\nLexicalEnvironment: {\n    EnvironmentRecord: {\n      Type: "Object",\n      // Identifier bindings go here\n      a: 20,\n      b: 30,\n      multiply: < func >\n    }\n    outer: <null>,\n    ThisBinding: <Global Object>\n  },\nVariableEnvironment: {\n    EnvironmentRecord: {\n      Type: "Object",\n      // Identifier bindings go here\n      c: undefined,\n    }\n    outer: <null>,\n    ThisBinding: <Global Object>\n  }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995520-70058","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br"),e("span",{class:"line-number"},"22"),e("br"),e("span",{class:"line-number"},"23"),e("br")])],-1),x=e("p",null,"当 multiply(20, 30)遇到函数调用时，会创建一个新的函数执行上下文来执行函数代码。因此，在创建阶段，函数执行上下文将如下所示：",-1),E=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token comment"},"// multiply 创建"),s("\nFunctionExectionContext "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token punctuation"},"{"),s("\nLexicalEnvironment"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n    EnvironmentRecord"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n      Type"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"Declarative"'),e("span",{class:"token punctuation"},","),s("\n      Arguments"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),e("span",{class:"token number"},"0"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"20"),e("span",{class:"token punctuation"},","),s(),e("span",{class:"token number"},"1"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"30"),e("span",{class:"token punctuation"},","),s(" length"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"2"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n    "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n    outer"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("GlobalLexicalEnvironment"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n    ThisBinding"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("Global Object or "),e("span",{class:"token keyword"},"undefined"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\nVariableEnvironment"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n    EnvironmentRecord"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n      Type"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"Declarative"'),e("span",{class:"token punctuation"},","),s("\n      g"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token keyword"},"undefined"),s("\n    "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n    outer"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("GlobalLexicalEnvironment"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n    ThisBinding"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("Global Object or "),e("span",{class:"token keyword"},"undefined"),e("span",{class:"token operator"},">"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995520-57724"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'// multiply 创建\nFunctionExectionContext = {\nLexicalEnvironment: {\n    EnvironmentRecord: {\n      Type: "Declarative",\n      Arguments: {0: 20, 1: 30, length: 2},\n    },\n    outer: <GlobalLexicalEnvironment>,\n    ThisBinding: <Global Object or undefined>,\n  },\nVariableEnvironment: {\n    EnvironmentRecord: {\n      Type: "Declarative",\n      g: undefined\n    },\n    outer: <GlobalLexicalEnvironment>,\n    ThisBinding: <Global Object or undefined>\n  }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995520-57724","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br")])],-1),T=e("p",null,"在此之后，执行上下文将执行执行阶段，这意味着完成了对函数内部变量的赋值。因此，在执行阶段，函数执行上下文将如下所示：",-1),j=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token comment"},"// multiply 执行"),s("\nFunctionExectionContext "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token punctuation"},"{"),s("\nLexicalEnvironment"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n    EnvironmentRecord"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n      Type"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"Declarative"'),e("span",{class:"token punctuation"},","),s("\n      Arguments"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),e("span",{class:"token number"},"0"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"20"),e("span",{class:"token punctuation"},","),s(),e("span",{class:"token number"},"1"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"30"),e("span",{class:"token punctuation"},","),s(" length"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"2"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n    "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n    outer"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("GlobalLexicalEnvironment"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n    ThisBinding"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("Global Object"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\nVariableEnvironment"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n    EnvironmentRecord"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n      Type"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"Declarative"'),e("span",{class:"token punctuation"},","),s("\n      g"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"20"),s("\n    "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n    outer"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("GlobalLexicalEnvironment"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n    ThisBinding"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("Global Object or "),e("span",{class:"token keyword"},"undefined"),e("span",{class:"token operator"},">"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995520-88163"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'// multiply 执行\nFunctionExectionContext = {\nLexicalEnvironment: {\n    EnvironmentRecord: {\n      Type: "Declarative",\n      Arguments: {0: 20, 1: 30, length: 2},\n    },\n    outer: <GlobalLexicalEnvironment>,\n    ThisBinding: <Global Object>,\n  },\nVariableEnvironment: {\n    EnvironmentRecord: {\n      Type: "Declarative",\n      g: 20\n    },\n    outer: <GlobalLexicalEnvironment>,\n    ThisBinding: <Global Object or undefined>\n  }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995520-88163","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br")])],-1),w=t('',6),_=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[s("console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'step1:'"),e("span",{class:"token punctuation"},","),s("a"),e("span",{class:"token punctuation"},")"),s("\n"),e("span",{class:"token keyword"},"var"),s(" a "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token string"},"'artiely'"),s("\nconsole"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'step2:'"),e("span",{class:"token punctuation"},","),s("a"),e("span",{class:"token punctuation"},")"),s("\n"),e("span",{class:"token keyword"},"function"),s(),e("span",{class:"token function"},"bar"),s(),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},"a"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"{"),s("\n  console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'step3:'"),e("span",{class:"token punctuation"},","),s("a"),e("span",{class:"token punctuation"},")"),s("\n  a "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token string"},"'TJ'"),s("\n  console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'step4:'"),e("span",{class:"token punctuation"},","),s("a"),e("span",{class:"token punctuation"},")"),s("\n  "),e("span",{class:"token keyword"},"function"),s(),e("span",{class:"token function"},"a"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"{"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token function"},"bar"),e("span",{class:"token punctuation"},"("),s("a"),e("span",{class:"token punctuation"},")"),s("\nconsole"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'step5:'"),e("span",{class:"token punctuation"},","),s("a"),e("span",{class:"token punctuation"},")"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995520-28645"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"console.log('step1:',a)\nvar a = 'artiely'\nconsole.log('step2:',a)\nfunction bar (a){\n  console.log('step3:',a)\n  a = 'TJ'\n  console.log('step4:',a)\n  function a(){\n  }\n}\nbar(a)\nconsole.log('step5:',a)\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995520-28645","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br")])],-1),A=e("h3",{id:"对外部环境的引用"},[e("a",{class:"header-anchor",href:"#对外部环境的引用","aria-hidden":"true"},"#"),s(" 对外部环境的引用")],-1),I=e("p",null,"上面代码如果我们改用调用方式如下：",-1),G=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"let"),s(" a "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token number"},"20"),s("\n"),e("span",{class:"token keyword"},"const"),s(" b "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token number"},"30"),s("\n"),e("span",{class:"token keyword"},"var"),s(" c\n\n"),e("span",{class:"token keyword"},"function"),s(),e("span",{class:"token function"},"multiply"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s(),e("span",{class:"token punctuation"},"{"),s("\n  "),e("span",{class:"token keyword"},"var"),s(" g "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token number"},"20"),s("\n  "),e("span",{class:"token keyword"},"return"),s(" a "),e("span",{class:"token operator"},"*"),s(" b "),e("span",{class:"token operator"},"*"),s(" g\n"),e("span",{class:"token punctuation"},"}"),s("\n\nc "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token function"},"multiply"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995521-24769"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"let a = 20\nconst b = 30\nvar c\n\nfunction multiply() {\n  var g = 20\n  return a * b * g\n}\n\nc = multiply()\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995521-24769","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br")])],-1),$=e("p",null,[s("其实你会发现结果是一样的"),e("br"),s(" 但是 "),e("code",null,"multiply"),s(" 的执行上下文却发生一些变化")],-1),B=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token comment"},"// 创建"),s("\nFunctionExectionContext "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token punctuation"},"{"),s("\nLexicalEnvironment"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n    EnvironmentRecord"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n      Type"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"Declarative"'),e("span",{class:"token punctuation"},","),s("\n      Arguments"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s(" length"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"0"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n    "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n    outer"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("GlobalLexicalEnvironment"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n    ThisBinding"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("Global Object or "),e("span",{class:"token keyword"},"undefined"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\nVariableEnvironment"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n    EnvironmentRecord"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n      Type"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"Declarative"'),e("span",{class:"token punctuation"},","),s("\n      "),e("span",{class:"token comment"},"// Identifier bindings go here"),s("\n      g"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token keyword"},"undefined"),s("\n    "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n    outer"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("GlobalLexicalEnvironment"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n    ThisBinding"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("Global Object or "),e("span",{class:"token keyword"},"undefined"),e("span",{class:"token operator"},">"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995521-60597"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'// 创建\nFunctionExectionContext = {\nLexicalEnvironment: {\n    EnvironmentRecord: {\n      Type: "Declarative",\n      Arguments: { length: 0},\n    },\n    outer: <GlobalLexicalEnvironment>,\n    ThisBinding: <Global Object or undefined>,\n  },\nVariableEnvironment: {\n    EnvironmentRecord: {\n      Type: "Declarative",\n      // Identifier bindings go here\n      g: undefined\n    },\n    outer: <GlobalLexicalEnvironment>,\n    ThisBinding: <Global Object or undefined>\n  }\n}\n\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995521-60597","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br")])],-1),D=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token comment"},"// 执行"),s("\nFunctionExectionContext "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token punctuation"},"{"),s("\nLexicalEnvironment"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n    EnvironmentRecord"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n      Type"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"Declarative"'),e("span",{class:"token punctuation"},","),s("\n      Arguments"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s(" length"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"0"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n    "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n    outer"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("GlobalLexicalEnvironment"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n    ThisBinding"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("Global Object or "),e("span",{class:"token keyword"},"undefined"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\nVariableEnvironment"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n    EnvironmentRecord"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n      Type"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"Declarative"'),e("span",{class:"token punctuation"},","),s("\n      "),e("span",{class:"token comment"},"// Identifier bindings go here"),s("\n      g"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"20"),s("\n    "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n    outer"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("GlobalLexicalEnvironment"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n    ThisBinding"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("Global Object or "),e("span",{class:"token keyword"},"undefined"),e("span",{class:"token operator"},">"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995521-44810"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'// 执行\nFunctionExectionContext = {\nLexicalEnvironment: {\n    EnvironmentRecord: {\n      Type: "Declarative",\n      Arguments: { length: 0},\n    },\n    outer: <GlobalLexicalEnvironment>,\n    ThisBinding: <Global Object or undefined>,\n  },\nVariableEnvironment: {\n    EnvironmentRecord: {\n      Type: "Declarative",\n      // Identifier bindings go here\n      g: 20\n    },\n    outer: <GlobalLexicalEnvironment>,\n    ThisBinding: <Global Object or undefined>\n  }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995521-44810","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br")])],-1),L=t('',6),N=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"function"),s(),e("span",{class:"token function"},"foo"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s(),e("span",{class:"token punctuation"},"{"),s("\n  "),e("span",{class:"token keyword"},"var"),s(" name "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token string"},"'artiely'"),s("\n  "),e("span",{class:"token keyword"},"function"),s(),e("span",{class:"token function"},"bar"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s(),e("span",{class:"token punctuation"},"{"),s("\n    console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token template-string"},[e("span",{class:"token template-punctuation string"},"`"),e("span",{class:"token string"},"hello "),e("span",{class:"token template-punctuation string"},"`")]),e("span",{class:"token punctuation"},")"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n  "),e("span",{class:"token function"},"bar"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token function"},"foo"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995521-18521"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function foo() {\n  var name = 'artiely'\n  function bar() {\n    console.log(`hello `)\n  }\n  bar()\n}\nfoo()\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995521-18521","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br")])],-1),R=e("p",null,"以上代码是有闭包吗？没有~",-1),O=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"function"),s(),e("span",{class:"token function"},"foo"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s(),e("span",{class:"token punctuation"},"{"),s("\n  "),e("span",{class:"token keyword"},"var"),s(" name "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token string"},"'artiely'"),s("\n  "),e("span",{class:"token keyword"},"function"),s(),e("span",{class:"token function"},"bar"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s(),e("span",{class:"token punctuation"},"{"),s("\n    console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token template-string"},[e("span",{class:"token template-punctuation string"},"`"),e("span",{class:"token string"},"hello "),e("span",{class:"token interpolation"},[e("span",{class:"token interpolation-punctuation punctuation"},"${"),s("name"),e("span",{class:"token interpolation-punctuation punctuation"},"}")]),e("span",{class:"token template-punctuation string"},"`")]),e("span",{class:"token punctuation"},")"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n  "),e("span",{class:"token function"},"bar"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token function"},"foo"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995521-75241"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function foo() {\n  var name = 'artiely'\n  function bar() {\n    console.log(`hello ${name}`)\n  }\n  bar()\n}\nfoo()\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995521-75241","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br")])],-1),F=e("p",null,[s("我们只做了微小的调整，现在就有闭包了,我们只是在"),e("code",null,"bar"),s("中加入了"),e("code",null,"name"),s("得引用"),e("br"),s(" 上面的代码还可以写成这样")],-1),V=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token comment"},"// 或者"),s("\n"),e("span",{class:"token keyword"},"function"),s(),e("span",{class:"token function"},"foo"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s(),e("span",{class:"token punctuation"},"{"),s("\n  "),e("span",{class:"token keyword"},"var"),s(" name "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token string"},"'artiely'"),s("\n  "),e("span",{class:"token keyword"},"return"),s(),e("span",{class:"token keyword"},"function"),s(),e("span",{class:"token function"},"bar"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s(),e("span",{class:"token punctuation"},"{"),s("\n    console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token template-string"},[e("span",{class:"token template-punctuation string"},"`"),e("span",{class:"token string"},"hello "),e("span",{class:"token interpolation"},[e("span",{class:"token interpolation-punctuation punctuation"},"${"),s("name"),e("span",{class:"token interpolation-punctuation punctuation"},"}")]),e("span",{class:"token template-punctuation string"},"`")]),e("span",{class:"token punctuation"},")"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token function"},"foo"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995521-30930"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 或者\nfunction foo() {\n  var name = 'artiely'\n  return function bar() {\n    console.log(`hello ${name}`)\n  }\n}\nfoo()()\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995521-30930","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br")])],-1),P=e("p",null,"对于闭包的形成我进行了如下的几点归纳",-1),S=e("ol",null,[e("li",null,"A 函数内必须有 B 函数的声明；"),e("li",null,"B 函数必须引用 A 函数的变量；"),e("li",null,"B 函数被调用（当然前提是 A 函数被调用）")],-1),q=e("p",null,"以上 3 点缺一不可",-1),J=e("p",null,"我们来分析一下上面代码的执行上下文",-1),z=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token comment"},"// 创建"),s("\nfooFunctionExectionContext "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token punctuation"},"{"),s("\nLexicalEnvironment"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n  EnvironmentRecord"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n    Type"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"Declarative"'),e("span",{class:"token punctuation"},","),s("\n    Arguments"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s(" length"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"0"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n    bar"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s(" func "),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n  outer"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("GlobalLexicalEnvironment"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n  ThisBinding"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("Global Object or "),e("span",{class:"token keyword"},"undefined"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\nVariableEnvironment"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n  EnvironmentRecord"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n    Type"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"Declarative"'),e("span",{class:"token punctuation"},","),s("\n    name"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token keyword"},"undefined"),s("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n  outer"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("GlobalLexicalEnvironment"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n  ThisBinding"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("Global Object or "),e("span",{class:"token keyword"},"undefined"),e("span",{class:"token operator"},">"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token comment"},"// 执行 略"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995521-20827"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'// 创建\nfooFunctionExectionContext = {\nLexicalEnvironment: {\n  EnvironmentRecord: {\n    Type: "Declarative",\n    Arguments: { length: 0},\n    bar: < func >,\n  },\n  outer: <GlobalLexicalEnvironment>,\n  ThisBinding: <Global Object or undefined>,\n},\nVariableEnvironment: {\n  EnvironmentRecord: {\n    Type: "Declarative",\n    name: undefined\n  },\n  outer: <GlobalLexicalEnvironment>,\n  ThisBinding: <Global Object or undefined>\n  }\n}\n// 执行 略\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995521-20827","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br")])],-1),Y=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token comment"},"// 创建"),s("\nbarFunctionExectionContext "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token punctuation"},"{"),s("\nLexicalEnvironment"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n  EnvironmentRecord"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n    Type"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"Declarative"'),e("span",{class:"token punctuation"},","),s("\n    Arguments"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s(" length"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"0"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n  outer"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("fooLexicalEnvironment"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n  ThisBinding"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("Global Object or "),e("span",{class:"token keyword"},"undefined"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\nVariableEnvironment"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n  EnvironmentRecord"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s("\n    Type"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"Declarative"'),e("span",{class:"token punctuation"},","),s("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),s("\n  outer"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("fooLexicalEnvironment"),e("span",{class:"token operator"},">"),e("span",{class:"token punctuation"},","),s("\n  ThisBinding"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token operator"},"<"),s("Global Object or "),e("span",{class:"token keyword"},"undefined"),e("span",{class:"token operator"},">"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token comment"},"// 执行 略"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995521-78930"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'// 创建\nbarFunctionExectionContext = {\nLexicalEnvironment: {\n  EnvironmentRecord: {\n    Type: "Declarative",\n    Arguments: { length: 0},\n  },\n  outer: <fooLexicalEnvironment>,\n  ThisBinding: <Global Object or undefined>,\n},\nVariableEnvironment: {\n  EnvironmentRecord: {\n    Type: "Declarative",\n  },\n  outer: <fooLexicalEnvironment>,\n  ThisBinding: <Global Object or undefined>\n  }\n}\n// 执行 略\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995521-78930","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br")])],-1),M=t('',8),U=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"let"),s(" person "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token punctuation"},"{"),s("\n  name"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},"'peter'"),e("span",{class:"token punctuation"},","),s("\n  birthYear"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"1994"),e("span",{class:"token punctuation"},","),s("\n  "),e("span",{class:"token function-variable function"},"calcAge"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token keyword"},"function"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s(),e("span",{class:"token punctuation"},"{"),s("\n    console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token number"},"2018"),s(),e("span",{class:"token operator"},"-"),s(),e("span",{class:"token keyword"},"this"),e("span",{class:"token punctuation"},"."),s("birthYear"),e("span",{class:"token punctuation"},")"),s("\n  "),e("span",{class:"token punctuation"},"}"),s("\n"),e("span",{class:"token punctuation"},"}"),s("\n\nperson"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"calcAge"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s("\n"),e("span",{class:"token comment"},"// 'this' 指向 'person', 因为 'calcAge' 是被 'person' 对象引用调用的。"),s("\n\n"),e("span",{class:"token keyword"},"let"),s(" calculateAge "),e("span",{class:"token operator"},"="),s(" person"),e("span",{class:"token punctuation"},"."),s("calcAge\n"),e("span",{class:"token function"},"calculateAge"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),s("\n"),e("span",{class:"token comment"},"// 'this' 指向全局 window 对象,因为没有给出任何对象引用"),s("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557995522-13533"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"let person = {\n  name: 'peter',\n  birthYear: 1994,\n  calcAge: function() {\n    console.log(2018 - this.birthYear)\n  }\n}\n\nperson.calcAge()\n// 'this' 指向 'person', 因为 'calcAge' 是被 'person' 对象引用调用的。\n\nlet calculateAge = person.calcAge\ncalculateAge()\n// 'this' 指向全局 window 对象,因为没有给出任何对象引用\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557995522-13533","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br")])],-1),W=t('',6);c.render=function(t,e,s,o,c,H){return n(),a("div",null,[l,i,p,r,u,d,m,b,k,y,h,f,v,g,C,x,E,T,j,w,_,A,I,G,$,B,D,L,N,R,O,F,V,P,S,q,J,z,Y,M,U,W])};export default c;export{o as __pageData};
