import{o as n,c as s,t as a,a as t,x as e}from"./app.746f22cf.js";const c='{"title":"axios认识","description":"","frontmatter":{"title":"axios认识","tag":["axios","http","promise"],"author":"Artiely","date":"2018-10-10","cover":"https://gitee.com/artiely/Figure-bed/raw/master/images/20200315162812.png","base64":222222},"headers":[{"level":2,"title":"Features","slug":"features"},{"level":2,"title":"浏览器支持","slug":"浏览器支持"},{"level":2,"title":"安装","slug":"安装"},{"level":2,"title":"Example","slug":"example"},{"level":2,"title":"axios API","slug":"axios-api"},{"level":2,"title":"请求方法的别名","slug":"请求方法的别名"},{"level":2,"title":"并发","slug":"并发"},{"level":2,"title":"创建实例","slug":"创建实例"},{"level":2,"title":"实例方法","slug":"实例方法"},{"level":2,"title":"请求配置","slug":"请求配置"},{"level":2,"title":"响应结构","slug":"响应结构"},{"level":2,"title":"配置的默认值/defaults","slug":"配置的默认值defaults"},{"level":3,"title":"全局的 axios 默认值","slug":"全局的-axios-默认值"},{"level":3,"title":"自定义实例默认值","slug":"自定义实例默认值"},{"level":3,"title":"配置的优先顺序","slug":"配置的优先顺序"},{"level":3,"title":"拦截器","slug":"拦截器"},{"level":3,"title":"错误处理","slug":"错误处理"},{"level":3,"title":"取消","slug":"取消"},{"level":3,"title":"Promise","slug":"promise"},{"level":3,"title":"TypeScript","slug":"typescript"}],"relativePath":"post/2018/2018-10-10-axios.md","lastUpdated":1629110799634}',o={},l=a('<h1 id="axios认识"><a class="header-anchor" href="#axios认识" aria-hidden="true">#</a> axios认识</h1><p>Axios 是一个基于 promise 的 HTTP 库，可以用在浏览器和 node.js 中。</p><h2 id="features"><a class="header-anchor" href="#features" aria-hidden="true">#</a> Features</h2><p>从浏览器中创建 XMLHttpRequests<br> 从 node.js 创建 http 请求<br> 支持 Promise API<br> 拦截请求和响应<br> 转换请求数据和响应数据<br> 取消请求<br> 自动转换 JSON 数据<br> 客户端支持防御 XSRF</p><h2 id="浏览器支持"><a class="header-anchor" href="#浏览器支持" aria-hidden="true">#</a> 浏览器支持</h2><h2 id="安装"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><p>使用 npm:</p>',7),p=t("div",{class:"language-sh line-numbers-mode"},[t("pre",null,[t("code",null,"$ npm install axios\n"),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987778-54640"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"$ npm install axios\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987778-54640","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br")])],-1),i=t("p",null,"使用 bower:",-1),u=t("div",{class:"language-sh line-numbers-mode"},[t("pre",null,[t("code",null,"$ bower install axios\n"),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987779-27082"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"$ bower install axios\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987779-27082","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br")])],-1),r=t("p",null,"使用 cdn:",-1),d=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token operator"},"<"),e("script src"),t("span",{class:"token operator"},"="),t("span",{class:"token string"},'"https://unpkg.com/axios/dist/axios.min.js"'),t("span",{class:"token operator"},">"),t("span",{class:"token operator"},"<"),t("span",{class:"token operator"},"/"),e("script"),t("span",{class:"token operator"},">"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987779-86529"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'<script src="https://unpkg.com/axios/dist/axios.min.js"><\/script>\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987779-86529","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br")])],-1),m=t("h2",{id:"example"},[t("a",{class:"header-anchor",href:"#example","aria-hidden":"true"},"#"),e(" Example")],-1),k=t("p",null,"执行 GET 请求",-1),b=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token comment"},"// 为给定 ID 的 user 创建请求"),e("\naxios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'/user?ID=12345'"),t("span",{class:"token punctuation"},")"),e("\n  "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"then"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"response"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("response"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),e("\n  "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"catch"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"error"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("error"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n\n"),t("span",{class:"token comment"},"// 可选地，上面的请求可以这样做"),e("\naxios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'/user'"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token punctuation"},"{"),e("\n    params"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),e("\n      "),t("span",{class:"token constant"},"ID"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"12345"),e("\n    "),t("span",{class:"token punctuation"},"}"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),e("\n  "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"then"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"response"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("response"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),e("\n  "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"catch"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"error"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("error"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987779-44365"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 为给定 ID 的 user 创建请求\naxios.get('/user?ID=12345')\n  .then(function (response) {\n    console.log(response);\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n\n// 可选地，上面的请求可以这样做\naxios.get('/user', {\n    params: {\n      ID: 12345\n    }\n  })\n  .then(function (response) {\n    console.log(response);\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987779-44365","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br")])],-1),y=t("p",null,"执行 POST 请求",-1),f=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[e("axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"post"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'/user'"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token punctuation"},"{"),e("\n    firstName"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'Fred'"),t("span",{class:"token punctuation"},","),e("\n    lastName"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'Flintstone'"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),e("\n  "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"then"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"response"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("response"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),e("\n  "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"catch"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"error"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("error"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987780-52337"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"axios.post('/user', {\n    firstName: 'Fred',\n    lastName: 'Flintstone'\n  })\n  .then(function (response) {\n    console.log(response);\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987780-52337","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br")])],-1),h=t("p",null,"执行多个并发请求",-1),g=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token function"},"getUserAccount"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n  "),t("span",{class:"token keyword"},"return"),e(" axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'/user/12345'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n"),t("span",{class:"token punctuation"},"}"),e("\n\n"),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token function"},"getUserPermissions"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n  "),t("span",{class:"token keyword"},"return"),e(" axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'/user/12345/permissions'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n"),t("span",{class:"token punctuation"},"}"),e("\n\naxios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"all"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"["),t("span",{class:"token function"},"getUserAccount"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token function"},"getUserPermissions"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\n  "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"then"),t("span",{class:"token punctuation"},"("),e("axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"spread"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[e("acct"),t("span",{class:"token punctuation"},","),e(" perms")]),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token comment"},"// 两个请求现在都执行完成"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987780-27017"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function getUserAccount() {\n  return axios.get('/user/12345');\n}\n\nfunction getUserPermissions() {\n  return axios.get('/user/12345/permissions');\n}\n\naxios.all([getUserAccount(), getUserPermissions()])\n  .then(axios.spread(function (acct, perms) {\n    // 两个请求现在都执行完成\n  }));\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987780-27017","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br")])],-1),x=t("h2",{id:"axios-api"},[t("a",{class:"header-anchor",href:"#axios-api","aria-hidden":"true"},"#"),e(" axios API")],-1),C=t("p",null,"可以通过向 axios 传递相关配置来创建请求",-1),v=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token function"},"axios"),t("span",{class:"token punctuation"},"("),e("config"),t("span",{class:"token punctuation"},")"),e("\n"),t("span",{class:"token comment"},"// 发送 POST 请求"),e("\n"),t("span",{class:"token function"},"axios"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),e("\n  method"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'post'"),t("span",{class:"token punctuation"},","),e("\n  url"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'/user/12345'"),t("span",{class:"token punctuation"},","),e("\n  data"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),e("\n    firstName"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'Fred'"),t("span",{class:"token punctuation"},","),e("\n    lastName"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'Flintstone'"),e("\n  "),t("span",{class:"token punctuation"},"}"),e("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n"),t("span",{class:"token function"},"axios"),t("span",{class:"token punctuation"},"("),e("url"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" config"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\n"),t("span",{class:"token comment"},"// 发送 GET 请求（默认的方法）"),e("\n"),t("span",{class:"token function"},"axios"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'/user/12345'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987780-84858"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"axios(config)\n// 发送 POST 请求\naxios({\n  method: 'post',\n  url: '/user/12345',\n  data: {\n    firstName: 'Fred',\n    lastName: 'Flintstone'\n  }\n});\naxios(url[, config])\n// 发送 GET 请求（默认的方法）\naxios('/user/12345');\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987780-84858","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br")])],-1),w=t("h2",{id:"请求方法的别名"},[t("a",{class:"header-anchor",href:"#请求方法的别名","aria-hidden":"true"},"#"),e(" 请求方法的别名")],-1),T=t("p",null,"为方便起见，为所有支持的请求方法提供了别名",-1),j=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[e("axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"request"),t("span",{class:"token punctuation"},"("),e("config"),t("span",{class:"token punctuation"},")"),e("\naxios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),e("url"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" config"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\naxios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"delete"),t("span",{class:"token punctuation"},"("),e("url"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" config"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\naxios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"head"),t("span",{class:"token punctuation"},"("),e("url"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" config"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\naxios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"post"),t("span",{class:"token punctuation"},"("),e("url"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" data"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" config"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\naxios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"put"),t("span",{class:"token punctuation"},"("),e("url"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" data"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" config"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\naxios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"patch"),t("span",{class:"token punctuation"},"("),e("url"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" data"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" config"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987781-4098"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"axios.request(config)\naxios.get(url[, config])\naxios.delete(url[, config])\naxios.head(url[, config])\naxios.post(url[, data[, config]])\naxios.put(url[, data[, config]])\naxios.patch(url[, data[, config]])\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987781-4098","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br")])],-1),P=t("p",null,[e("NOTE"),t("br"),e(" 在使用别名方法时， url、method、data 这些属性都不必在配置中指定。")],-1),A=t("h2",{id:"并发"},[t("a",{class:"header-anchor",href:"#并发","aria-hidden":"true"},"#"),e(" 并发")],-1),N=t("p",null,"处理并发请求的助手函数",-1),$=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[e("axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"all"),t("span",{class:"token punctuation"},"("),e("iterable"),t("span",{class:"token punctuation"},")"),e("\naxios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"spread"),t("span",{class:"token punctuation"},"("),e("callback"),t("span",{class:"token punctuation"},")"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987781-76840"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"axios.all(iterable)\naxios.spread(callback)\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987781-76840","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br")])],-1),E=t("h2",{id:"创建实例"},[t("a",{class:"header-anchor",href:"#创建实例","aria-hidden":"true"},"#"),e(" 创建实例")],-1),I=t("p",null,"可以使用自定义配置新建一个 axios 实例",-1),R=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[e("axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"create"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"["),e("config"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\n"),t("span",{class:"token keyword"},"var"),e(" instance "),t("span",{class:"token operator"},"="),e(" axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"create"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),e("\n  baseURL"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'https://some-domain.com/api/'"),t("span",{class:"token punctuation"},","),e("\n  timeout"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"1000"),t("span",{class:"token punctuation"},","),e("\n  headers"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),t("span",{class:"token string"},"'X-Custom-Header'"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'foobar'"),t("span",{class:"token punctuation"},"}"),e("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987783-7638"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"axios.create([config])\nvar instance = axios.create({\n  baseURL: 'https://some-domain.com/api/',\n  timeout: 1000,\n  headers: {'X-Custom-Header': 'foobar'}\n});\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987783-7638","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br")])],-1),F=t("h2",{id:"实例方法"},[t("a",{class:"header-anchor",href:"#实例方法","aria-hidden":"true"},"#"),e(" 实例方法")],-1),U=t("p",null,"以下是可用的实例方法。指定的配置将与实例的配置合并",-1),S=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[e("axios"),t("span",{class:"token function"},"#request"),t("span",{class:"token punctuation"},"("),e("config"),t("span",{class:"token punctuation"},")"),e("\naxios"),t("span",{class:"token function"},"#get"),t("span",{class:"token punctuation"},"("),e("url"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" config"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\naxios#"),t("span",{class:"token keyword"},"delete"),t("span",{class:"token punctuation"},"("),e("url"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" config"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\naxios"),t("span",{class:"token function"},"#head"),t("span",{class:"token punctuation"},"("),e("url"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" config"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\naxios"),t("span",{class:"token function"},"#post"),t("span",{class:"token punctuation"},"("),e("url"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" data"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" config"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\naxios"),t("span",{class:"token function"},"#put"),t("span",{class:"token punctuation"},"("),e("url"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" data"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" config"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\naxios"),t("span",{class:"token function"},"#patch"),t("span",{class:"token punctuation"},"("),e("url"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" data"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},","),e(" config"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987783-24351"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"axios#request(config)\naxios#get(url[, config])\naxios#delete(url[, config])\naxios#head(url[, config])\naxios#post(url[, data[, config]])\naxios#put(url[, data[, config]])\naxios#patch(url[, data[, config]])\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987783-24351","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br")])],-1),D=t("h2",{id:"请求配置"},[t("a",{class:"header-anchor",href:"#请求配置","aria-hidden":"true"},"#"),e(" 请求配置")],-1),q=t("p",null,"这些是创建请求时可以用的配置选项。只有 url 是必需的。如果没有指定 method，请求将默认使用 get 方法。",-1),B=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token punctuation"},"{"),e("\n  "),t("span",{class:"token comment"},"// `url` 是用于请求的服务器 URL"),e("\n  url"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'/user'"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `method` 是创建请求时使用的方法"),e("\n  method"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'get'"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token comment"},"// 默认是 get"),e("\n\n  "),t("span",{class:"token comment"},"// `baseURL` 将自动加在 `url` 前面，除非 `url` 是一个绝对 URL。"),e("\n  "),t("span",{class:"token comment"},"// 它可以通过设置一个 `baseURL` 便于为 axios 实例的方法传递相对 URL"),e("\n  baseURL"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'https://some-domain.com/api/'"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `transformRequest` 允许在向服务器发送前，修改请求数据"),e("\n  "),t("span",{class:"token comment"},"// 只能用在 'PUT', 'POST' 和 'PATCH' 这几个请求方法"),e("\n  "),t("span",{class:"token comment"},"// 后面数组中的函数必须返回一个字符串，或 ArrayBuffer，或 Stream"),e("\n  transformRequest"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"data"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token comment"},"// 对 data 进行任意转换处理"),e("\n\n    "),t("span",{class:"token keyword"},"return"),e(" data"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `transformResponse` 在传递给 then/catch 前，允许修改响应数据"),e("\n  transformResponse"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"data"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token comment"},"// 对 data 进行任意转换处理"),e("\n\n    "),t("span",{class:"token keyword"},"return"),e(" data"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `headers` 是即将被发送的自定义请求头"),e("\n  headers"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),t("span",{class:"token string"},"'X-Requested-With'"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'XMLHttpRequest'"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `params` 是即将与请求一起发送的 URL 参数"),e("\n  "),t("span",{class:"token comment"},"// 必须是一个无格式对象(plain object)或 URLSearchParams 对象"),e("\n  params"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token constant"},"ID"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"12345"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `paramsSerializer` 是一个负责 `params` 序列化的函数"),e("\n  "),t("span",{class:"token comment"},"// (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)"),e("\n  "),t("span",{class:"token function-variable function"},"paramsSerializer"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token keyword"},"function"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"params"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token keyword"},"return"),e(" Qs"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"stringify"),t("span",{class:"token punctuation"},"("),e("params"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token punctuation"},"{"),e("arrayFormat"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'brackets'"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `data` 是作为请求主体被发送的数据"),e("\n  "),t("span",{class:"token comment"},"// 只适用于这些请求方法 'PUT', 'POST', 和 'PATCH'"),e("\n  "),t("span",{class:"token comment"},"// 在没有设置 `transformRequest` 时，必须是以下类型之一："),e("\n  "),t("span",{class:"token comment"},"// - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams"),e("\n  "),t("span",{class:"token comment"},"// - 浏览器专属：FormData, File, Blob"),e("\n  "),t("span",{class:"token comment"},"// - Node 专属： Stream"),e("\n  data"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),e("\n    firstName"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'Fred'"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `timeout` 指定请求超时的毫秒数(0 表示无超时时间)"),e("\n  "),t("span",{class:"token comment"},"// 如果请求话费了超过 `timeout` 的时间，请求将被中断"),e("\n  timeout"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"1000"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `withCredentials` 表示跨域请求时是否需要使用凭证"),e("\n  withCredentials"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token boolean"},"false"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token comment"},"// 默认的"),e("\n\n  "),t("span",{class:"token comment"},"// `adapter` 允许自定义处理请求，以使测试更轻松"),e("\n  "),t("span",{class:"token comment"},"// 返回一个 promise 并应用一个有效的响应 (查阅 [response docs](#response-api))."),e("\n  "),t("span",{class:"token function-variable function"},"adapter"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"config"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token comment"},"/* ... */"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `auth` 表示应该使用 HTTP 基础验证，并提供凭据"),e("\n  "),t("span",{class:"token comment"},"// 这将设置一个 `Authorization` 头，覆写掉现有的任意使用 `headers` 设置的自定义 `Authorization`头"),e("\n  auth"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),e("\n    username"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'janedoe'"),t("span",{class:"token punctuation"},","),e("\n    password"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'s00pers3cret'"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `responseType` 表示服务器响应的数据类型，可以是 'arraybuffer', 'blob', 'document', 'json', 'text', 'stream'"),e("\n  responseType"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'json'"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token comment"},"// 默认的"),e("\n\n  "),t("span",{class:"token comment"},"// `xsrfCookieName` 是用作 xsrf token 的值的cookie的名称"),e("\n  xsrfCookieName"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'XSRF-TOKEN'"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token comment"},"// default"),e("\n\n  "),t("span",{class:"token comment"},"// `xsrfHeaderName` 是承载 xsrf token 的值的 HTTP 头的名称"),e("\n  xsrfHeaderName"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'X-XSRF-TOKEN'"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token comment"},"// 默认的"),e("\n\n  "),t("span",{class:"token comment"},"// `onUploadProgress` 允许为上传处理进度事件"),e("\n  "),t("span",{class:"token function-variable function"},"onUploadProgress"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"progressEvent"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token comment"},"// 对原生进度事件的处理"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `onDownloadProgress` 允许为下载处理进度事件"),e("\n  "),t("span",{class:"token function-variable function"},"onDownloadProgress"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"progressEvent"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token comment"},"// 对原生进度事件的处理"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `maxContentLength` 定义允许的响应内容的最大尺寸"),e("\n  maxContentLength"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"2000"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `validateStatus` 定义对于给定的HTTP 响应状态码是 resolve 或 reject  promise 。如果 `validateStatus` 返回 `true` (或者设置为 `null` 或 `undefined`)，promise 将被 resolve; 否则，promise 将被 rejecte"),e("\n  "),t("span",{class:"token function-variable function"},"validateStatus"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"status"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token keyword"},"return"),e(" status "),t("span",{class:"token operator"},">="),e(),t("span",{class:"token number"},"200"),e(),t("span",{class:"token operator"},"&&"),e(" status "),t("span",{class:"token operator"},"<"),e(),t("span",{class:"token number"},"300"),t("span",{class:"token punctuation"},";"),e(),t("span",{class:"token comment"},"// 默认的"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `maxRedirects` 定义在 node.js 中 follow 的最大重定向数目"),e("\n  "),t("span",{class:"token comment"},"// 如果设置为0，将不会 follow 任何重定向"),e("\n  maxRedirects"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"5"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token comment"},"// 默认的"),e("\n\n  "),t("span",{class:"token comment"},"// `httpAgent` 和 `httpsAgent` 分别在 node.js 中用于定义在执行 http 和 https 时使用的自定义代理。允许像这样配置选项："),e("\n  "),t("span",{class:"token comment"},"// `keepAlive` 默认没有启用"),e("\n  httpAgent"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token keyword"},"new"),e(),t("span",{class:"token class-name"},[e("http"),t("span",{class:"token punctuation"},"."),e("Agent")]),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),e(" keepAlive"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token boolean"},"true"),e(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},","),e("\n  httpsAgent"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token keyword"},"new"),e(),t("span",{class:"token class-name"},[e("https"),t("span",{class:"token punctuation"},"."),e("Agent")]),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),e(" keepAlive"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token boolean"},"true"),e(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// 'proxy' 定义代理服务器的主机名称和端口"),e("\n  "),t("span",{class:"token comment"},"// `auth` 表示 HTTP 基础验证应当用于连接代理，并提供凭据"),e("\n  "),t("span",{class:"token comment"},"// 这将会设置一个 `Proxy-Authorization` 头，覆写掉已有的通过使用 `header` 设置的自定义 `Proxy-Authorization` 头。"),e("\n  proxy"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),e("\n    host"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'127.0.0.1'"),t("span",{class:"token punctuation"},","),e("\n    port"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"9000"),t("span",{class:"token punctuation"},","),e("\n    auth"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),e("\n      username"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'mikeymike'"),t("span",{class:"token punctuation"},","),e("\n      password"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'rapunz3l'"),e("\n    "),t("span",{class:"token punctuation"},"}"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `cancelToken` 指定用于取消请求的 cancel token"),e("\n  "),t("span",{class:"token comment"},"// （查看后面的 Cancellation 这节了解更多）"),e("\n  cancelToken"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token keyword"},"new"),e(),t("span",{class:"token class-name"},"CancelToken"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"cancel"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),e("\n"),t("span",{class:"token punctuation"},"}"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987783-63448"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"{\n  // `url` 是用于请求的服务器 URL\n  url: '/user',\n\n  // `method` 是创建请求时使用的方法\n  method: 'get', // 默认是 get\n\n  // `baseURL` 将自动加在 `url` 前面，除非 `url` 是一个绝对 URL。\n  // 它可以通过设置一个 `baseURL` 便于为 axios 实例的方法传递相对 URL\n  baseURL: 'https://some-domain.com/api/',\n\n  // `transformRequest` 允许在向服务器发送前，修改请求数据\n  // 只能用在 'PUT', 'POST' 和 'PATCH' 这几个请求方法\n  // 后面数组中的函数必须返回一个字符串，或 ArrayBuffer，或 Stream\n  transformRequest: [function (data) {\n    // 对 data 进行任意转换处理\n\n    return data;\n  }],\n\n  // `transformResponse` 在传递给 then/catch 前，允许修改响应数据\n  transformResponse: [function (data) {\n    // 对 data 进行任意转换处理\n\n    return data;\n  }],\n\n  // `headers` 是即将被发送的自定义请求头\n  headers: {'X-Requested-With': 'XMLHttpRequest'},\n\n  // `params` 是即将与请求一起发送的 URL 参数\n  // 必须是一个无格式对象(plain object)或 URLSearchParams 对象\n  params: {\n    ID: 12345\n  },\n\n  // `paramsSerializer` 是一个负责 `params` 序列化的函数\n  // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)\n  paramsSerializer: function(params) {\n    return Qs.stringify(params, {arrayFormat: 'brackets'})\n  },\n\n  // `data` 是作为请求主体被发送的数据\n  // 只适用于这些请求方法 'PUT', 'POST', 和 'PATCH'\n  // 在没有设置 `transformRequest` 时，必须是以下类型之一：\n  // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams\n  // - 浏览器专属：FormData, File, Blob\n  // - Node 专属： Stream\n  data: {\n    firstName: 'Fred'\n  },\n\n  // `timeout` 指定请求超时的毫秒数(0 表示无超时时间)\n  // 如果请求话费了超过 `timeout` 的时间，请求将被中断\n  timeout: 1000,\n\n  // `withCredentials` 表示跨域请求时是否需要使用凭证\n  withCredentials: false, // 默认的\n\n  // `adapter` 允许自定义处理请求，以使测试更轻松\n  // 返回一个 promise 并应用一个有效的响应 (查阅 [response docs](#response-api)).\n  adapter: function (config) {\n    /* ... */\n  },\n\n  // `auth` 表示应该使用 HTTP 基础验证，并提供凭据\n  // 这将设置一个 `Authorization` 头，覆写掉现有的任意使用 `headers` 设置的自定义 `Authorization`头\n  auth: {\n    username: 'janedoe',\n    password: 's00pers3cret'\n  },\n\n  // `responseType` 表示服务器响应的数据类型，可以是 'arraybuffer', 'blob', 'document', 'json', 'text', 'stream'\n  responseType: 'json', // 默认的\n\n  // `xsrfCookieName` 是用作 xsrf token 的值的cookie的名称\n  xsrfCookieName: 'XSRF-TOKEN', // default\n\n  // `xsrfHeaderName` 是承载 xsrf token 的值的 HTTP 头的名称\n  xsrfHeaderName: 'X-XSRF-TOKEN', // 默认的\n\n  // `onUploadProgress` 允许为上传处理进度事件\n  onUploadProgress: function (progressEvent) {\n    // 对原生进度事件的处理\n  },\n\n  // `onDownloadProgress` 允许为下载处理进度事件\n  onDownloadProgress: function (progressEvent) {\n    // 对原生进度事件的处理\n  },\n\n  // `maxContentLength` 定义允许的响应内容的最大尺寸\n  maxContentLength: 2000,\n\n  // `validateStatus` 定义对于给定的HTTP 响应状态码是 resolve 或 reject  promise 。如果 `validateStatus` 返回 `true` (或者设置为 `null` 或 `undefined`)，promise 将被 resolve; 否则，promise 将被 rejecte\n  validateStatus: function (status) {\n    return status >= 200 && status < 300; // 默认的\n  },\n\n  // `maxRedirects` 定义在 node.js 中 follow 的最大重定向数目\n  // 如果设置为0，将不会 follow 任何重定向\n  maxRedirects: 5, // 默认的\n\n  // `httpAgent` 和 `httpsAgent` 分别在 node.js 中用于定义在执行 http 和 https 时使用的自定义代理。允许像这样配置选项：\n  // `keepAlive` 默认没有启用\n  httpAgent: new http.Agent({ keepAlive: true }),\n  httpsAgent: new https.Agent({ keepAlive: true }),\n\n  // 'proxy' 定义代理服务器的主机名称和端口\n  // `auth` 表示 HTTP 基础验证应当用于连接代理，并提供凭据\n  // 这将会设置一个 `Proxy-Authorization` 头，覆写掉已有的通过使用 `header` 设置的自定义 `Proxy-Authorization` 头。\n  proxy: {\n    host: '127.0.0.1',\n    port: 9000,\n    auth: : {\n      username: 'mikeymike',\n      password: 'rapunz3l'\n    }\n  },\n\n  // `cancelToken` 指定用于取消请求的 cancel token\n  // （查看后面的 Cancellation 这节了解更多）\n  cancelToken: new CancelToken(function (cancel) {\n  })\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987783-63448","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br"),t("span",{class:"line-number"},"26"),t("br"),t("span",{class:"line-number"},"27"),t("br"),t("span",{class:"line-number"},"28"),t("br"),t("span",{class:"line-number"},"29"),t("br"),t("span",{class:"line-number"},"30"),t("br"),t("span",{class:"line-number"},"31"),t("br"),t("span",{class:"line-number"},"32"),t("br"),t("span",{class:"line-number"},"33"),t("br"),t("span",{class:"line-number"},"34"),t("br"),t("span",{class:"line-number"},"35"),t("br"),t("span",{class:"line-number"},"36"),t("br"),t("span",{class:"line-number"},"37"),t("br"),t("span",{class:"line-number"},"38"),t("br"),t("span",{class:"line-number"},"39"),t("br"),t("span",{class:"line-number"},"40"),t("br"),t("span",{class:"line-number"},"41"),t("br"),t("span",{class:"line-number"},"42"),t("br"),t("span",{class:"line-number"},"43"),t("br"),t("span",{class:"line-number"},"44"),t("br"),t("span",{class:"line-number"},"45"),t("br"),t("span",{class:"line-number"},"46"),t("br"),t("span",{class:"line-number"},"47"),t("br"),t("span",{class:"line-number"},"48"),t("br"),t("span",{class:"line-number"},"49"),t("br"),t("span",{class:"line-number"},"50"),t("br"),t("span",{class:"line-number"},"51"),t("br"),t("span",{class:"line-number"},"52"),t("br"),t("span",{class:"line-number"},"53"),t("br"),t("span",{class:"line-number"},"54"),t("br"),t("span",{class:"line-number"},"55"),t("br"),t("span",{class:"line-number"},"56"),t("br"),t("span",{class:"line-number"},"57"),t("br"),t("span",{class:"line-number"},"58"),t("br"),t("span",{class:"line-number"},"59"),t("br"),t("span",{class:"line-number"},"60"),t("br"),t("span",{class:"line-number"},"61"),t("br"),t("span",{class:"line-number"},"62"),t("br"),t("span",{class:"line-number"},"63"),t("br"),t("span",{class:"line-number"},"64"),t("br"),t("span",{class:"line-number"},"65"),t("br"),t("span",{class:"line-number"},"66"),t("br"),t("span",{class:"line-number"},"67"),t("br"),t("span",{class:"line-number"},"68"),t("br"),t("span",{class:"line-number"},"69"),t("br"),t("span",{class:"line-number"},"70"),t("br"),t("span",{class:"line-number"},"71"),t("br"),t("span",{class:"line-number"},"72"),t("br"),t("span",{class:"line-number"},"73"),t("br"),t("span",{class:"line-number"},"74"),t("br"),t("span",{class:"line-number"},"75"),t("br"),t("span",{class:"line-number"},"76"),t("br"),t("span",{class:"line-number"},"77"),t("br"),t("span",{class:"line-number"},"78"),t("br"),t("span",{class:"line-number"},"79"),t("br"),t("span",{class:"line-number"},"80"),t("br"),t("span",{class:"line-number"},"81"),t("br"),t("span",{class:"line-number"},"82"),t("br"),t("span",{class:"line-number"},"83"),t("br"),t("span",{class:"line-number"},"84"),t("br"),t("span",{class:"line-number"},"85"),t("br"),t("span",{class:"line-number"},"86"),t("br"),t("span",{class:"line-number"},"87"),t("br"),t("span",{class:"line-number"},"88"),t("br"),t("span",{class:"line-number"},"89"),t("br"),t("span",{class:"line-number"},"90"),t("br"),t("span",{class:"line-number"},"91"),t("br"),t("span",{class:"line-number"},"92"),t("br"),t("span",{class:"line-number"},"93"),t("br"),t("span",{class:"line-number"},"94"),t("br"),t("span",{class:"line-number"},"95"),t("br"),t("span",{class:"line-number"},"96"),t("br"),t("span",{class:"line-number"},"97"),t("br"),t("span",{class:"line-number"},"98"),t("br"),t("span",{class:"line-number"},"99"),t("br"),t("span",{class:"line-number"},"100"),t("br"),t("span",{class:"line-number"},"101"),t("br"),t("span",{class:"line-number"},"102"),t("br"),t("span",{class:"line-number"},"103"),t("br"),t("span",{class:"line-number"},"104"),t("br"),t("span",{class:"line-number"},"105"),t("br"),t("span",{class:"line-number"},"106"),t("br"),t("span",{class:"line-number"},"107"),t("br"),t("span",{class:"line-number"},"108"),t("br"),t("span",{class:"line-number"},"109"),t("br"),t("span",{class:"line-number"},"110"),t("br"),t("span",{class:"line-number"},"111"),t("br"),t("span",{class:"line-number"},"112"),t("br"),t("span",{class:"line-number"},"113"),t("br"),t("span",{class:"line-number"},"114"),t("br"),t("span",{class:"line-number"},"115"),t("br"),t("span",{class:"line-number"},"116"),t("br"),t("span",{class:"line-number"},"117"),t("br"),t("span",{class:"line-number"},"118"),t("br"),t("span",{class:"line-number"},"119"),t("br"),t("span",{class:"line-number"},"120"),t("br"),t("span",{class:"line-number"},"121"),t("br"),t("span",{class:"line-number"},"122"),t("br"),t("span",{class:"line-number"},"123"),t("br"),t("span",{class:"line-number"},"124"),t("br"),t("span",{class:"line-number"},"125"),t("br")])],-1),H=t("h2",{id:"响应结构"},[t("a",{class:"header-anchor",href:"#响应结构","aria-hidden":"true"},"#"),e(" 响应结构")],-1),L=t("p",null,"某个请求的响应包含以下信息",-1),O=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token punctuation"},"{"),e("\n  "),t("span",{class:"token comment"},"// `data` 由服务器提供的响应"),e("\n  data"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `status` 来自服务器响应的 HTTP 状态码"),e("\n  status"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"200"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `statusText` 来自服务器响应的 HTTP 状态信息"),e("\n  statusText"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'OK'"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `headers` 服务器响应的头"),e("\n  headers"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e("\n\n  "),t("span",{class:"token comment"},"// `config` 是为请求提供的配置信息"),e("\n  config"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),t("span",{class:"token punctuation"},"}"),e("\n"),t("span",{class:"token punctuation"},"}"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987786-90066"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"{\n  // `data` 由服务器提供的响应\n  data: {},\n\n  // `status` 来自服务器响应的 HTTP 状态码\n  status: 200,\n\n  // `statusText` 来自服务器响应的 HTTP 状态信息\n  statusText: 'OK',\n\n  // `headers` 服务器响应的头\n  headers: {},\n\n  // `config` 是为请求提供的配置信息\n  config: {}\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987786-90066","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br")])],-1),z=t("p",null,"使用 then 时，你将接收下面这样的响应：",-1),_=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[e("axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'/user/12345'"),t("span",{class:"token punctuation"},")"),e("\n  "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"then"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"response"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("response"),t("span",{class:"token punctuation"},"."),e("data"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n    console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("response"),t("span",{class:"token punctuation"},"."),e("status"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n    console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("response"),t("span",{class:"token punctuation"},"."),e("statusText"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n    console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("response"),t("span",{class:"token punctuation"},"."),e("headers"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n    console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("response"),t("span",{class:"token punctuation"},"."),e("config"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987786-24776"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"axios.get('/user/12345')\n  .then(function(response) {\n    console.log(response.data);\n    console.log(response.status);\n    console.log(response.statusText);\n    console.log(response.headers);\n    console.log(response.config);\n  });\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987786-24776","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br")])],-1),X=t("p",null,"在使用 catch 时，或传递 rejection callback 作为 then 的第二个参数时，响应可以通过 error 对象可被使用，正如在错误处理这一节所讲。",-1),K=t("h2",{id:"配置的默认值defaults"},[t("a",{class:"header-anchor",href:"#配置的默认值defaults","aria-hidden":"true"},"#"),e(" 配置的默认值/defaults")],-1),V=t("p",null,"你可以指定将被用在各个请求的配置默认值",-1),G=t("h3",{id:"全局的-axios-默认值"},[t("a",{class:"header-anchor",href:"#全局的-axios-默认值","aria-hidden":"true"},"#"),e(" 全局的 axios 默认值")],-1),M=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[e("axios"),t("span",{class:"token punctuation"},"."),e("defaults"),t("span",{class:"token punctuation"},"."),e("baseURL "),t("span",{class:"token operator"},"="),e(),t("span",{class:"token string"},"'https://api.example.com'"),t("span",{class:"token punctuation"},";"),e("\naxios"),t("span",{class:"token punctuation"},"."),e("defaults"),t("span",{class:"token punctuation"},"."),e("headers"),t("span",{class:"token punctuation"},"."),e("common"),t("span",{class:"token punctuation"},"["),t("span",{class:"token string"},"'Authorization'"),t("span",{class:"token punctuation"},"]"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token constant"},"AUTH_TOKEN"),t("span",{class:"token punctuation"},";"),e("\naxios"),t("span",{class:"token punctuation"},"."),e("defaults"),t("span",{class:"token punctuation"},"."),e("headers"),t("span",{class:"token punctuation"},"."),e("post"),t("span",{class:"token punctuation"},"["),t("span",{class:"token string"},"'Content-Type'"),t("span",{class:"token punctuation"},"]"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token string"},"'application/x-www-form-urlencoded'"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987787-56108"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"axios.defaults.baseURL = 'https://api.example.com';\naxios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987787-56108","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br")])],-1),Q=t("h3",{id:"自定义实例默认值"},[t("a",{class:"header-anchor",href:"#自定义实例默认值","aria-hidden":"true"},"#"),e(" 自定义实例默认值")],-1),W=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token comment"},"// 创建实例时设置配置的默认值"),e("\n"),t("span",{class:"token keyword"},"var"),e(" instance "),t("span",{class:"token operator"},"="),e(" axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"create"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),e("\n  baseURL"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'https://api.example.com'"),e("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n\n"),t("span",{class:"token comment"},"// 在实例已创建后修改默认值"),e("\ninstance"),t("span",{class:"token punctuation"},"."),e("defaults"),t("span",{class:"token punctuation"},"."),e("headers"),t("span",{class:"token punctuation"},"."),e("common"),t("span",{class:"token punctuation"},"["),t("span",{class:"token string"},"'Authorization'"),t("span",{class:"token punctuation"},"]"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token constant"},"AUTH_TOKEN"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987787-33260"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 创建实例时设置配置的默认值\nvar instance = axios.create({\n  baseURL: 'https://api.example.com'\n});\n\n// 在实例已创建后修改默认值\ninstance.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987787-33260","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br")])],-1),J=t("h3",{id:"配置的优先顺序"},[t("a",{class:"header-anchor",href:"#配置的优先顺序","aria-hidden":"true"},"#"),e(" 配置的优先顺序")],-1),Y=t("p",null,"配置会以一个优先顺序进行合并。这个顺序是：在 lib/defaults.js 找到的库的默认值，然后是实例的 defaults 属性，最后是请求的 config 参数。后者将优先于前者。这里是一个例子：",-1),Z=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token comment"},"// 使用由库提供的配置的默认值来创建实例"),e("\n"),t("span",{class:"token comment"},"// 此时超时配置的默认值是 `0`"),e("\n"),t("span",{class:"token keyword"},"var"),e(" instance "),t("span",{class:"token operator"},"="),e(" axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"create"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n\n"),t("span",{class:"token comment"},"// 覆写库的超时默认值"),e("\n"),t("span",{class:"token comment"},"// 现在，在超时前，所有请求都会等待 2.5 秒"),e("\ninstance"),t("span",{class:"token punctuation"},"."),e("defaults"),t("span",{class:"token punctuation"},"."),e("timeout "),t("span",{class:"token operator"},"="),e(),t("span",{class:"token number"},"2500"),t("span",{class:"token punctuation"},";"),e("\n\n"),t("span",{class:"token comment"},"// 为已知需要花费很长时间的请求覆写超时设置"),e("\ninstance"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'/longRequest'"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token punctuation"},"{"),e("\n  timeout"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"5000"),e("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987787-81993"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 使用由库提供的配置的默认值来创建实例\n// 此时超时配置的默认值是 `0`\nvar instance = axios.create();\n\n// 覆写库的超时默认值\n// 现在，在超时前，所有请求都会等待 2.5 秒\ninstance.defaults.timeout = 2500;\n\n// 为已知需要花费很长时间的请求覆写超时设置\ninstance.get('/longRequest', {\n  timeout: 5000\n});\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987787-81993","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br")])],-1),nn=t("h3",{id:"拦截器"},[t("a",{class:"header-anchor",href:"#拦截器","aria-hidden":"true"},"#"),e(" 拦截器")],-1),sn=t("p",null,"在请求或响应被 then 或 catch 处理前拦截它们。",-1),an=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token comment"},"// 添加请求拦截器"),e("\naxios"),t("span",{class:"token punctuation"},"."),e("interceptors"),t("span",{class:"token punctuation"},"."),e("request"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"use"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"config"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token comment"},"// 在发送请求之前做些什么"),e("\n    "),t("span",{class:"token keyword"},"return"),e(" config"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"error"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token comment"},"// 对请求错误做些什么"),e("\n    "),t("span",{class:"token keyword"},"return"),e(" Promise"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reject"),t("span",{class:"token punctuation"},"("),e("error"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n\n"),t("span",{class:"token comment"},"// 添加响应拦截器"),e("\naxios"),t("span",{class:"token punctuation"},"."),e("interceptors"),t("span",{class:"token punctuation"},"."),e("response"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"use"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"response"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token comment"},"// 对响应数据做点什么"),e("\n    "),t("span",{class:"token keyword"},"return"),e(" response"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"error"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token comment"},"// 对响应错误做点什么"),e("\n    "),t("span",{class:"token keyword"},"return"),e(" Promise"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reject"),t("span",{class:"token punctuation"},"("),e("error"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987788-61877"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 添加请求拦截器\naxios.interceptors.request.use(function (config) {\n    // 在发送请求之前做些什么\n    return config;\n  }, function (error) {\n    // 对请求错误做些什么\n    return Promise.reject(error);\n  });\n\n// 添加响应拦截器\naxios.interceptors.response.use(function (response) {\n    // 对响应数据做点什么\n    return response;\n  }, function (error) {\n    // 对响应错误做点什么\n    return Promise.reject(error);\n  });\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987788-61877","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br")])],-1),tn=t("p",null,"如果你想在稍后移除拦截器，可以这样：",-1),en=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token keyword"},"var"),e(" myInterceptor "),t("span",{class:"token operator"},"="),e(" axios"),t("span",{class:"token punctuation"},"."),e("interceptors"),t("span",{class:"token punctuation"},"."),e("request"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"use"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),t("span",{class:"token comment"},"/*...*/"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\naxios"),t("span",{class:"token punctuation"},"."),e("interceptors"),t("span",{class:"token punctuation"},"."),e("request"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"eject"),t("span",{class:"token punctuation"},"("),e("myInterceptor"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987788-58652"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"var myInterceptor = axios.interceptors.request.use(function () {/*...*/});\naxios.interceptors.request.eject(myInterceptor);\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987788-58652","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br")])],-1),cn=t("p",null,"可以为自定义 axios 实例添加拦截器",-1),on=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token keyword"},"var"),e(" instance "),t("span",{class:"token operator"},"="),e(" axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"create"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\ninstance"),t("span",{class:"token punctuation"},"."),e("interceptors"),t("span",{class:"token punctuation"},"."),e("request"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"use"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),t("span",{class:"token comment"},"/*...*/"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987788-79886"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"var instance = axios.create();\ninstance.interceptors.request.use(function () {/*...*/});\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987788-79886","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br")])],-1),ln=t("h3",{id:"错误处理"},[t("a",{class:"header-anchor",href:"#错误处理","aria-hidden":"true"},"#"),e(" 错误处理")],-1),pn=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[e("axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'/user/12345'"),t("span",{class:"token punctuation"},")"),e("\n  "),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"catch"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"error"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token keyword"},"if"),e(),t("span",{class:"token punctuation"},"("),e("error"),t("span",{class:"token punctuation"},"."),e("response"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n      "),t("span",{class:"token comment"},"// 请求已发出，但服务器响应的状态码不在 2xx 范围内"),e("\n      console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("error"),t("span",{class:"token punctuation"},"."),e("response"),t("span",{class:"token punctuation"},"."),e("data"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n      console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("error"),t("span",{class:"token punctuation"},"."),e("response"),t("span",{class:"token punctuation"},"."),e("status"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n      console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("error"),t("span",{class:"token punctuation"},"."),e("response"),t("span",{class:"token punctuation"},"."),e("headers"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n    "),t("span",{class:"token punctuation"},"}"),e(),t("span",{class:"token keyword"},"else"),e(),t("span",{class:"token punctuation"},"{"),e("\n      "),t("span",{class:"token comment"},"// Something happened in setting up the request that triggered an Error"),e("\n      console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'Error'"),t("span",{class:"token punctuation"},","),e(" error"),t("span",{class:"token punctuation"},"."),e("message"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n    "),t("span",{class:"token punctuation"},"}"),e("\n    console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),e("error"),t("span",{class:"token punctuation"},"."),e("config"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987788-77202"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"axios.get('/user/12345')\n  .catch(function (error) {\n    if (error.response) {\n      // 请求已发出，但服务器响应的状态码不在 2xx 范围内\n      console.log(error.response.data);\n      console.log(error.response.status);\n      console.log(error.response.headers);\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      console.log('Error', error.message);\n    }\n    console.log(error.config);\n  });\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987788-77202","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br")])],-1),un=t("p",null,"可以使用 validateStatus 配置选项定义一个自定义 HTTP 状态码的错误范围。",-1),rn=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[e("axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'/user/12345'"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token punctuation"},"{"),e("\n  "),t("span",{class:"token function-variable function"},"validateStatus"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"status"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token keyword"},"return"),e(" status "),t("span",{class:"token operator"},"<"),e(),t("span",{class:"token number"},"500"),t("span",{class:"token punctuation"},";"),e(),t("span",{class:"token comment"},"// 状态码在大于或等于500时才会 reject"),e("\n  "),t("span",{class:"token punctuation"},"}"),e("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987789-26505"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"axios.get('/user/12345', {\n  validateStatus: function (status) {\n    return status < 500; // 状态码在大于或等于500时才会 reject\n  }\n})\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987789-26505","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br")])],-1),dn=t("h3",{id:"取消"},[t("a",{class:"header-anchor",href:"#取消","aria-hidden":"true"},"#"),e(" 取消")],-1),mn=t("p",null,[e("使用 cancel token 取消请求"),t("br"),e(" Axios 的 cancel token API 基于cancelable promises proposal，它还处于第一阶段。"),t("br"),e(" 可以使用 CancelToken.source 工厂方法创建 cancel token，像这样：")],-1),kn=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token keyword"},"var"),e(" CancelToken "),t("span",{class:"token operator"},"="),e(" axios"),t("span",{class:"token punctuation"},"."),e("CancelToken"),t("span",{class:"token punctuation"},";"),e("\n"),t("span",{class:"token keyword"},"var"),e(" source "),t("span",{class:"token operator"},"="),e(" CancelToken"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"source"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n\naxios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'/user/12345'"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token punctuation"},"{"),e("\n  cancelToken"),t("span",{class:"token operator"},":"),e(" source"),t("span",{class:"token punctuation"},"."),e("token\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"catch"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"thrown"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n  "),t("span",{class:"token keyword"},"if"),e(),t("span",{class:"token punctuation"},"("),e("axios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"isCancel"),t("span",{class:"token punctuation"},"("),e("thrown"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'Request canceled'"),t("span",{class:"token punctuation"},","),e(" thrown"),t("span",{class:"token punctuation"},"."),e("message"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),e(),t("span",{class:"token keyword"},"else"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token comment"},"// 处理错误"),e("\n  "),t("span",{class:"token punctuation"},"}"),e("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n\n"),t("span",{class:"token comment"},"// 取消请求（message 参数是可选的）"),e("\nsource"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"cancel"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'Operation canceled by the user.'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987789-40910"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"var CancelToken = axios.CancelToken;\nvar source = CancelToken.source();\n\naxios.get('/user/12345', {\n  cancelToken: source.token\n}).catch(function(thrown) {\n  if (axios.isCancel(thrown)) {\n    console.log('Request canceled', thrown.message);\n  } else {\n    // 处理错误\n  }\n});\n\n// 取消请求（message 参数是可选的）\nsource.cancel('Operation canceled by the user.');\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987789-40910","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br")])],-1),bn=t("p",null,"还可以通过传递一个 executor 函数到 CancelToken 的构造函数来创建 cancel token：",-1),yn=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token keyword"},"var"),e(" CancelToken "),t("span",{class:"token operator"},"="),e(" axios"),t("span",{class:"token punctuation"},"."),e("CancelToken"),t("span",{class:"token punctuation"},";"),e("\n"),t("span",{class:"token keyword"},"var"),e(" cancel"),t("span",{class:"token punctuation"},";"),e("\n\naxios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'/user/12345'"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token punctuation"},"{"),e("\n  cancelToken"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token keyword"},"new"),e(),t("span",{class:"token class-name"},"CancelToken"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"function"),e(),t("span",{class:"token function"},"executor"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"c"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e("\n    "),t("span",{class:"token comment"},"// executor 函数接收一个 cancel 函数作为参数"),e("\n    cancel "),t("span",{class:"token operator"},"="),e(" c"),t("span",{class:"token punctuation"},";"),e("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),e("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n\n"),t("span",{class:"token comment"},"// 取消请求"),e("\n"),t("span",{class:"token function"},"cancel"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987789-60359"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"var CancelToken = axios.CancelToken;\nvar cancel;\n\naxios.get('/user/12345', {\n  cancelToken: new CancelToken(function executor(c) {\n    // executor 函数接收一个 cancel 函数作为参数\n    cancel = c;\n  })\n});\n\n// 取消请求\ncancel();\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987789-60359","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br")])],-1),fn=t("p",null,"Note : 可以使用同一个 cancel token 取消多个请求",-1),hn=t("h3",{id:"promise"},[t("a",{class:"header-anchor",href:"#promise","aria-hidden":"true"},"#"),e(" Promise")],-1),gn=t("p",null,[e("axios 依赖原生的 ES6 Promise 实现而被支持."),t("br"),e(" 如果你的环境不支持 ES6 Promise，你可以使用 polyfill.")],-1),xn=t("h3",{id:"typescript"},[t("a",{class:"header-anchor",href:"#typescript","aria-hidden":"true"},"#"),e(" TypeScript")],-1),Cn=t("p",null,"axios includes TypeScript definitions.",-1),vn=t("div",{class:"language-js line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token keyword"},"import"),e(" axios "),t("span",{class:"token keyword"},"from"),e(),t("span",{class:"token string"},"'axios'"),t("span",{class:"token punctuation"},";"),e("\naxios"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'/user?ID=12345'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),e("\n")]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557987790-17472"},"复制成功"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"import axios from 'axios';\naxios.get('/user?ID=12345');\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557987790-17472","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br")])],-1);o.render=function(a,t,e,c,o,wn){return n(),s("div",null,[l,p,i,u,r,d,m,k,b,y,f,h,g,x,C,v,w,T,j,P,A,N,$,E,I,R,F,U,S,D,q,B,H,L,O,z,_,X,K,V,G,M,Q,W,J,Y,Z,nn,sn,an,tn,en,cn,on,ln,pn,un,rn,dn,mn,kn,bn,yn,fn,hn,gn,xn,Cn,vn])};export default o;export{c as __pageData};
