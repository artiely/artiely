import{o as n,c as t,f as a,a as e,x as o}from"./app.5f3fb606.js";const s='{"title":"创建模板脚手架","description":"","frontmatter":{"title":"创建模板脚手架","tag":["commander"],"cover":"https://gitee.com/artiely/Figure-bed/raw/master/image/20200728190824.png","base64":262626,"author":"artiely","date":"2020-7-23"},"headers":[{"level":2,"title":"前置知识点","slug":"前置知识点"},{"level":3,"title":"commander","slug":"commander"},{"level":3,"title":"inquirer","slug":"inquirer"},{"level":3,"title":"chalk","slug":"chalk"},{"level":3,"title":"ora","slug":"ora"},{"level":3,"title":"download-git-repo","slug":"download-git-repo"},{"level":3,"title":"yeoman","slug":"yeoman"}],"relativePath":"post/2020/2020-7-23-temp.md","lastUpdated":1629110853637}',c={},i=a('',3),l=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"const"),o(" program "),e("span",{class:"token operator"},"="),o(),e("span",{class:"token function"},"require"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"commander"'),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),o("\n"),e("span",{class:"token comment"},"// 定义指令"),o("\nprogram\n "),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"version"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'0.0.1'"),e("span",{class:"token punctuation"},")"),o("\n "),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"command"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'init'"),e("span",{class:"token punctuation"},","),o(),e("span",{class:"token string"},"'Generate a new project from a template'"),e("span",{class:"token punctuation"},")"),o("\n "),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"action"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),o(),e("span",{class:"token operator"},"=>"),o(),e("span",{class:"token punctuation"},"{"),o("\n "),e("span",{class:"token comment"},"// 回调函数"),o("\n "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},")"),o("\n"),e("span",{class:"token comment"},"// 解析命令行参数"),o("\nprogram"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"parse"),e("span",{class:"token punctuation"},"("),o("process"),e("span",{class:"token punctuation"},"."),o("argv"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),o("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557010238-56294"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"const program = require(\"commander\");\n// 定义指令\nprogram\n .version('0.0.1')\n .command('init', 'Generate a new project from a template')\n .action(() => {\n // 回调函数\n })\n// 解析命令行参数\nprogram.parse(process.argv);\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557010238-56294","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br")])],-1),r=e("p",null,[o("替代方案"),e("br"),e("a",{href:"https://github.com/yargs/yargs",target:"_blank",rel:"noopener noreferrer"},"yargs")],-1),p=e("h3",{id:"inquirer"},[e("a",{class:"header-anchor",href:"#inquirer","aria-hidden":"true"},"#"),o(" inquirer")],-1),d=e("p",null,[e("a",{href:"https://github.com/SBoudrias/Inquirer.js",target:"_blank",rel:"noopener noreferrer"},"inquirer"),e("br"),o(" 这是个强大的交互式命令行工具，具体用法如下：")],-1),u=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"const"),o(" inquirer "),e("span",{class:"token operator"},"="),o(),e("span",{class:"token function"},"require"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'inquirer'"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),o("\ninquirer\n "),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"prompt"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},"["),o("\n "),e("span",{class:"token comment"},"// 一些交互式的问题"),o("\n "),e("span",{class:"token punctuation"},"]"),e("span",{class:"token punctuation"},")"),o("\n "),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"then"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},"answers"),o(),e("span",{class:"token operator"},"=>"),o(),e("span",{class:"token punctuation"},"{"),o("\n "),e("span",{class:"token comment"},"// 回调函数，answers 就是用户输入的内容，是个对象"),o("\n "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),o("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557010239-41426"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"const inquirer = require('inquirer');\ninquirer\n .prompt([\n // 一些交互式的问题\n ])\n .then(answers => {\n // 回调函数，answers 就是用户输入的内容，是个对象\n });\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557010239-41426","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br")])],-1),m=e("p",null,"想象一下我们用 vue init webpack project-name 之后是不是会有几个交互问题，问你文件名啊、作者啊、描述啊、要不要用 eslint 啊等等之类的，就是用这个来写的。",-1),y=e("h3",{id:"chalk"},[e("a",{class:"header-anchor",href:"#chalk","aria-hidden":"true"},"#"),o(" chalk")],-1),k=e("p",null,[e("a",{href:"https://github.com/chalk/chalk",target:"_blank",rel:"noopener noreferrer"},"chalk"),e("br"),o(" 这是用来修改控制台输出内容样式的，比如颜色啊，具体用法如下：")],-1),b=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"const"),o(" chalk "),e("span",{class:"token operator"},"="),o(),e("span",{class:"token function"},"require"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'chalk'"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),o("\nconsole"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),o("chalk"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"green"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'success'"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),o("\nconsole"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),o("chalk"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"red"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'error'"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),o("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557010239-4952"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"const chalk = require('chalk');\nconsole.log(chalk.green('success'));\nconsole.log(chalk.red('error'));\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557010239-4952","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br")])],-1),h=e("h3",{id:"ora"},[e("a",{class:"header-anchor",href:"#ora","aria-hidden":"true"},"#"),o(" ora")],-1),f=e("p",null,[e("a",{href:"https://github.com/sindresorhus/ora",target:"_blank",rel:"noopener noreferrer"},"ora"),e("br"),o(" 这是一个好看的加载，就是你下载的时候会有个转圈圈的那种效果，用法如下：")],-1),g=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"const"),o(" ora "),e("span",{class:"token operator"},"="),o(),e("span",{class:"token function"},"require"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'ora'"),e("span",{class:"token punctuation"},")"),o("\n"),e("span",{class:"token keyword"},"let"),o(" spinner "),e("span",{class:"token operator"},"="),o(),e("span",{class:"token function"},"ora"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'downloading template ...'"),e("span",{class:"token punctuation"},")"),o("\nspinner"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"start"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),o("\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557010239-80062"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"const ora = require('ora')\nlet spinner = ora('downloading template ...')\nspinner.start()\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557010239-80062","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br")])],-1),v=e("h3",{id:"download-git-repo"},[e("a",{class:"header-anchor",href:"#download-git-repo","aria-hidden":"true"},"#"),o(" download-git-repo")],-1),C=e("p",null,[e("a",{href:"https://www.npmjs.com/package/download-git-repo",target:"_blank",rel:"noopener noreferrer"},"download-git-repo"),e("br"),o(" 看名字很明显了，这是用来下载远程模板的，支持 GitHub、 GitLab 和 Bitbucket 等，用法如下：")],-1),w=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"const"),o(" download "),e("span",{class:"token operator"},"="),o(),e("span",{class:"token function"},"require"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'download-git-repo'"),e("span",{class:"token punctuation"},")"),o("\n"),e("span",{class:"token function"},"download"),e("span",{class:"token punctuation"},"("),o("repository"),e("span",{class:"token punctuation"},","),o(" destination"),e("span",{class:"token punctuation"},","),o(" options"),e("span",{class:"token punctuation"},","),o(" callback"),e("span",{class:"token punctuation"},")"),o("\n\n")]),e("div",{class:"m-mdic-copy-wrapper"},[e("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557010239-80950"},"复制成功"),e("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"const download = require('download-git-repo')\ndownload(repository, destination, options, callback)\n\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557010239-80950","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br")])],-1),_=a('',4);c.render=function(a,e,o,s,c,j){return n(),t("div",null,[i,l,r,p,d,u,m,y,k,b,h,f,g,v,C,w,_])};export default c;export{s as __pageData};
