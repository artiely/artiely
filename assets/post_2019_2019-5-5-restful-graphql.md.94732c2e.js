import{o as n,c as e,f as t,a,x as c}from"./app.b304d650.js";const s='{"title":"GraphQL 介绍","description":"","frontmatter":{"title":"GraphQL 介绍","tag":["graphQL","RESTful"],"author":"Artiely","date":"2019-5-5","cover":"https://gitee.com/artiely/Figure-bed/raw/master/images/20200315154252.png","base64":16932},"headers":[{"level":2,"title":"接口开发方式","slug":"接口开发方式"},{"level":2,"title":"RESTful 接口问题","slug":"restful-接口问题"},{"level":2,"title":"GraphQL概述","slug":"graphql概述"},{"level":2,"title":"RESTful 和 GraphQL 对比","slug":"restful-和-graphql-对比"},{"level":2,"title":"基于Node.js的GraphQL的开发","slug":"基于nodejs的graphql的开发"},{"level":2,"title":"基于apollo-server开发","slug":"基于apollo-server开发"},{"level":2,"title":"对象类型定义规则","slug":"对象类型定义规则"},{"level":3,"title":"对象类型定义与字段","slug":"对象类型定义与字段"},{"level":3,"title":"基本参数","slug":"基本参数"},{"level":3,"title":"内置类型","slug":"内置类型"},{"level":3,"title":"输入类型","slug":"输入类型"},{"level":2,"title":"数据解析规则详解","slug":"数据解析规则详解"},{"level":3,"title":"resolver函数参数用法","slug":"resolver函数参数用法"},{"level":3,"title":"resolver函数对接数据源","slug":"resolver函数对接数据源"},{"level":2,"title":"基本查询","slug":"基本查询"},{"level":2,"title":"操作名称","slug":"操作名称"},{"level":2,"title":"查询参数","slug":"查询参数"},{"level":2,"title":"变量","slug":"变量"},{"level":2,"title":"指令","slug":"指令"},{"level":2,"title":"别名","slug":"别名"},{"level":2,"title":"变更","slug":"变更"},{"level":2,"title":"项目业务分析与展示","slug":"项目业务分析与展示"},{"level":2,"title":"服务端实现","slug":"服务端实现"},{"level":3,"title":"对接数据源","slug":"对接数据源"},{"level":2,"title":"客户端实现","slug":"客户端实现"},{"level":3,"title":"apollo-server对接后台接口基本流程","slug":"apollo-server对接后台接口基本流程"},{"level":3,"title":"完成页面数据展示","slug":"完成页面数据展示"},{"level":3,"title":"完成发送留言功能","slug":"完成发送留言功能"}],"relativePath":"post/2019/2019-5-5-restful-graphql.md","lastUpdated":1629110828455}',l={},o=t('<h1 id="graphql-介绍"><a class="header-anchor" href="#graphql-介绍" aria-hidden="true">#</a> GraphQL 介绍</h1><h2 id="接口开发方式"><a class="header-anchor" href="#接口开发方式" aria-hidden="true">#</a> 接口开发方式</h2><ul><li>RESTful</li><li>GraphQL</li></ul><h2 id="restful-接口问题"><a class="header-anchor" href="#restful-接口问题" aria-hidden="true">#</a> RESTful 接口问题</h2><ul><li>接口粒度比较细，很多场景需要调用多次请求才能完成一个功能</li><li>接口扩展、维护成本高</li><li>接口响应的数据格式无法预知（json已经成为主流格式）</li></ul><h2 id="graphql概述"><a class="header-anchor" href="#graphql概述" aria-hidden="true">#</a> GraphQL概述</h2><blockquote><p>GraphQL 既是一种用于 API 的查询语言，也是一个满足你数据查询的运行时。</p><p>是一种接口开发标准，支持常见的服务端开发语言。例如：java、php、Python、Node.js......</p><p>官网：<a href="https://graphql.cn/" target="_blank" rel="noopener noreferrer">https://graphql.cn/</a></p></blockquote><h2 id="restful-和-graphql-对比"><a class="header-anchor" href="#restful-和-graphql-对比" aria-hidden="true">#</a> RESTful 和 GraphQL 对比</h2><ul><li>RESTful特点 <ul><li>接口粒度太细</li><li>后期版本变更不方便，扩展维护成本高</li></ul></li><li>GraphQL特点 <ul><li>精确获取需要的信息</li><li>通过单个请求获取各种资源</li><li>通过类型系统描述查询</li><li>强大的调试工具</li></ul></li></ul><h1 id="graphql-快速体验"><a class="header-anchor" href="#graphql-快速体验" aria-hidden="true">#</a> GraphQL 快速体验</h1><blockquote><p>GraphQL客户端与服务端交互（接口调用）</p></blockquote><ul><li><p>实现步骤</p><ul><li>一、服务端 <ul><li>创建服务端项目目录</li><li>初始化项目 <ul><li>npm init -y</li></ul></li><li>创建入口文件index.js</li><li>安装依赖包 <ul><li>apollo-server-express</li><li>express</li><li>graphql</li></ul></li><li>复制官方案例代码到index.js</li><li>运行该文件启动服务</li></ul></li><li>二、客户端 <ul><li>通过访问<a href="http://localhost:4000/graphql" target="_blank" rel="noopener noreferrer">http://localhost:4000/graphql</a> 地址打开调试工具就可以进行接口测试</li><li>在调试工具中进行查询测试</li><li>获取测试结果</li></ul></li></ul></li><li><p>总结</p><ul><li><p>只有一个请求地址</p></li><li><p>按需进行查询</p></li><li><p>有特定的查询语法规则</p></li></ul></li></ul><h1 id="graphql服务端开发"><a class="header-anchor" href="#graphql服务端开发" aria-hidden="true">#</a> GraphQL服务端开发</h1><h2 id="基于nodejs的graphql的开发"><a class="header-anchor" href="#基于nodejs的graphql的开发" aria-hidden="true">#</a> 基于Node.js的GraphQL的开发</h2><ul><li><a href="https://github.com/graphql/graphql-js/" target="_blank" rel="noopener noreferrer">GraphQL.js</a> GraphQL规范的JavaScript实现（服务端数据提供和客户端请求）</li><li><a href="https://github.com/graphql/express-graphql" target="_blank" rel="noopener noreferrer">express</a> 基于express创建HTTP服务，内部依赖GraphQL.js</li><li><a href="https://github.com/apollographql/apollo-server" target="_blank" rel="noopener noreferrer">apollo-server</a> GraphQL服务器实现（支持express、koa等多种Web框架） <ul><li>express</li><li>koa</li><li>......</li></ul></li></ul><h2 id="基于apollo-server开发"><a class="header-anchor" href="#基于apollo-server开发" aria-hidden="true">#</a> 基于apollo-server开发</h2><blockquote><p>apollo-server 是一个实现了GraphQL 规范的框架，可以基于它快速开发基于GraphQL的服务端接口，并且方便客户端进行接口调用。</p></blockquote><ul><li>基本开发步骤(服务端) <ul><li>初始化服务端项目 <ul><li>创建项目目录</li><li>创建入口文件</li><li>初始化项目 npm init -y</li></ul></li><li>安装依赖包 <ul><li>npm install apollo-server-express express graphql -S</li></ul></li><li>定义类型</li><li>解析数据</li><li>实例化apollo对象</li><li>整合express并监听端口，提供Web服务</li></ul></li></ul>',18),i=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"// 导入相关的包"),c("\n"),a("span",{class:"token keyword"},"const"),c(" express "),a("span",{class:"token operator"},"="),c(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'express'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),c("\n"),a("span",{class:"token keyword"},"const"),c(),a("span",{class:"token punctuation"},"{"),c(" ApolloServer"),a("span",{class:"token punctuation"},","),c(" gql "),a("span",{class:"token punctuation"},"}"),c(),a("span",{class:"token operator"},"="),c(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'apollo-server-express'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),c("\n"),a("span",{class:"token comment"},"// 定义类型"),c("\n"),a("span",{class:"token keyword"},"const"),c(" typeDefs "),a("span",{class:"token operator"},"="),c(" gql"),a("span",{class:"token template-string"},[a("span",{class:"token template-punctuation string"},"`"),a("span",{class:"token string"},"\n  type Query {\n    hello: String\n  }\n"),a("span",{class:"token template-punctuation string"},"`")]),a("span",{class:"token punctuation"},";"),c("\n"),a("span",{class:"token comment"},"// 解析字段数据"),c("\n"),a("span",{class:"token keyword"},"const"),c(" resolvers "),a("span",{class:"token operator"},"="),c(),a("span",{class:"token punctuation"},"{"),c("\n  Query"),a("span",{class:"token operator"},":"),c(),a("span",{class:"token punctuation"},"{"),c("\n    "),a("span",{class:"token function-variable function"},"hello"),a("span",{class:"token operator"},":"),c(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),c(),a("span",{class:"token operator"},"=>"),c(),a("span",{class:"token string"},"'Hello world!'"),a("span",{class:"token punctuation"},","),c("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),c("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),c("\n"),a("span",{class:"token comment"},"// 整合ApolloServer和express"),c("\n"),a("span",{class:"token keyword"},"const"),c(" server "),a("span",{class:"token operator"},"="),c(),a("span",{class:"token keyword"},"new"),c(),a("span",{class:"token class-name"},"ApolloServer"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),c(" typeDefs"),a("span",{class:"token punctuation"},","),c(" resolvers "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),c("\n"),a("span",{class:"token keyword"},"const"),c(" app "),a("span",{class:"token operator"},"="),c(),a("span",{class:"token function"},"express"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),c("\nserver"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"applyMiddleware"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),c(" app "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),c("\n"),a("span",{class:"token comment"},"// 监听端口"),c("\napp"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"listen"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),c(" port"),a("span",{class:"token operator"},":"),c(),a("span",{class:"token number"},"4000"),c(),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),c(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),c(),a("span",{class:"token operator"},"=>"),c("\n  console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token template-string"},[a("span",{class:"token template-punctuation string"},"`"),a("span",{class:"token string"},"running at http://localhost:4000"),a("span",{class:"token interpolation"},[a("span",{class:"token interpolation-punctuation punctuation"},"${"),c("server"),a("span",{class:"token punctuation"},"."),c("graphqlPath"),a("span",{class:"token interpolation-punctuation punctuation"},"}")]),a("span",{class:"token template-punctuation string"},"`")]),a("span",{class:"token punctuation"},")"),c("\n"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),c("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739948-88919"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 导入相关的包\nconst express = require('express');\nconst { ApolloServer, gql } = require('apollo-server-express');\n// 定义类型\nconst typeDefs = gql`\n  type Query {\n    hello: String\n  }\n`;\n// 解析字段数据\nconst resolvers = {\n  Query: {\n    hello: () => 'Hello world!',\n  },\n};\n// 整合ApolloServer和express\nconst server = new ApolloServer({ typeDefs, resolvers });\nconst app = express();\nserver.applyMiddleware({ app });\n// 监听端口\napp.listen({ port: 4000 }, () =>\n  console.log(`running at http://localhost:4000${server.graphqlPath}`)\n);\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739948-88919","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br")])],-1),r=a("ul",null,[a("li",null,"客户端")],-1),d=a("div",{class:"language-"},[a("pre",null,[a("code",null,'// 查询\nquery {\n  hello\n}\n// 响应结果\n{\n  "data": {\n    "hello": "world"\n  }\n}\n'),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739948-8785"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'// 查询\nquery {\n  hello\n}\n// 响应结果\n{\n  "data": {\n    "hello": "world"\n  }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739948-8785","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br")])],-1),p=t('<ul><li>细节分析 <ul><li>服务器通过定义的数据类型规定了可以提供的各种形式的数据</li><li>类型的字段要有对应的resolve提供对应的数据解析</li><li>客户端可以根据服务端定义的数据类型选择性查询需要的字段信息</li></ul></li></ul><h2 id="对象类型定义规则"><a class="header-anchor" href="#对象类型定义规则" aria-hidden="true">#</a> 对象类型定义规则</h2><h3 id="对象类型定义与字段"><a class="header-anchor" href="#对象类型定义与字段" aria-hidden="true">#</a> 对象类型定义与字段</h3><blockquote><p>GraphQL提供一套完善的类型系统，可以约束服务端可以提供哪些数据类型供客户端查询使用</p></blockquote>',4),u=a("div",{class:"language-"},[a("pre",null,[a("code",null,"# 通过type关键字定义类型，type之后是类型名称（自定义名称）\ntype Course {\n  cname: String\n  score: Float\n}\ntype Student {\n  name: String\n  scores: [Course]\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739948-59227"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 通过type关键字定义类型，type之后是类型名称（自定义名称）\ntype Course {\n  cname: String\n  score: Float\n}\ntype Student {\n  name: String\n  scores: [Course]\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739948-59227","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br")])],-1),m=a("ul",null,[a("li",null,[c("注意事项 "),a("ul",null,[a("li",null,"花括号中是对象的字段信息"),a("li",null,"属性名称是自定义的"),a("li",null,"属性名后面的类型为标量类型（内置类型）"),a("li",null,"GraphQL使用#进行注释")])])],-1),y=a("h3",{id:"基本参数"},[a("a",{class:"header-anchor",href:"#基本参数","aria-hidden":"true"},"#"),c(" 基本参数")],-1),b=a("blockquote",null,[a("p",null,"对象类型上的每一个字段都可能有零个或者多个参数，可以按照条件查询数据")],-1),h=a("div",{class:"language-"},[a("pre",null,[a("code",null,"type Query {\n  hello: String\n  # 定义字段参数，可以有默认值\n  stu(n: Int = 12): Student\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-55453"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"type Query {\n  hello: String\n  # 定义字段参数，可以有默认值\n  stu(n: Int = 12): Student\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-55453","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])],-1),f=a("div",{class:"language-"},[a("pre",null,[a("code",null,"# 获取参数（通过resolver函数的第二个参数获取客户端传递的参数数据）\nconst resolvers = {\n  Query: {\n    stu: (obj, args) => {\n      console.log(args)\n    }\n  },\n};\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-45791"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 获取参数（通过resolver函数的第二个参数获取客户端传递的参数数据）\nconst resolvers = {\n  Query: {\n    stu: (obj, args) => {\n      console.log(args)\n    }\n  },\n};\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-45791","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br")])],-1),k=a("div",{class:"language-"},[a("pre",null,[a("code",null,"{\n  # 客户端字段参数传递\n  stu(n: 13) {\n    name\n    age\n  }\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-73403"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"{\n  # 客户端字段参数传递\n  stu(n: 13) {\n    name\n    age\n  }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-73403","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br")])],-1),v=t('<ul><li>注意事项 <ul><li>参数可以指定默认值，如果有默认值，那么参数就是可选的</li><li>客户端参数通过resolver函数的第二个参数获取</li></ul></li></ul><h3 id="内置类型"><a class="header-anchor" href="#内置类型" aria-hidden="true">#</a> 内置类型</h3><ul><li>查询和变更类型</li></ul><blockquote><p>内置类型中有两个特殊的类型：Query和Mutation</p><p>每一个GraphQL服务有右一个Query类型，也可能有一个Mutation类型，这两个类型本质上也是对象类型，只不过有一点区别：它们作为客户端访问的入口</p></blockquote><ul><li>标量类型 <ul><li>Int</li><li>Float</li><li>String</li><li>Boolean</li><li>ID 唯一标识符，不需要人类可度</li></ul></li></ul><blockquote><p>标量类型用于表示基本的字段数据，表示查询数据的叶子节点</p></blockquote><ul><li>枚举类型</li></ul><blockquote><p>枚举类型是一种特殊的标量，它限制在一个特殊的可选值集合内。</p></blockquote>',8),C=a("div",{class:"language-"},[a("pre",null,[a("code",null,"enum Favour {\n  SWIMING\n  CODING\n  SINGING\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-38145"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"enum Favour {\n  SWIMING\n  CODING\n  SINGING\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-38145","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])],-1),g=a("blockquote",null,[a("p",null,"上述定义表示只能获取三种值之一，其他类型的值是不可以的")],-1),x=a("ul",null,[a("li",null,[c("列表和非空 "),a("ul",null,[a("li",null,"[]表示列表"),a("li",null,"叹号表示非空")])])],-1),w=a("div",{class:"language-"},[a("pre",null,[a("code",null,"type Student {\n  name: String!\n  scores: [Score!]!\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-46026"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"type Student {\n  name: String!\n  scores: [Score!]!\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-46026","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br")])],-1),I=a("blockquote",null,[a("p",null,"myField: [String!] 表示数组本身可以为空，但是其不能有任何空值成员"),a("p",null,"myField: [String]! 表示数组本身不能为空，但是其可以包含空值成员")],-1),$=a("h3",{id:"输入类型"},[a("a",{class:"header-anchor",href:"#输入类型","aria-hidden":"true"},"#"),c(" 输入类型")],-1),j=a("blockquote",null,[a("p",null,"参数也可以是复杂类型，主要用于变更Mutation场景（需要客户端传递输入类型）")],-1),T=a("div",{class:"language-"},[a("pre",null,[a("code",null,"# 定义输入类型\ninput UserInput {\n  uname: String\n  pwd: String\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-8714"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 定义输入类型\ninput UserInput {\n  uname: String\n  pwd: String\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-8714","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])],-1),_=a("blockquote",null,[a("p",null,"定义Mutation，可以用于接收客户端传递的input类型数据")],-1),q=a("div",{class:"language-"},[a("pre",null,[a("code",null,"# 接收客户端传递的input类型参数\ntype Mutation {\n  addUserByInput(userInput: UserInput): User\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-71571"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 接收客户端传递的input类型参数\ntype Mutation {\n  addUserByInput(userInput: UserInput): User\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-71571","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br")])],-1),N=a("div",{class:"language-"},[a("pre",null,[a("code",null,"# 处理客户端传递的input参数\nconst resolvers = {\n  Mutation: {\n    addUserByInput: (obj, args) => {\n      // args可以获取客户端传递的input类型数据\n      return {\n          id: 123,\n        uname: args.uname,\n        pwd: args.pwd\n      }\n    }\n  }\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-44173"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 处理客户端传递的input参数\nconst resolvers = {\n  Mutation: {\n    addUserByInput: (obj, args) => {\n      // args可以获取客户端传递的input类型数据\n      return {\n          id: 123,\n        uname: args.uname,\n        pwd: args.pwd\n      }\n    }\n  }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-44173","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br")])],-1),E=a("div",{class:"language-"},[a("pre",null,[a("code",null,'# 客户端查询操作\nmutation {\n  addUserByInput(userInput: {\n    uname: "lisi",\n    pwd: "123"\n  }) {\n    id\n    username\n  }\n}\n'),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-22244"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'# 客户端查询操作\nmutation {\n  addUserByInput(userInput: {\n    uname: "lisi",\n    pwd: "123"\n  }) {\n    id\n    username\n  }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-22244","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br")])],-1),A=t('<ul><li>注意事项 <ul><li>input类型主要用于变更操作的数据传递</li></ul></li></ul><h2 id="数据解析规则详解"><a class="header-anchor" href="#数据解析规则详解" aria-hidden="true">#</a> 数据解析规则详解</h2><h3 id="resolver函数参数用法"><a class="header-anchor" href="#resolver函数参数用法" aria-hidden="true">#</a> resolver函数参数用法</h3><blockquote><p>resolves用于给类型字段提供实际数据</p></blockquote><ul><li>resolve函数参数 <ul><li>parent 上一级对象，如果字段属于根节点查询类型通常不会被使用。</li><li><code>args</code> 可以提供在 GraphQL 查询中传入的参数。</li><li><code>context</code> 会被提供给所有解析器，并且持有重要的上下文信息比如当前登入的用户或者数据库访问对象。</li><li><code>info</code> 一个保存与当前查询相关的字段特定信息以及 schema 详细信息的值</li></ul></li></ul>',5),S=a("div",{class:"language-"},[a("pre",null,[a("code",null,'// 服务端数据解析\nconst resolvers = {\n  Query: {\n    hello: () => "Hello World"\n  },\n  Mutation: {\n    addInfo: (parent, args, context, info) => {\n      // parent表示当前字段的父级对象\n      console.log(parent);\n      // args表示客户端传递过来的参数\n      console.log(args);\n      // context可以用于操作数据源\n      console.log(context);\n    },\n  }\n};\n'),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-12764"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'// 服务端数据解析\nconst resolvers = {\n  Query: {\n    hello: () => "Hello World"\n  },\n  Mutation: {\n    addInfo: (parent, args, context, info) => {\n      // parent表示当前字段的父级对象\n      console.log(parent);\n      // args表示客户端传递过来的参数\n      console.log(args);\n      // context可以用于操作数据源\n      console.log(context);\n    },\n  }\n};\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-12764","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br")])],-1),P=a("ul",null,[a("li",null,"parent 参数用法")],-1),D=a("div",{class:"language-"},[a("pre",null,[a("code",null,"// 类型定义\ntype Student {\n  sname: String\n  age: Int\n}\n// 数据解析\nconst resolvers = {\n  Student: {\n    // 提供字段的resolver函数，如果不提供，会默认生成\n    sname: (parent) => {\n      return parent.sname\n    }\n  },\n  stu: (parent) => {\n    return {\n      sname: 'lisi',\n      age: 12\n    }\n  }\n};\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-75630"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 类型定义\ntype Student {\n  sname: String\n  age: Int\n}\n// 数据解析\nconst resolvers = {\n  Student: {\n    // 提供字段的resolver函数，如果不提供，会默认生成\n    sname: (parent) => {\n      return parent.sname\n    }\n  },\n  stu: (parent) => {\n    return {\n      sname: 'lisi',\n      age: 12\n    }\n  }\n};\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-75630","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br")])],-1),B=t('<ul><li>注意事项 <ul><li>通过resolver函数的第一个参数parent可以获取父级对象</li><li>如果字段类型是标量类型，会有一个默认的resolver函数</li><li>默认的resolver函数，返回父级对象的字段数据</li></ul></li></ul><h3 id="resolver函数对接数据源"><a class="header-anchor" href="#resolver函数对接数据源" aria-hidden="true">#</a> resolver函数对接数据源</h3><blockquote><p>通过context参数更加方便的对接数据源（数据库、文件、第三方接口），包括异步操作</p></blockquote><ul><li>context基本用法</li></ul>',4),Q=a("div",{class:"language-"},[a("pre",null,[a("code",null,"// context可以用于获取数据源对象\nconst context = () => {\n  return {\n    db: 'dbObj'\n  }\n}\nconst server = new ApolloServer({ typeDefs, resolvers, context });\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-81814"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// context可以用于获取数据源对象\nconst context = () => {\n  return {\n    db: 'dbObj'\n  }\n}\nconst server = new ApolloServer({ typeDefs, resolvers, context });\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-81814","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br")])],-1),F=a("div",{class:"language-"},[a("pre",null,[a("code",null,"// 在resolver函数中可以通过context对象操作数据源\nconst resolvers = {\n  Query: {\n    hello: (parent, args, context) => {\n      // 通过context可以获取数据源操作对象\n      let ret = context.db;\n    }\n  }\n};\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-79676"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 在resolver函数中可以通过context对象操作数据源\nconst resolvers = {\n  Query: {\n    hello: (parent, args, context) => {\n      // 通过context可以获取数据源操作对象\n      let ret = context.db;\n    }\n  }\n};\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-79676","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br")])],-1),G=a("ul",null,[a("li",null,"读取文件数据业务模块")],-1),L=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"// db.js代码：从文件中读取数据，本质上与从数据库读取数据类似，都可以是异步操作"),c("\n"),a("span",{class:"token keyword"},"const"),c(" path "),a("span",{class:"token operator"},"="),c(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'path'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),c("\n"),a("span",{class:"token keyword"},"const"),c(" fs "),a("span",{class:"token operator"},"="),c(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'fs'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),c("\nmodule"),a("span",{class:"token punctuation"},"."),c("exports"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function-variable function"},"getData"),c(),a("span",{class:"token operator"},"="),c(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),c(),a("span",{class:"token operator"},"=>"),c(),a("span",{class:"token punctuation"},"{"),c("\n  "),a("span",{class:"token keyword"},"const"),c(" dataPath "),a("span",{class:"token operator"},"="),c(" path"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"join"),a("span",{class:"token punctuation"},"("),c("__dirname"),a("span",{class:"token punctuation"},","),c(),a("span",{class:"token string"},"'data.json'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),c("\n  "),a("span",{class:"token keyword"},"return"),c(),a("span",{class:"token keyword"},"new"),c(),a("span",{class:"token class-name"},"Promise"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[c("resolve"),a("span",{class:"token punctuation"},","),c(" reject")]),a("span",{class:"token punctuation"},")"),c(),a("span",{class:"token operator"},"=>"),c(),a("span",{class:"token punctuation"},"{"),c("\n    fs"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"readFile"),a("span",{class:"token punctuation"},"("),c("dataPath"),a("span",{class:"token punctuation"},","),c(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[c("err"),a("span",{class:"token punctuation"},","),c(" data")]),a("span",{class:"token punctuation"},")"),c(),a("span",{class:"token operator"},"=>"),c(),a("span",{class:"token punctuation"},"{"),c("\n      "),a("span",{class:"token keyword"},"if"),a("span",{class:"token punctuation"},"("),c("err"),a("span",{class:"token punctuation"},")"),c(),a("span",{class:"token punctuation"},"{"),c("\n        "),a("span",{class:"token function"},"reject"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'error'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),c("\n      "),a("span",{class:"token punctuation"},"}"),c("\n      "),a("span",{class:"token function"},"resolve"),a("span",{class:"token punctuation"},"("),c("data"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),c("\n    "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),c("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),c("\n"),a("span",{class:"token punctuation"},"}"),c("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-19356"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// db.js代码：从文件中读取数据，本质上与从数据库读取数据类似，都可以是异步操作\nconst path = require('path');\nconst fs = require('fs');\nmodule.exports.getData = () => {\n  const dataPath = path.join(__dirname, 'data.json');\n  return new Promise((resolve, reject) => {\n    fs.readFile(dataPath, (err, data) => {\n      if(err) {\n        reject('error');\n      }\n      resolve(data);\n    })\n  })\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-19356","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br")])],-1),V=a("ul",null,[a("li",null,"通过context获取数据源操作的对象")],-1),U=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"// 从文件中读取数据作为数据源，db.getData()返回Promise实例对象"),c("\n"),a("span",{class:"token keyword"},"const"),c(" db "),a("span",{class:"token operator"},"="),c(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'./db.js'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),c("\n"),a("span",{class:"token keyword"},"const"),c(),a("span",{class:"token function-variable function"},"context"),c(),a("span",{class:"token operator"},"="),c(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[a("span",{class:"token punctuation"},"{"),c("req"),a("span",{class:"token punctuation"},"}")]),a("span",{class:"token punctuation"},")"),c(),a("span",{class:"token operator"},"=>"),c(),a("span",{class:"token punctuation"},"{"),c("\n  "),a("span",{class:"token keyword"},"return"),c(),a("span",{class:"token punctuation"},"{"),c(" db"),a("span",{class:"token operator"},":"),c(" db "),a("span",{class:"token punctuation"},"}"),c("\n"),a("span",{class:"token punctuation"},"}"),c("\n"),a("span",{class:"token keyword"},"const"),c(" resolvers "),a("span",{class:"token operator"},"="),c(),a("span",{class:"token punctuation"},"{"),c("\n  Query"),a("span",{class:"token operator"},":"),c(),a("span",{class:"token punctuation"},"{"),c("\n    "),a("span",{class:"token function-variable function"},"hello"),a("span",{class:"token operator"},":"),c(),a("span",{class:"token keyword"},"async"),c(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[c("obj"),a("span",{class:"token punctuation"},","),c(" args"),a("span",{class:"token punctuation"},","),c(" context"),a("span",{class:"token punctuation"},","),c(" info")]),a("span",{class:"token punctuation"},")"),c(),a("span",{class:"token operator"},"=>"),c(),a("span",{class:"token punctuation"},"{"),c("\n      "),a("span",{class:"token keyword"},"let"),c(" ret "),a("span",{class:"token operator"},"="),c(),a("span",{class:"token keyword"},"await"),c(" context"),a("span",{class:"token punctuation"},"."),c("db"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"getData"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),c("\n      "),a("span",{class:"token keyword"},"return"),c(" ret"),a("span",{class:"token punctuation"},";"),c("\n    "),a("span",{class:"token punctuation"},"}"),c("\n  "),a("span",{class:"token punctuation"},"}"),c("\n"),a("span",{class:"token punctuation"},"}"),c("\n"),a("span",{class:"token keyword"},"const"),c(" server "),a("span",{class:"token operator"},"="),c(),a("span",{class:"token keyword"},"new"),c(),a("span",{class:"token class-name"},"ApolloServer"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),c(" typeDefs"),a("span",{class:"token punctuation"},","),c(" resolvers"),a("span",{class:"token punctuation"},","),c(" context "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),c("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-77927"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 从文件中读取数据作为数据源，db.getData()返回Promise实例对象\nconst db = require('./db.js');\nconst context = ({req}) => {\n  return { db: db }\n}\nconst resolvers = {\n  Query: {\n    hello: async (obj, args, context, info) => {\n      let ret = await context.db.getData();\n      return ret;\n    }\n  }\n}\nconst server = new ApolloServer({ typeDefs, resolvers, context });\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-77927","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br")])],-1),R=a("ul",null,[a("li",null,[c("注意事项 "),a("ul",null,[a("li",null,"context参数主要用于提供数据源相关对象，方便进行数据操作（数据获取与变更）")])])],-1),M=a("h1",{id:"graphql客户端开发"},[a("a",{class:"header-anchor",href:"#graphql客户端开发","aria-hidden":"true"},"#"),c(" GraphQL客户端开发")],-1),W=a("h2",{id:"基本查询"},[a("a",{class:"header-anchor",href:"#基本查询","aria-hidden":"true"},"#"),c(" 基本查询")],-1),H=a("blockquote",null,[a("p",null,"按需获取需要的数据")],-1),O=a("div",{class:"language-"},[a("pre",null,[a("code",null,"// 查询hero对象的name属性\n{\n  hero {\n    name\n  }\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-5439"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 查询hero对象的name属性\n{\n  hero {\n    name\n  }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-5439","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br")])],-1),J=a("div",{class:"language-"},[a("pre",null,[a("code",null,'// 查结果\n{\n  "data": {\n    "hero": {\n      "name": "lisi"\n    }\n  }\n}\n'),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739949-54976"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'// 查结果\n{\n  "data": {\n    "hero": {\n      "name": "lisi"\n    }\n  }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739949-54976","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br")])],-1),z=t('<ul><li>注意事项 <ul><li>GraphQL只有一个URL地址，客户端查询的所有信息都通过该地址获取数据</li><li>可以更加需要按照实际的需求获取特定的数据</li></ul></li></ul><h2 id="操作名称"><a class="header-anchor" href="#操作名称" aria-hidden="true">#</a> 操作名称</h2><blockquote><p>有多个操作时，操作名称是必须的，为了调试的方便，推荐添加操作名</p></blockquote><ul><li><p>规则：操作类型 操作名称（操作名称自定义）</p></li><li><p>操作类型主要有如下两种</p><ul><li>query 用于查询</li><li>mutation 用于变更操作（添加、修改、删除）</li></ul></li></ul>',4),K=a("div",{class:"language-"},[a("pre",null,[a("code",null,"# 查询名称\nquery helloInfo {\n  hello\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-90839"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 查询名称\nquery helloInfo {\n  hello\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-90839","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br")])],-1),X=a("div",{class:"language-"},[a("pre",null,[a("code",null,'# 变更名称\nmutation addUser {\n  addUser(userInput: {\n    uname: "lisi",\n    pwd: "123"\n  }) {\n    id\n    username\n  }\n}\n'),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-89542"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'# 变更名称\nmutation addUser {\n  addUser(userInput: {\n    uname: "lisi",\n    pwd: "123"\n  }) {\n    id\n    username\n  }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-89542","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br")])],-1),Y=a("ul",null,[a("li",null,[c("注意事项 "),a("ul",null,[a("li",null,"推荐所有的查询和变更操作添加操作名称")])])],-1),Z=a("h2",{id:"查询参数"},[a("a",{class:"header-anchor",href:"#查询参数","aria-hidden":"true"},"#"),c(" 查询参数")],-1),nn=a("blockquote",null,[a("p",null,"有时候需要根据特定的条件查询数据，此时可以使用查询参数")],-1),en=a("div",{class:"language-"},[a("pre",null,[a("code",null,'// 查询id是1，姓名是lisi的学生信息\nquery param {\n  stu(id: 1, sname: "lisi") {\n    sname\n    age\n    gender\n  }\n}\n'),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-34355"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'// 查询id是1，姓名是lisi的学生信息\nquery param {\n  stu(id: 1, sname: "lisi") {\n    sname\n    age\n    gender\n  }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-34355","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br")])],-1),tn=a("div",{class:"language-"},[a("pre",null,[a("code",null,'// 查询结果\n{\n  "data": {\n    "stu": {\n      "sname": "lisi",\n      "age": 12,\n      "gender": true\n    }\n  }\n}\n'),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-53370"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'// 查询结果\n{\n  "data": {\n    "stu": {\n      "sname": "lisi",\n      "age": 12,\n      "gender": true\n    }\n  }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-53370","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br")])],-1),an=a("ul",null,[a("li",null,[c("注意事项 "),a("ul",null,[a("li",null,"查询字段可以携带参数，并且可以携带多个参数，参数之间通过逗号隔开")])])],-1),cn=a("h2",{id:"变量"},[a("a",{class:"header-anchor",href:"#变量","aria-hidden":"true"},"#"),c(" 变量")],-1),sn=a("blockquote",null,[a("p",null,"有时字段的参数需要动态提供，而不是固定的值，此时可以使用变量，其实类似于函数中的形参")],-1),ln=a("div",{class:"language-"},[a("pre",null,[a("code",null,'# $id: Int （变量名称: 变量类型）\nquery param($id: Int, $num: Float) {\n  stu(id: $id) {\n    id \n    sname \n    scores(num: $num) {\n      cname \n      score\n    }\n  }\n}\n// 分离的变量字典\n{\n  "id": 1,\n  "num": 99\n}\n'),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-93965"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'# $id: Int （变量名称: 变量类型）\nquery param($id: Int, $num: Float) {\n  stu(id: $id) {\n    id \n    sname \n    scores(num: $num) {\n      cname \n      score\n    }\n  }\n}\n// 分离的变量字典\n{\n  "id": 1,\n  "num": 99\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-93965","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br")])],-1),on=t('<ul><li>注意事项 <ul><li>变量类型必须是标量、枚举型或者输入对象类型</li><li>变量可以有默认值 ($id: Int = 1)</li></ul></li></ul><h2 id="指令"><a class="header-anchor" href="#指令" aria-hidden="true">#</a> 指令</h2><blockquote><p>有时候查询的字段数量不是固定的，此时可以通过指令的方式进行控制</p></blockquote><ul><li>两个指令 <ul><li><code>@include(if: Boolean)</code> 仅在参数为 <code>true</code> 时，包含此字段。</li><li><code>@skip(if: Boolean)</code> 如果参数为 <code>true</code>，跳过此字段。</li></ul></li></ul>',4),rn=a("div",{class:"language-"},[a("pre",null,[a("code",null,"query param($id: Int, $gender: Boolean!) {\n  stu(id: $id) {\n    id \n    sname \n    gender @include(if: $gender) \n  }\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-76089"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"query param($id: Int, $gender: Boolean!) {\n  stu(id: $id) {\n    id \n    sname \n    gender @include(if: $gender) \n  }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-76089","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br")])],-1),dn=a("div",{class:"language-"},[a("pre",null,[a("code",null,"query param($id: Int, $gender: Boolean!) {\n  stu(id: $id) {\n    id \n    sname \n    gender @skip(if: $gender) \n  }\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-64370"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"query param($id: Int, $gender: Boolean!) {\n  stu(id: $id) {\n    id \n    sname \n    gender @skip(if: $gender) \n  }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-64370","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br")])],-1),pn=a("ul",null,[a("li",null,[c("注意事项 "),a("ul",null,[a("li",null,"可以通过这两个指令动态控制查询的字段数量"),a("li",null,"指令用到的变量定义时需要添加!，强制必须提供该值")])])],-1),un=a("h2",{id:"别名"},[a("a",{class:"header-anchor",href:"#别名","aria-hidden":"true"},"#"),c(" 别名")],-1),mn=a("blockquote",null,[a("p",null,"有时需要通过不同参数值查询相同字段信息，比如查询学生的数学和英语成绩")],-1),yn=a("div",{class:"language-json line-numbers-mode"},[a("pre",null,[a("code",null,[c("query alias "),a("span",{class:"token punctuation"},"{"),c("\n  stu "),a("span",{class:"token punctuation"},"{"),c("\n    id\n    sname\n    math"),a("span",{class:"token operator"},":"),c(" scores(cname"),a("span",{class:"token operator"},":"),c(),a("span",{class:"token string"},'"数学"'),c(") "),a("span",{class:"token punctuation"},"{"),c("\n      cname\n      score\n    "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),c("\n    english"),a("span",{class:"token operator"},":"),c(" scores(cname"),a("span",{class:"token operator"},":"),c(),a("span",{class:"token string"},'"英语"'),c(") "),a("span",{class:"token punctuation"},"{"),c("\n      cname\n      score\n    "),a("span",{class:"token punctuation"},"}"),c("\n  "),a("span",{class:"token punctuation"},"}"),c("\n"),a("span",{class:"token punctuation"},"}"),c("\n"),a("span",{class:"token comment"},"// 上面的查询结果如下"),c("\n"),a("span",{class:"token punctuation"},"{"),c("\n  "),a("span",{class:"token property"},'"data"'),a("span",{class:"token operator"},":"),c(),a("span",{class:"token punctuation"},"{"),c("\n    "),a("span",{class:"token property"},'"stu"'),a("span",{class:"token operator"},":"),c(),a("span",{class:"token punctuation"},"{"),c("\n      "),a("span",{class:"token property"},'"id"'),a("span",{class:"token operator"},":"),c(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},","),c("\n      "),a("span",{class:"token property"},'"sname"'),a("span",{class:"token operator"},":"),c(),a("span",{class:"token string"},'"张三"'),a("span",{class:"token punctuation"},","),c("\n      "),a("span",{class:"token property"},'"math"'),a("span",{class:"token operator"},":"),c(),a("span",{class:"token punctuation"},"["),c("\n        "),a("span",{class:"token punctuation"},"{"),c("\n          "),a("span",{class:"token property"},'"cname"'),a("span",{class:"token operator"},":"),c(),a("span",{class:"token string"},'"数学"'),a("span",{class:"token punctuation"},","),c("\n          "),a("span",{class:"token property"},'"score"'),a("span",{class:"token operator"},":"),c(),a("span",{class:"token number"},"98.5"),c("\n        "),a("span",{class:"token punctuation"},"}"),c("\n      "),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},","),c("\n      "),a("span",{class:"token property"},'"english"'),a("span",{class:"token operator"},":"),c(),a("span",{class:"token punctuation"},"["),c("\n        "),a("span",{class:"token punctuation"},"{"),c("\n          "),a("span",{class:"token property"},'"cname"'),a("span",{class:"token operator"},":"),c(),a("span",{class:"token string"},'"英语"'),a("span",{class:"token punctuation"},","),c("\n          "),a("span",{class:"token property"},'"score"'),a("span",{class:"token operator"},":"),c(),a("span",{class:"token number"},"99.5"),c("\n        "),a("span",{class:"token punctuation"},"}"),c("\n      "),a("span",{class:"token punctuation"},"]"),c("\n    "),a("span",{class:"token punctuation"},"}"),c("\n  "),a("span",{class:"token punctuation"},"}"),c("\n"),a("span",{class:"token punctuation"},"}"),c("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-48818"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'query alias {\n  stu {\n    id\n    sname\n    math: scores(cname: "数学") {\n      cname\n      score\n    },\n    english: scores(cname: "英语") {\n      cname\n      score\n    }\n  }\n}\n// 上面的查询结果如下\n{\n  "data": {\n    "stu": {\n      "id": 1,\n      "sname": "张三",\n      "math": [\n        {\n          "cname": "数学",\n          "score": 98.5\n        }\n      ],\n      "english": [\n        {\n          "cname": "英语",\n          "score": 99.5\n        }\n      ]\n    }\n  }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-48818","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br"),a("span",{class:"line-number"},"27"),a("br"),a("span",{class:"line-number"},"28"),a("br"),a("span",{class:"line-number"},"29"),a("br"),a("span",{class:"line-number"},"30"),a("br"),a("span",{class:"line-number"},"31"),a("br"),a("span",{class:"line-number"},"32"),a("br"),a("span",{class:"line-number"},"33"),a("br"),a("span",{class:"line-number"},"34"),a("br"),a("span",{class:"line-number"},"35"),a("br")])],-1),bn=a("ul",null,[a("li",null,[c("注意事项 "),a("ul",null,[a("li",null,"可以通过别名的方式获取特定某几项数据（查询结果的数据格式相同）")])])],-1),hn=a("h2",{id:"变更"},[a("a",{class:"header-anchor",href:"#变更","aria-hidden":"true"},"#"),c(" 变更")],-1),fn=a("blockquote",null,[a("p",null,"改变服务器数据需要用到【变更】（mutation）操作")],-1),kn=a("div",{class:"language-"},[a("pre",null,[a("code",null,'# 通过具体值方式传递参数\nmutation addUserByParam {\n  addUserByParam(uname: "lisi", pwd:"abc") {\n    id\n    uname\n    pwd\n  }\n}\n'),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-39072"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'# 通过具体值方式传递参数\nmutation addUserByParam {\n  addUserByParam(uname: "lisi", pwd:"abc") {\n    id\n    uname\n    pwd\n  }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-39072","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br")])],-1),vn=a("div",{class:"language-"},[a("pre",null,[a("code",null,"# 通过变量方式传递参数\nmutation addUserByInput($userInput: UserInput) {\n  addUserByInput(userInput: $userInput) {\n    id\n    uname\n    pwd\n  }\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-51953"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 通过变量方式传递参数\nmutation addUserByInput($userInput: UserInput) {\n  addUserByInput(userInput: $userInput) {\n    id\n    uname\n    pwd\n  }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-51953","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br")])],-1),Cn=a("div",{class:"language-"},[a("pre",null,[a("code",null,'# 参数传递\n{\n  "userInput": {\n    "uname": "lisi",\n    "pwd": "123"\n  }\n}\n'),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-88351"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'# 参数传递\n{\n  "userInput": {\n    "uname": "lisi",\n    "pwd": "123"\n  }\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-88351","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br")])],-1),gn=t('<ul><li>注意事项 <ul><li>通过mutation关键字实现变更操作</li><li>userInput变量并非标量，而是一个输入类型</li><li>参数的传递可以通过普通参数，也可以使用输入类型，一般较为复杂的数据采用输入类型</li></ul></li></ul><h1 id="留言板案例实战"><a class="header-anchor" href="#留言板案例实战" aria-hidden="true">#</a> 留言板案例实战</h1><h2 id="项目业务分析与展示"><a class="header-anchor" href="#项目业务分析与展示" aria-hidden="true">#</a> 项目业务分析与展示</h2><ul><li>留言列表展示效果</li><li>项目业务分析</li></ul><h2 id="服务端实现"><a class="header-anchor" href="#服务端实现" aria-hidden="true">#</a> 服务端实现</h2><ul><li>初始化项目</li><li>类型定义</li><li>数据解析 <ul><li>留言板信息</li><li>友情链接信息</li><li>天气预报信息</li><li>添加留言功能</li></ul></li></ul>',6),xn=a("div",{class:"language-"},[a("pre",null,[a("code",null,"# 核心类型定义\ntype Data {\n  weather: Weather\n  link: [FriendlyLink]\n  list: [Comment]\n}\ntype Query {\n  info: Data\n}\ntype Mutation {\n  createComment(input: CommentInput): Comment\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-56107"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 核心类型定义\ntype Data {\n  weather: Weather\n  link: [FriendlyLink]\n  list: [Comment]\n}\ntype Query {\n  info: Data\n}\ntype Mutation {\n  createComment(input: CommentInput): Comment\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-56107","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br")])],-1),wn=a("h3",{id:"对接数据源"},[a("a",{class:"header-anchor",href:"#对接数据源","aria-hidden":"true"},"#"),c(" 对接数据源")],-1),In=a("ul",null,[a("li",null,"对接评论信息数据源"),a("li",null,"对接友情链接数据源"),a("li",null,"对接天气数据源"),a("li",null,"实现数据源整合，完成响应数据的resolver函数功能")],-1),$n=a("div",{class:"language-"},[a("pre",null,[a("code",null,"info: async (parent, args, context) => {\n  // 调用数据源对象获取数据\n  return {\n    list: list,\n    link: link,\n    weather: weather\n  }\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-83540"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"info: async (parent, args, context) => {\n  // 调用数据源对象获取数据\n  return {\n    list: list,\n    link: link,\n    weather: weather\n  }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-83540","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br")])],-1),jn=t('<h2 id="客户端实现"><a class="header-anchor" href="#客户端实现" aria-hidden="true">#</a> 客户端实现</h2><ul><li>初始化项目</li><li>实现布局效果</li><li>对接后台GraphQL接口（基于apollo-server客户端）</li></ul><h3 id="apollo-server对接后台接口基本流程"><a class="header-anchor" href="#apollo-server对接后台接口基本流程" aria-hidden="true">#</a> apollo-server对接后台接口基本流程</h3><ol><li>安装相关依赖包：npm install --save vue-apollo graphql apollo-boost</li><li>配置Vue的apollo插件</li></ol>',4),Tn=a("div",{class:"language-"},[a("pre",null,[a("code",null,"import Vue from 'vue'\nimport VueApollo from 'vue-apollo'\nVue.use(VueApollo)\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-19104"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"import Vue from 'vue'\nimport VueApollo from 'vue-apollo'\nVue.use(VueApollo)\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-19104","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br")])],-1),_n=a("ol",{start:"3"},[a("li",null,"实例化apollo客户端对象")],-1),qn=a("div",{class:"language-"},[a("pre",null,[a("code",null,"import ApolloClient from 'apollo-boost'\nconst apolloClient = new ApolloClient({\n  uri: 'http://localhost:4000/graphql'\n})\nconst apolloProvider = new VueApollo({\n  defaultClient: apolloClient,\n})\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-87239"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"import ApolloClient from 'apollo-boost'\nconst apolloClient = new ApolloClient({\n  uri: 'http://localhost:4000/graphql'\n})\nconst apolloProvider = new VueApollo({\n  defaultClient: apolloClient,\n})\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-87239","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br")])],-1),Nn=a("ol",{start:"4"},[a("li",null,"将apollo客户端实例对象挂载到Vue实例中")],-1),En=a("div",{class:"language-"},[a("pre",null,[a("code",null,"new Vue({\n  apolloProvider,\n  render: h => h(App),\n}).$mount('#app')\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-96025"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"new Vue({\n  apolloProvider,\n  render: h => h(App),\n}).$mount('#app')\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-96025","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br")])],-1),An=a("ol",{start:"5"},[a("li",null,"导入GraphQL相关api：import gql from 'graphql-tag';"),a("li",null,"调用GraphQL后台接口")],-1),Sn=a("div",{class:"language-"},[a("pre",null,[a("code",null,"// vue参数中配置查询逻辑\napollo: {\n  info: {\n    query: gql`\n      query list {\n        info {\n          list {\n            username\n            content\n            date\n          }\n        }\n      }\n    `\n  }\n},\ndata () {\n  return {\n    info: []\n  }\n}\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-84912"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// vue参数中配置查询逻辑\napollo: {\n  info: {\n    query: gql`\n      query list {\n        info {\n          list {\n            username\n            content\n            date\n          }\n        }\n      }\n    `\n  }\n},\ndata () {\n  return {\n    info: []\n  }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-84912","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br")])],-1),Pn=t('<h3 id="完成页面数据展示"><a class="header-anchor" href="#完成页面数据展示" aria-hidden="true">#</a> 完成页面数据展示</h3><ul><li>留言板信息</li><li>友情链接信息</li><li>天气信息</li></ul><h3 id="完成发送留言功能"><a class="header-anchor" href="#完成发送留言功能" aria-hidden="true">#</a> 完成发送留言功能</h3><ul><li>表单数据绑定</li><li>发送按钮事件绑定</li><li>调用后台接口发送数据</li></ul>',4),Dn=a("div",{class:"language-"},[a("pre",null,[a("code",null,"this.$apollo.mutate({\n  mutation: gql`\n    mutation createComment($commentInput: CommentInput) {\n      createComment(commentInput: $commentInput) {\n        username\n        content\n      }\n    }\n  `,\n  variables: {\n    commentInput: {\n      username: username,\n      content: content\n    }\n  },\n  refetchQueries:[{query: QueryListTag}]\n})\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558739950-63886"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"this.$apollo.mutate({\n  mutation: gql`\n    mutation createComment($commentInput: CommentInput) {\n      createComment(commentInput: $commentInput) {\n        username\n        content\n      }\n    }\n  `,\n  variables: {\n    commentInput: {\n      username: username,\n      content: content\n    }\n  },\n  refetchQueries:[{query: QueryListTag}]\n})\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558739950-63886","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br")])],-1);l.render=function(t,a,c,s,l,Bn){return n(),e("div",null,[o,i,r,d,p,u,m,y,b,h,f,k,v,C,g,x,w,I,$,j,T,_,q,N,E,A,S,P,D,B,Q,F,G,L,V,U,R,M,W,H,O,J,z,K,X,Y,Z,nn,en,tn,an,cn,sn,ln,on,rn,dn,pn,un,mn,yn,bn,hn,fn,kn,vn,Cn,gn,xn,wn,In,$n,jn,Tn,_n,qn,Nn,En,An,Sn,Pn,Dn])};export default l;export{s as __pageData};
