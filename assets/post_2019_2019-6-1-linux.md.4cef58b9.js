import{o as n,c as e,f as t,a,x as s}from"./app.b304d650.js";const c='{"title":"Linux 服务器","description":"","frontmatter":{"title":"Linux 服务器","tag":["linux","centOS","nginx"],"author":"Artiely","date":"2019-6-1","cover":"https://gitee.com/artiely/Figure-bed/raw/master/images/20200315154103.png","base64":16517},"headers":[{"level":2,"title":"Linux简介","slug":"linux简介"},{"level":3,"title":"版本介绍","slug":"版本介绍"},{"level":3,"title":"应用场景","slug":"应用场景"},{"level":3,"title":"安装方法","slug":"安装方法"},{"level":3,"title":"Linux目录结构","slug":"linux目录结构"},{"level":3,"title":"Linux启动过程","slug":"linux启动过程"},{"level":3,"title":"常用命令介绍(重点)","slug":"常用命令介绍重点"},{"level":2,"title":"Nginx服务","slug":"nginx服务"},{"level":3,"title":"Nginx简介","slug":"nginx简介"},{"level":3,"title":"Nginx服务安装","slug":"nginx服务安装"},{"level":3,"title":"Nginx配置及优化","slug":"nginx配置及优化"},{"level":3,"title":"HTTP(s)","slug":"https"},{"level":2,"title":"云服务器","slug":"云服务器"},{"level":3,"title":"阿里云ECS","slug":"阿里云ecs"},{"level":3,"title":"云数据库RDS","slug":"云数据库rds"},{"level":3,"title":"负载均衡SLB","slug":"负载均衡slb"},{"level":2,"title":"扩展知识","slug":"扩展知识"},{"level":3,"title":"域名解析","slug":"域名解析"},{"level":3,"title":"shell脚本入门","slug":"shell脚本入门"},{"level":3,"title":"vim编辑器入门","slug":"vim编辑器入门"}],"relativePath":"post/2019/2019-6-1-linux.md","lastUpdated":1629110828622}',o={},l=t('<h1 id="linux-服务器"><a class="header-anchor" href="#linux-服务器" aria-hidden="true">#</a> Linux 服务器</h1><p><strong>Linux是操作系统：</strong></p><p>Linux作为<a href="https://zh.wikipedia.org/wiki/%E8%87%AA%E7%94%B1%E8%BD%AF%E4%BB%B6" target="_blank" rel="noopener noreferrer">自由软件</a>和<a href="https://zh.wikipedia.org/wiki/%E5%BC%80%E6%94%BE%E6%BA%90%E4%BB%A3%E7%A0%81%E8%BD%AF%E4%BB%B6" target="_blank" rel="noopener noreferrer">开放源代码软件</a>发展中最著名的例子，背靠社区与商业化的使用，使其得到了广泛的应用与发展。</p><p><strong>Linux无处不在：</strong></p><p>世界上500个最快的超级计算机90％以上运行Linux发行版或变种，包括最快的前10名超级计算机运行的都是基于Linux内核的操作系统。Linux也广泛应用在嵌入式系统上，如手机（Mobile Phone）、平板电脑（Tablet）、路由器（Router）、电视（TV）和电子游戏机等。在移动设备上广泛使用的Android操作系统就是创建在Linux内核之上。</p><p><strong>主要目标：</strong></p><ul><li>了解Linux操作系统(版本、目录、安装等)</li><li>学会使用Linux常见的命令</li><li>搭建Nginx服务，给你的Web小站一个运行环境吧~~</li><li>介绍HTTP(s)及免费申请SSL证书</li><li>云服务器阿里云、华为云（介绍）、云数据库RDS介绍</li><li>什么是负载均衡？负载均衡有什么用？阿里云SLB介绍</li></ul><p><strong>前置准备【下面的方式任选其一】：</strong></p><ul><li>使用虚拟化软件(本地安装)</li><li>购买云服务器</li></ul><p>版本准备：linux操作系统(Centos 7.6)</p><p>可选：准备一个域名</p><h2 id="linux简介"><a class="header-anchor" href="#linux简介" aria-hidden="true">#</a> Linux简介</h2><h3 id="版本介绍"><a class="header-anchor" href="#版本介绍" aria-hidden="true">#</a> 版本介绍</h3><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145657.png" alt="Linux简版介绍"></p><p>Fedora是基于RHEL，CentOS，Scientific Linux, 和Oracle Linux的社区版本。相比RHEL，Fedora打包了显著的更多的软件包。其中一个原因是，多样化的社区参与Fedora的建设，它不只是一家公司。在这个过程中，CentOS用于活动，演示和实验，因为它是对最终用户免费提供的，并具有比Fedora的一个更长的发布周期(通常每隔半年左右发布一个新版本)。</p><p>Debian是包括Ubuntu在内许多发行版的上游，而Ubuntu又是Linux Mint及其他发行版的上游。Debian在服务器和桌面电脑领域都有着广泛的应用。Debian是一个纯开源计划并着重在一个关键点上，稳定性。它同时也提供了最大的和完整的软件仓库给用户。</p><p>Linux的发行版本可以大体分为两类，一类是商业公司维护的发行版本，如：著名的Redhat(RHEL)，一类是社区组织维护的发行版本，如：Debian。下面介绍一下各个发行版本的特点：</p><h4 id="centosredhat"><a class="header-anchor" href="#centosredhat" aria-hidden="true">#</a> Centos(Redhat)</h4><p>Redhat，应该称为Redhat系列，包括RHEL(Redhat Enterprise Linux，也就是所谓的Redhat Advance Server，收费版本)、Fedora Core(由原来的Redhat桌面版本发展而来，免费版本)、CentOS(RHEL的社区克隆版本，免费)。</p><p>包管理方式：采用的是基于<code>rpm</code>包的<code>yum</code>包管理方式。</p><h4 id="debian"><a class="header-anchor" href="#debian" aria-hidden="true">#</a> Debian</h4><p>Debian是社区类Linux的典范，是迄今为止最遵循GNU规范 的Linux系统。Debian最早由Ian Murdock于1993年创建，分为三个版本分支(branch)： <code>stable</code>, <code>testing</code> 和 <code>unstable</code>。其中，<code>unstable</code>为最新的测试版本，其中包括最新的软件包，但是也有相对较多的bug，适合桌面用户。<code>testing</code>的版本都经 过<code>unstable</code>中的测试，相对较为稳定，也支持了不少新技术(比如SMP等)。而<code>stable</code>一般只用于服务器，上面的软件包大部分都比较过时，但是稳定和安全性都非常的高。</p><p>包管理方式：采用的是基于是<code>apt-get</code>、<code>dpkg</code>包管理方式。</p><h4 id="ubuntu"><a class="header-anchor" href="#ubuntu" aria-hidden="true">#</a> Ubuntu</h4><p>Ubuntu严格来说不能算一个独立的发行版本，Ubuntu是基于Debian的<code>unstable</code>版本加强而来，可以这么说，Ubuntu就是 一个拥有Debian所有的优点，以及自己所加强的优点的近乎完美的 Linux桌面系统。根据选择的桌面系统不同，有三个版本可供选择，基于<code>Gnome</code>的Ubuntu，基于<code>KDE</code>的Kubuntu以及基于<code>Xfc</code>的 Xubuntu。特点是界面非常友好，容易上手，对硬件的支持非常全面，是最适合做桌面系统的Linux发行版本。</p><p>包管理方式：采用的是基于是<code>apt-get</code>、<code>dpkg</code>包管理方式。</p><p>总结对比一下：</p><table><thead><tr><th>分类</th><th>Centos</th><th>Debian</th><th>Ubuntu</th></tr></thead><tbody><tr><td>包管理</td><td>yum</td><td>apt-get</td><td>apt-get</td></tr><tr><td>桌面应用</td><td>支持</td><td>需要另装</td><td>支持</td></tr><tr><td>系统资源占用</td><td>小</td><td>非常小</td><td>大</td></tr><tr><td>资料</td><td>最多</td><td>依赖社区</td><td>多</td></tr><tr><td>更新频次</td><td>长达10年</td><td>1-2年</td><td>3-5年</td></tr><tr><td>软件资源</td><td>较新</td><td>最新</td><td>新</td></tr><tr><td>漏洞更新</td><td>慢</td><td>依赖社区</td><td>依赖社区</td></tr><tr><td>默认安装</td><td>非常全</td><td>无</td><td>非常全</td></tr><tr><td>稳定性</td><td>较稳定</td><td>稳定</td><td>相对稳定</td></tr><tr><td>系统操作要求</td><td>较高</td><td>高</td><td>低</td></tr><tr><td>维护要求</td><td>低</td><td>高</td><td>较高</td></tr><tr><td>易用性</td><td>一般</td><td>差</td><td>较好</td></tr><tr><td>定制化</td><td>一般</td><td>高</td><td>差</td></tr></tbody></table><p>CentOS是RHEL发行版对应的开源版本，通常在RedHat的发布后就会很快发行。它既稳定，占用资源又少，在网络上能方便搜索到安装配置的文档，自身的帮助文档也非常强大。所以，新人学习推荐：<strong>Centos</strong></p><blockquote><p>本操作与演示，将会使用Centos 7.6 64-bit版本进行演示</p></blockquote><p>参考资料：<a href="https://upload.wikimedia.org/wikipedia/commons/1/1b/Linux_Distribution_Timeline.svg" target="_blank" rel="noopener noreferrer">Linux发行版及年份</a></p><h3 id="应用场景"><a class="header-anchor" href="#应用场景" aria-hidden="true">#</a> 应用场景</h3><h4 id="linux-vs-windows"><a class="header-anchor" href="#linux-vs-windows" aria-hidden="true">#</a> Linux vs Windows</h4><p>下面我们Linux与Windows作一个对比：</p><p>这里Linux是免费的版本，如Centos, Ubuntu，而Windows则是Windows10/8/7</p><table><thead><tr><th>分类</th><th>Linux</th><th>Windows</th></tr></thead><tbody><tr><td>费用</td><td>免费</td><td>付费</td></tr><tr><td>软件支持</td><td>社区，免费</td><td>官方支持，收费</td></tr><tr><td>安全性</td><td>很安全</td><td>各种漏洞</td></tr><tr><td>使用习惯</td><td>命令行与界面操作，需要学习</td><td>图形界面操作，简单</td></tr><tr><td>可定制性</td><td>高</td><td>低</td></tr><tr><td>应用范畴</td><td>服务器</td><td>工作、娱乐</td></tr><tr><td>更新</td><td>依赖社区</td><td>官方更新</td></tr><tr><td>系统内核</td><td>透明</td><td>封闭</td></tr></tbody></table><p>Linux的优势：</p><ul><li><strong>稳定的系统</strong></li><li>安全性和漏洞的快速修补</li><li>多用户</li><li>用户和用户组的规划</li><li><strong>相对较少的系统资源占用</strong></li><li>可定制裁剪，移植到嵌入式平台（如安卓设备）</li><li>可选择的多种图形用户界面（如 GNOME，KDE）</li></ul><p>Windows的优势：</p><ul><li>特定的支持厂商</li><li><strong>足够的游戏娱乐支持度</strong></li><li>足够的专业软件支持度</li></ul><h4 id="linux的gui界面"><a class="header-anchor" href="#linux的gui界面" aria-hidden="true">#</a> Linux的GUI界面</h4><p>这里我们选择几款比较有代表性的桌面进行简单的介绍：</p><ol><li><p>GNOME<a href="https://www.gnome.org/" target="_blank" rel="noopener noreferrer">[官方地址]</a></p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145658.png" alt="image-20190602081017634"></p><blockquote><p>centos6.x 上默认是gnome2，7.x默认gnome3</p></blockquote><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145659.jpg" alt="img"></p><p>上图为：GNOME3</p></li><li><p>KDE <a href="https://kde.org/" target="_blank" rel="noopener noreferrer">[官方地址]</a></p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145700.jpg" alt="Plasma 5.12"></p><p>上图为：Plasma 5.12 LTS</p></li><li><p>Unity</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145701.png" alt="preview"></p><p><strong>Unity</strong>是<a href="https://zh.wikipedia.org/wiki/Canonical%E5%85%AC%E5%8F%B8" target="_blank" rel="noopener noreferrer">Canonical公司</a>为<a href="https://zh.wikipedia.org/wiki/GNOME" target="_blank" rel="noopener noreferrer">GNOME</a><a href="https://zh.wikipedia.org/wiki/%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83" target="_blank" rel="noopener noreferrer">桌面环境</a>所开发的<a href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2" target="_blank" rel="noopener noreferrer">图形用户界面</a>，用于<a href="https://zh.wikipedia.org/wiki/Ubuntu" target="_blank" rel="noopener noreferrer">Ubuntu</a><a href="https://zh.wikipedia.org/wiki/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener noreferrer">操作系统</a>。</p><blockquote><p>直到Ubuntu16.04LTS，使用的都是Unity，从 Ubuntu 18.04 LTS 开始，默认的 Ubuntu 桌面将重归 GNOME。人事调整，与钱的问题….有兴趣可以看<a href="https://insights.ubuntu.com/2017/04/05/growing-ubuntu-for-cloud-and-iot-rather-than-phone-and-convergence/" target="_blank" rel="noopener noreferrer">这里</a></p></blockquote></li></ol><p>我们来看看<a href="https://trends.google.com/trends/explore?date=today%205-y&amp;q=GNOME,KDE,%2Fm%2F0dsbk0n" target="_blank" rel="noopener noreferrer">Google Trends</a></p><p>参考资料：</p><p><a href="http://www.ubuntu.org.cn/download" target="_blank" rel="noopener noreferrer">Ubuntu官方下载地址：获取 Ubuntu</a></p><p><a href="https://blog.csdn.net/zyqblog/article/details/80152016" target="_blank" rel="noopener noreferrer">Ubuntu18.04（Gnome桌面）主题美化</a></p><p><a href="https://blog.csdn.net/ice__snow/article/details/80152068" target="_blank" rel="noopener noreferrer">Ubuntu 18.04配置及美化</a></p><p><a href="https://heliu.io/2018/12/22/Ubuntu18.04%E5%AE%8C%E7%BE%8E%E9%85%8D%E7%BD%AE/#%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88" target="_blank" rel="noopener noreferrer">Ubuntu18.04完美配置优化美化</a></p><h4 id="常见软件应用"><a class="header-anchor" href="#常见软件应用" aria-hidden="true">#</a> 常见软件应用</h4><ul><li>数据库：MySQL、Oracle、 MongoDB、Redis</li><li>web服务器：<code>Nginx</code>、Apache</li><li>浏览器：Chromium(Chrome)、Firefox</li><li>编辑器：Emacs，<code>Vim</code>，Nano，Atom，VScode，IntelliJ IDEA&amp;Webstorm</li><li>文档：WPS Office、LibreOffice、Calligra(Ubuntu/Debian)</li><li>下载工具：<code>Aria2</code>、uGet(Ubuntu/Debian)、XDM、qBittorrent</li><li>虚拟化：VirtualBox、VMWare、</li><li>系统工具：<code>git</code>、rsync、sudo、unzip、tar</li><li>其他：音乐Netease Music、图片GIMP、聊天Wine QQ、播放器VLC</li></ul><h3 id="安装方法"><a class="header-anchor" href="#安装方法" aria-hidden="true">#</a> 安装方法</h3><h4 id="centos安装方法"><a class="header-anchor" href="#centos安装方法" aria-hidden="true">#</a> Centos安装方法：</h4><ol><li><p>下载镜像</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145702.png" alt="image-20190602095157756"></p><p>按需选择下载：</p><table><thead><tr><th>类型</th><th>DVD</th><th>Minimal</th></tr></thead><tbody><tr><td>图形安装</td><td>支持</td><td>支持</td></tr><tr><td>自带软件包</td><td>全家桶，可选择</td><td>无</td></tr><tr><td>镜像大小</td><td>4G+</td><td>800-900M</td></tr></tbody></table></li><li><p>制作U盘启动盘</p><p>Windows参考：<a href="#Windows%E4%B8%AD%E5%88%B6%E4%BD%9CUSB%E5%90%AF%E5%8A%A8%E7%9B%98">Windows中制作USB启动盘</a></p><p>Mac/Linux参考：<a href="#MacOS%E4%B8%AD%E5%88%B6%E4%BD%9CUSB%E5%90%AF%E5%8A%A8%E7%9B%98">MacOS中制作USB启动盘</a></p></li><li><p>修改BIOS启动顺序，重启</p></li><li><p>安装配置。€</p></li></ol><p>参考资料</p><ol><li><a href="https://wiki.centos.org/zh/HowTos/InstallFromUSBkey" target="_blank" rel="noopener noreferrer">官方U盘安装说明</a></li><li><a href="https://www.centos.org/download/" target="_blank" rel="noopener noreferrer">镜像下载</a></li><li><a href="https://linux.cn/article-8048-1.html" target="_blank" rel="noopener noreferrer">Centos7安装教程</a></li><li><a href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop#0" target="_blank" rel="noopener noreferrer">Ubuntu官方安装教程</a></li></ol><p>常见问题：</p><ol><li><a href="https://blog.jinchuang.org/2062.html" target="_blank" rel="noopener noreferrer">centos7 U盘安装卡在 starting dracut initqueue hook </a></li><li><a href="https://blog.csdn.net/zgrjkflmkyc/article/details/78293504" target="_blank" rel="noopener noreferrer">U盘安装CentOS7遇到：Warning: dracut-initqueue timeout - starting timeout scripts</a></li></ol><h4 id="windows中制作usb启动盘"><a class="header-anchor" href="#windows中制作usb启动盘" aria-hidden="true">#</a> Windows中制作USB启动盘</h4><p>操作步骤：</p><ol><li>格式化U盘(FAT32格式)</li><li>下载ISO镜像</li><li>下载资源文件中的写入程序</li><li>写入镜像(工具见后文)</li></ol><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145703.jpeg" alt="1559440057311"></p><p>资源下载：</p><p>Centos官网推荐：</p><p><a href="https://sourceforge.net/projects/usbwriter/" target="_blank" rel="noopener noreferrer">USBwriter</a></p><p><a href="https://sourceforge.net/projects/win32diskimager/" target="_blank" rel="noopener noreferrer">Win32 Disk Imager</a></p><p>Ubuntu官网推荐：</p><p><a href="https://rufus.ie/" target="_blank" rel="noopener noreferrer">rufus</a></p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145704.png" alt="rufus"></p><h4 id="macos中制作usb启动盘"><a class="header-anchor" href="#macos中制作usb启动盘" aria-hidden="true">#</a> MacOS中制作USB启动盘</h4>',70),i=a("ol",null,[a("li",null,[a("p",null,"格式化U盘"),a("p",null,[a("img",{src:"https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145705.png",alt:"image-20190602094231784"})])]),a("li",null,[a("p",null,[s("使用 "),a("code",null,"diskutil list"),s(" 查看U的设备名")]),a("div",{class:"language-sh line-numbers-mode"},[a("pre",null,[a("code",null,"$ diskutil list\n/dev/disk0 (internal):\n   #:                       TYPE NAME                    SIZE       IDENTIFIER\n   0:      GUID_partition_scheme                         500.3 GB   disk0\n   1:                        EFI EFI                     314.6 MB   disk0s1\n   2:                 Apple_APFS Container disk1         500.0 GB   disk0s2\n\n/dev/disk1 (synthesized):\n   #:                       TYPE NAME                    SIZE       IDENTIFIER\n   0:      APFS Container Scheme -                      +500.0 GB   disk1\n                                 Physical Store disk0s2\n   1:                APFS Volume APPLE SSD               342.6 GB   disk1s1\n   2:                APFS Volume Preboot                 47.6 MB    disk1s2\n   3:                APFS Volume Recovery                509.7 MB   disk1s3\n   4:                APFS Volume VM                      4.3 GB     disk1s4\n\n/dev/disk2 (external, physical):\n   #:                       TYPE NAME                    SIZE       IDENTIFIER\n   0:     FDisk_partition_scheme                        *123.0 GB   disk2\n   1:               Windows_NTFS LIWEI                   123.0 GB   disk2s1\n\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741098-29678"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"$ diskutil list\n/dev/disk0 (internal):\n   #:                       TYPE NAME                    SIZE       IDENTIFIER\n   0:      GUID_partition_scheme                         500.3 GB   disk0\n   1:                        EFI EFI                     314.6 MB   disk0s1\n   2:                 Apple_APFS Container disk1         500.0 GB   disk0s2\n\n/dev/disk1 (synthesized):\n   #:                       TYPE NAME                    SIZE       IDENTIFIER\n   0:      APFS Container Scheme -                      +500.0 GB   disk1\n                                 Physical Store disk0s2\n   1:                APFS Volume APPLE SSD               342.6 GB   disk1s1\n   2:                APFS Volume Preboot                 47.6 MB    disk1s2\n   3:                APFS Volume Recovery                509.7 MB   disk1s3\n   4:                APFS Volume VM                      4.3 GB     disk1s4\n\n/dev/disk2 (external, physical):\n   #:                       TYPE NAME                    SIZE       IDENTIFIER\n   0:     FDisk_partition_scheme                        *123.0 GB   disk2\n   1:               Windows_NTFS LIWEI                   123.0 GB   disk2s1\n\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741098-29678","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br")])]),a("p",null,"上图中，/dev/disk2就是U盘")]),a("li",null,[a("p",null,[s("卸载U盘(不是推出) : "),a("code",null,"diskutil umountDisk /dev/disk2"),s(" (假如U盘是 /dev/disk2)")]),a("div",{class:"language-sh line-numbers-mode"},[a("pre",null,[a("code",null,"$ diskutil umountDisk /dev/disk2\nUnmount of all volumes on disk1 was successful\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741099-43601"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"$ diskutil umountDisk /dev/disk2\nUnmount of all volumes on disk1 was successful\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741099-43601","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br")])])]),a("li",null,[a("p",null,[s("镜像DMG写入到U盘: "),a("code",null,"sudo dd if=~/Downloads/ubuntu-16.04-desktop-amd64.iso of=/dev/disk2 bs=1m"),s(" (假如U盘是 /dev/disk1, 千万别搞错了)")]),a("div",{class:"language-sh line-numbers-mode"},[a("pre",null,[a("code",null,"$ sudo dd if=~/Downloads/ubuntu-17.04-desktop-amd64.iso of=/dev/disk2 bs=1m\nPassword:\n2151+1 records in\n2151+1 records out\n2256076800 bytes transferred in 90.277905 secs (24990354 bytes/sec)\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741099-74003"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"$ sudo dd if=~/Downloads/ubuntu-17.04-desktop-amd64.iso of=/dev/disk2 bs=1m\nPassword:\n2151+1 records in\n2151+1 records out\n2256076800 bytes transferred in 90.277905 secs (24990354 bytes/sec)\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741099-74003","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])])]),a("li",null,[a("p",null,"写入完成后会提示:“此电脑不能读取能插入的磁盘”, 这里选择直接推出即可")])],-1),r=t('<h3 id="linux目录结构"><a class="header-anchor" href="#linux目录结构" aria-hidden="true">#</a> Linux目录结构</h3><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145706.png" alt="Linux目录结构"></p><table><thead><tr><th>目录</th><th>说明</th><th>备注</th></tr></thead><tbody><tr><td>/bin</td><td>常用二进制命令</td><td>ls, cp, rm, mkdir</td></tr><tr><td>/usr</td><td>系统程序目录</td><td>命令、帮助文件、系统配置</td></tr><tr><td>/var</td><td>这个目录中存放着在不断扩充着的东西</td><td>日志</td></tr><tr><td>/lib</td><td>系统最基本的动态连接共享库</td><td>类似于Windows中的DLL</td></tr><tr><td>/srv</td><td>存放一些服务启动之后需要提取的数据</td><td>通常是空的</td></tr><tr><td>/home</td><td>用户主目录</td><td>通常是空的</td></tr><tr><td>/boot</td><td>Linux内核及系统引导文件目录</td><td></td></tr><tr><td>/dev</td><td>设备文件的目录</td><td>声卡，磁盘，光驱等</td></tr><tr><td>/etc</td><td>二进制软件包配置文件的默认路径</td><td>系统信息，网络配置</td></tr><tr><td>/lost+found</td><td>系统崩溃时，产生的一些碎片文件</td><td></td></tr><tr><td>/mnt</td><td>临时挂载存储设备</td><td>U盘</td></tr><tr><td>/opt</td><td>软件可选的安装目录</td><td>通常是空的</td></tr><tr><td>/proc</td><td>操作系统进程信息目录</td><td></td></tr><tr><td>/sbin</td><td>管理员命令，系统级命令</td><td>sudo用户</td></tr><tr><td>/tmp</td><td>临时文件目录</td><td>重启后，被清空</td></tr><tr><td>/run</td><td>临时文件系统，存储系统启动以来的信息</td><td>重启后，被清空</td></tr><tr><td>/sys</td><td>系统中的设备组织成层次结构</td><td>通过文件查看硬件信息</td></tr></tbody></table><p>需要掌握的目录路径知识：</p>',4),d=a("ol",null,[a("li",null,[a("p",null,"查看系统内核信息"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"# Centos"),s("\n$ "),a("span",{class:"token function"},"cat"),s(" /proc/version\nLinux version "),a("span",{class:"token number"},"3.10"),s(".0-957.10.1.el7.x86_64 "),a("span",{class:"token punctuation"},"("),s("mockbuild@kbuilder.bsys.centos.org"),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"("),s("gcc version "),a("span",{class:"token number"},"4.8"),s(".5 "),a("span",{class:"token number"},"20150623"),s(),a("span",{class:"token punctuation"},"("),s("Red Hat "),a("span",{class:"token number"},"4.8"),s(".5-36"),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"("),s("GCC"),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token comment"},"#1 SMP Mon Mar 18 15:06:45 UTC 2019"),s("\n\n"),a("span",{class:"token comment"},"# Ubuntu"),s("\n$ "),a("span",{class:"token function"},"cat"),s(" /proc/version\nLinux version "),a("span",{class:"token number"},"4.15"),s(".7-041507-generic "),a("span",{class:"token punctuation"},"("),s("kernel@gloin"),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"("),s("gcc version "),a("span",{class:"token number"},"7.2"),s(".0 "),a("span",{class:"token punctuation"},"("),s("Ubuntu "),a("span",{class:"token number"},"7.2"),s(".0-8ubuntu3.2"),a("span",{class:"token punctuation"},"))"),s(),a("span",{class:"token comment"},"#201802280530 SMP Wed Feb 28 10:31:47 UTC 2018"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741099-52531"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# Centos\n$ cat /proc/version\nLinux version 3.10.0-957.10.1.el7.x86_64 (mockbuild@kbuilder.bsys.centos.org) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-36) (GCC) ) #1 SMP Mon Mar 18 15:06:45 UTC 2019\n\n# Ubuntu\n$ cat /proc/version\nLinux version 4.15.7-041507-generic (kernel@gloin) (gcc version 7.2.0 (Ubuntu 7.2.0-8ubuntu3.2)) #201802280530 SMP Wed Feb 28 10:31:47 UTC 2018\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741099-52531","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br")])])]),a("li",null,[a("p",null,"查看网络信息"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"# Centos DHCP"),s("\n$ "),a("span",{class:"token function"},"cat"),s(" /etc/sysconfig/network-scripts/ifcfg-eth0\n"),a("span",{class:"token assign-left variable"},"DEVICE"),a("span",{class:"token operator"},"="),s("eth0\n"),a("span",{class:"token assign-left variable"},"BOOTPROTO"),a("span",{class:"token operator"},"="),s("dhcp\n"),a("span",{class:"token assign-left variable"},"ONBOOT"),a("span",{class:"token operator"},"="),s("yes\n\n"),a("span",{class:"token comment"},"# 或者指定IP"),s("\n$ "),a("span",{class:"token function"},"cat"),s(" /etc/sysconfig/network-scripts/ifcfg-em1\n"),a("span",{class:"token assign-left variable"},"TYPE"),a("span",{class:"token operator"},"="),s("Ethernet\n"),a("span",{class:"token assign-left variable"},"PROXY_METHOD"),a("span",{class:"token operator"},"="),s("none\n"),a("span",{class:"token assign-left variable"},"BROWSER_ONLY"),a("span",{class:"token operator"},"="),s("no\n"),a("span",{class:"token assign-left variable"},"BOOTPROTO"),a("span",{class:"token operator"},"="),s("none\n"),a("span",{class:"token assign-left variable"},"DEFROUTE"),a("span",{class:"token operator"},"="),s("yes\n"),a("span",{class:"token assign-left variable"},"IPV4_FAILURE_FATAL"),a("span",{class:"token operator"},"="),s("no\n"),a("span",{class:"token assign-left variable"},"IPV6INIT"),a("span",{class:"token operator"},"="),s("yes\n"),a("span",{class:"token assign-left variable"},"IPV6_AUTOCONF"),a("span",{class:"token operator"},"="),s("yes\n"),a("span",{class:"token assign-left variable"},"IPV6_DEFROUTE"),a("span",{class:"token operator"},"="),s("yes\n"),a("span",{class:"token assign-left variable"},"IPV6_FAILURE_FATAL"),a("span",{class:"token operator"},"="),s("no\n"),a("span",{class:"token assign-left variable"},"IPV6_ADDR_GEN_MODE"),a("span",{class:"token operator"},"="),s("stable-privacy\n"),a("span",{class:"token assign-left variable"},"NAME"),a("span",{class:"token operator"},"="),s("em1\n"),a("span",{class:"token assign-left variable"},"UUID"),a("span",{class:"token operator"},"="),s("fa335568-27db-47fd-a055-424173c42430\n"),a("span",{class:"token assign-left variable"},"DEVICE"),a("span",{class:"token operator"},"="),s("em1\n"),a("span",{class:"token assign-left variable"},"ONBOOT"),a("span",{class:"token operator"},"="),s("yes\n"),a("span",{class:"token assign-left variable"},"IPADDR"),a("span",{class:"token operator"},"="),a("span",{class:"token number"},"192.168"),s(".4.252\n"),a("span",{class:"token assign-left variable"},"PREFIX"),a("span",{class:"token operator"},"="),a("span",{class:"token number"},"24"),s("\n"),a("span",{class:"token assign-left variable"},"GATEWAY"),a("span",{class:"token operator"},"="),a("span",{class:"token number"},"192.168"),s(".4.50\n"),a("span",{class:"token assign-left variable"},"DNS1"),a("span",{class:"token operator"},"="),a("span",{class:"token number"},"192.168"),s(".4.50\n"),a("span",{class:"token assign-left variable"},"IPV6_PRIVACY"),a("span",{class:"token operator"},"="),s("no\n"),a("span",{class:"token assign-left variable"},"ZONE"),a("span",{class:"token operator"},"="),s("public\n\n"),a("span",{class:"token comment"},"# Ubuntu"),s("\n$ "),a("span",{class:"token function"},"vi"),s(" /etc/network/interfaces\n"),a("span",{class:"token comment"},"# This file describes the network interfaces available on your system"),s("\n"),a("span",{class:"token comment"},"# and how to activate them. For more information, see interfaces(5)."),s("\n\n"),a("span",{class:"token builtin class-name"},"source"),s(" /etc/network/interfaces.d/*\n\n"),a("span",{class:"token comment"},"# The loopback network interface"),s("\nauto lo\niface lo inet loopback\n\n"),a("span",{class:"token comment"},"# The primary network interface"),s("\nauto ens3\niface ens3 inet static\n        address "),a("span",{class:"token number"},"192.168"),s(".4.60\n        netmask "),a("span",{class:"token number"},"255.255"),s(".255.0\n        network "),a("span",{class:"token number"},"192.168"),s(".4.0\n        broadcast "),a("span",{class:"token number"},"192.168"),s(".4.255\n        gateway "),a("span",{class:"token number"},"192.168"),s(".4.50\n        "),a("span",{class:"token comment"},"# dns-* options are implemented by the resolvconf package, if installed"),s("\n        dns-nameservers "),a("span",{class:"token number"},"192.168"),s(".4.50\n        dns-search demo\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741099-51671"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# Centos DHCP\n$ cat /etc/sysconfig/network-scripts/ifcfg-eth0\nDEVICE=eth0\nBOOTPROTO=dhcp\nONBOOT=yes\n\n# 或者指定IP\n$ cat /etc/sysconfig/network-scripts/ifcfg-em1\nTYPE=Ethernet\nPROXY_METHOD=none\nBROWSER_ONLY=no\nBOOTPROTO=none\nDEFROUTE=yes\nIPV4_FAILURE_FATAL=no\nIPV6INIT=yes\nIPV6_AUTOCONF=yes\nIPV6_DEFROUTE=yes\nIPV6_FAILURE_FATAL=no\nIPV6_ADDR_GEN_MODE=stable-privacy\nNAME=em1\nUUID=fa335568-27db-47fd-a055-424173c42430\nDEVICE=em1\nONBOOT=yes\nIPADDR=192.168.4.252\nPREFIX=24\nGATEWAY=192.168.4.50\nDNS1=192.168.4.50\nIPV6_PRIVACY=no\nZONE=public\n\n# Ubuntu\n$ vi /etc/network/interfaces\n# This file describes the network interfaces available on your system\n# and how to activate them. For more information, see interfaces(5).\n\nsource /etc/network/interfaces.d/*\n\n# The loopback network interface\nauto lo\niface lo inet loopback\n\n# The primary network interface\nauto ens3\niface ens3 inet static\n        address 192.168.4.60\n        netmask 255.255.255.0\n        network 192.168.4.0\n        broadcast 192.168.4.255\n        gateway 192.168.4.50\n        # dns-* options are implemented by the resolvconf package, if installed\n        dns-nameservers 192.168.4.50\n        dns-search demo\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741099-51671","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br"),a("span",{class:"line-number"},"27"),a("br"),a("span",{class:"line-number"},"28"),a("br"),a("span",{class:"line-number"},"29"),a("br"),a("span",{class:"line-number"},"30"),a("br"),a("span",{class:"line-number"},"31"),a("br"),a("span",{class:"line-number"},"32"),a("br"),a("span",{class:"line-number"},"33"),a("br"),a("span",{class:"line-number"},"34"),a("br"),a("span",{class:"line-number"},"35"),a("br"),a("span",{class:"line-number"},"36"),a("br"),a("span",{class:"line-number"},"37"),a("br"),a("span",{class:"line-number"},"38"),a("br"),a("span",{class:"line-number"},"39"),a("br"),a("span",{class:"line-number"},"40"),a("br"),a("span",{class:"line-number"},"41"),a("br"),a("span",{class:"line-number"},"42"),a("br"),a("span",{class:"line-number"},"43"),a("br"),a("span",{class:"line-number"},"44"),a("br"),a("span",{class:"line-number"},"45"),a("br"),a("span",{class:"line-number"},"46"),a("br"),a("span",{class:"line-number"},"47"),a("br"),a("span",{class:"line-number"},"48"),a("br"),a("span",{class:"line-number"},"49"),a("br"),a("span",{class:"line-number"},"50"),a("br"),a("span",{class:"line-number"},"51"),a("br"),a("span",{class:"line-number"},"52"),a("br")])]),a("p",null,[s("通常使用"),a("code",null,"ifconfig"),s("来查看网卡的信息")])]),a("li",null,[a("p",null,"DNS配置"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[s("$ "),a("span",{class:"token function"},"cat"),s(" /etc/resolv.conf\noptions timeout:2 attempts:3 rotate single-request-reopen\n"),a("span",{class:"token punctuation"},";"),s(" generated by /usr/sbin/dhclient-script\nnameserver "),a("span",{class:"token number"},"100.100"),s(".2.136\nnameserver "),a("span",{class:"token number"},"100.100"),s(".2.138\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741099-19954"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"$ cat /etc/resolv.conf\noptions timeout:2 attempts:3 rotate single-request-reopen\n; generated by /usr/sbin/dhclient-script\nnameserver 100.100.2.136\nnameserver 100.100.2.138\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741099-19954","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])])]),a("li",null,[a("p",null,"host文件"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[s("$ "),a("span",{class:"token function"},"cat"),s(" /etc/hosts\n"),a("span",{class:"token number"},"127.0"),s(".0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741099-76409"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"$ cat /etc/hosts\n127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741099-76409","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br")])])]),a("li",null,[a("p",null,"用户/组"),a("p",null,"查看用户："),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[s("$ "),a("span",{class:"token function"},"cat"),s(" /etc/passwd\nroot:x:0:0:root:/root:/bin/bash\ndaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin\nbin:x:2:2:bin:/bin:/usr/sbin/nologin\nsys:x:3:3:sys:/dev:/usr/sbin/nologin\nsync:x:4:65534:sync:/bin:/bin/sync\ngames:x:5:60:games:/usr/games:/usr/sbin/nologin\nman:x:6:12:man:/var/cache/man:/usr/sbin/nologin\nlp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin\n"),a("span",{class:"token punctuation"},".."),a("span",{class:"token punctuation"},".."),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741099-66941"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"$ cat /etc/passwd\nroot:x:0:0:root:/root:/bin/bash\ndaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin\nbin:x:2:2:bin:/bin:/usr/sbin/nologin\nsys:x:3:3:sys:/dev:/usr/sbin/nologin\nsync:x:4:65534:sync:/bin:/bin/sync\ngames:x:5:60:games:/usr/games:/usr/sbin/nologin\nman:x:6:12:man:/var/cache/man:/usr/sbin/nologin\nlp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin\n....\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741099-66941","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br")])]),a("p",null,"查看组："),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[s("$ "),a("span",{class:"token function"},"cat"),s(" /etc/group\nroot:x:0:\ndaemon:x:1:\nbin:x:2:\nsys:x:3:\nadm:x:4:syslog,bttech\ntty:x:5:\ndisk:x:6:\nlp:x:7:\nmail:x:8:\nnews:x:9:\nuucp:x:10:\nman:x:12:\nproxy:x:13:\n"),a("span",{class:"token punctuation"},".."),a("span",{class:"token punctuation"},".."),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-91198"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"$ cat /etc/group\nroot:x:0:\ndaemon:x:1:\nbin:x:2:\nsys:x:3:\nadm:x:4:syslog,bttech\ntty:x:5:\ndisk:x:6:\nlp:x:7:\nmail:x:8:\nnews:x:9:\nuucp:x:10:\nman:x:12:\nproxy:x:13:\n....\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-91198","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br")])])]),a("li",null,[a("p",null,"查看内存/CPU"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"# 查看CPU"),s("\n$ "),a("span",{class:"token function"},"cat"),s(" /proc/cpuinfo\nprocessor\t"),a("span",{class:"token builtin class-name"},":"),s(),a("span",{class:"token number"},"0"),s("\nvendor_id\t"),a("span",{class:"token builtin class-name"},":"),s(" GenuineIntel\ncpu family\t"),a("span",{class:"token builtin class-name"},":"),s(),a("span",{class:"token number"},"6"),s("\nmodel\t\t"),a("span",{class:"token builtin class-name"},":"),s(),a("span",{class:"token number"},"45"),s("\nmodel name\t"),a("span",{class:"token builtin class-name"},":"),s(" Intel"),a("span",{class:"token punctuation"},"("),s("R"),a("span",{class:"token punctuation"},")"),s(" Xeon"),a("span",{class:"token punctuation"},"("),s("R"),a("span",{class:"token punctuation"},")"),s(" CPU E5-2670 "),a("span",{class:"token number"},"0"),s(" @ "),a("span",{class:"token number"},"2"),s(".60GHz\nstepping\t"),a("span",{class:"token builtin class-name"},":"),s(),a("span",{class:"token number"},"7"),s("\nmicrocode\t"),a("span",{class:"token builtin class-name"},":"),s(" 0x714\ncpu MHz\t\t"),a("span",{class:"token builtin class-name"},":"),s(),a("span",{class:"token number"},"2117.419"),s("\ncache size\t"),a("span",{class:"token builtin class-name"},":"),s(),a("span",{class:"token number"},"20480"),s(" KB\n"),a("span",{class:"token punctuation"},".."),s(".\n\n"),a("span",{class:"token comment"},"# 查看内存"),s("\n$ "),a("span",{class:"token function"},"cat"),s(" /proc/meminfo\nMemTotal:       "),a("span",{class:"token number"},"131812048"),s(" kB\nMemFree:          "),a("span",{class:"token number"},"460820"),s(" kB\nMemAvailable:   "),a("span",{class:"token number"},"36657836"),s(" kB\nBuffers:               "),a("span",{class:"token number"},"0"),s(" kB\nCached:         "),a("span",{class:"token number"},"34910784"),s(" kB\nSwapCached:      "),a("span",{class:"token number"},"1051944"),s(" kB\nActive:         "),a("span",{class:"token number"},"95183532"),s(" kB\nInactive:       "),a("span",{class:"token number"},"32382012"),s(" kB\nActive"),a("span",{class:"token punctuation"},"("),s("anon"),a("span",{class:"token punctuation"},")"),s(":   "),a("span",{class:"token number"},"77764844"),s(" kB\nInactive"),a("span",{class:"token punctuation"},"("),s("anon"),a("span",{class:"token punctuation"},")"),s(": "),a("span",{class:"token number"},"15015220"),s(" kB\nActive"),a("span",{class:"token punctuation"},"("),s("file"),a("span",{class:"token punctuation"},")"),s(":   "),a("span",{class:"token number"},"17418688"),s(" kB\n"),a("span",{class:"token punctuation"},".."),s(".\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-30125"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 查看CPU\n$ cat /proc/cpuinfo\nprocessor\t: 0\nvendor_id\t: GenuineIntel\ncpu family\t: 6\nmodel\t\t: 45\nmodel name\t: Intel(R) Xeon(R) CPU E5-2670 0 @ 2.60GHz\nstepping\t: 7\nmicrocode\t: 0x714\ncpu MHz\t\t: 2117.419\ncache size\t: 20480 KB\n...\n\n# 查看内存\n$ cat /proc/meminfo\nMemTotal:       131812048 kB\nMemFree:          460820 kB\nMemAvailable:   36657836 kB\nBuffers:               0 kB\nCached:         34910784 kB\nSwapCached:      1051944 kB\nActive:         95183532 kB\nInactive:       32382012 kB\nActive(anon):   77764844 kB\nInactive(anon): 15015220 kB\nActive(file):   17418688 kB\n...\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-30125","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br"),a("span",{class:"line-number"},"27"),a("br")])])]),a("li",null,[a("p",null,"其他"),a("ul",null,[a("li",null,"/etc/fstab（开机自动挂载列表）"),a("li",null,"/etc/rc.local（开机自启动文件，自启动命令，脚本）"),a("li",null,"/etc/init.d(服务启动命令脚本目录)"),a("li",null,"/etc/profile(全局环境变量)"),a("li",null,"/usr/local(编译安装软件默认安装目录)"),a("li",null,"/var/log/message（系统日志）"),a("li",null,"/var/log/secure（系统安全日志）"),a("li",null,[a("em",null,"/proc/mounts"),s("（系统挂载信息）")])])])],-1),p=t('<h3 id="linux启动过程"><a class="header-anchor" href="#linux启动过程" aria-hidden="true">#</a> Linux启动过程</h3><p>Linux启动过程：</p><ul><li><p>内核的引导</p><p>首先是BIOS开机自检，按照BIOS中设置的启动设备（通常是硬盘）来启动。</p><p>主要是一些驱动、基本的操作指令，用来接管所有的硬件</p></li><li><p>运行 init</p><p>就跟main函数一样，有一个起点，初始一个服务进程daemon，跟windows中的服务一样。</p></li><li><p>系统初始化</p><p>用户及软件服务自启动</p></li><li><p>建立终端</p><p>Linux的多用户管理。</p><p>针对对用户，登录方式有三种：</p><ul><li>命令行登录</li><li>ssh登录</li><li>图形界面登录</li></ul></li><li><p>用户登录系统</p></li></ul><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145707.jpg" alt="img"></p><h3 id="常用命令介绍重点"><a class="header-anchor" href="#常用命令介绍重点" aria-hidden="true">#</a> 常用命令介绍(重点)</h3><h4 id="文件相关"><a class="header-anchor" href="#文件相关" aria-hidden="true">#</a> 文件相关</h4>',6),m=a("ol",null,[a("li",null,[s("目录相关 "),a("ul",null,[a("li",null,[a("p",null,[a("code",null,"ls"),s(": 列出目录")]),a("p",null,"-la 可以查看隐藏文件，文件一些基础属性")]),a("li",null,[a("p",null,[a("code",null,"cd"),s("：切换目录")]),a("p",null,[s("使用绝对路径"),a("code",null,"/"),s("，也可以使用"),a("code",null,"./"),s("相对路径，回到上级目录"),a("code",null,"cd ..")])]),a("li",null,[a("p",null,[a("code",null,"pwd"),s("：显示目前的目录")])]),a("li",null,[a("p",null,[a("code",null,"mkdir"),s("：创建一个新的目录")])]),a("li",null,[a("p",null,[a("code",null,"rmdir"),s("：删除一个空的目录")])]),a("li",null,[a("p",null,[a("code",null,"cp"),s(": 复制文件或目录")]),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"cp"),s(),a("span",{class:"token builtin class-name"},"source"),s(" target\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-5000"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"cp source target\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-5000","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])])]),a("li",null,[a("p",null,[a("code",null,"rm"),s(": 移除文件或目录")]),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"# 删除目录"),s("\n"),a("span",{class:"token function"},"rm"),s(" -r dirpath\n\n"),a("span",{class:"token comment"},"# 强制删除，要特别注意"),s("\n"),a("span",{class:"token function"},"rm"),s(" -rf dirpath€\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-8696"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 删除目录\nrm -r dirpath\n\n# 强制删除，要特别注意\nrm -rf dirpath€\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-8696","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])])]),a("li",null,[a("p",null,[a("code",null,"mv"),s(": 移动文件与目录，或修改文件与目录的名称")]),a("div",{class:"language-"},[a("pre",null,[a("code",null,"mv source target\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-42599"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"mv source target\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-42599","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])])]),a("li",null,[a("p",null,[a("code",null,"cat"),s("用来查看文件内的内容，"),a("code",null,"touch"),s("命令来创建文件，"),a("code",null,"echo"),s("命令往文件里面写入内容，"),a("code",null,"more"),s("命令来查看显示长文件内容")])])])]),a("li",null,[s("基本属性： "),a("ul",null,[a("li",null,[a("p",null,[s("权限管理"),a("code",null,"chmod")]),a("p",null,[s("文件基本属性分为10个字符 "),a("code",null,"drwxrwxrwx")]),a("p",null,[a("code",null,"r"),s(" 代表着read读权限")]),a("p",null,[a("code",null,"w"),s("代表着write写权限")]),a("p",null,[a("code",null,"x"),s("代表着execute执行权限")]),a("p",null,[a("code",null,"d"),s("代表着目录")]),a("p",null,[a("code",null,"chmod -R"),s("递归执行，相当于是把目录下所有的文件都修改对应的权限")]),a("p",null,[a("code",null,"chmod +x"),s(" 给文件一个执行/读/写权限")]),a("p",null,"修改权限的两种方式："),a("p",null,[a("strong",null,"方式1： 数字方式")]),a("p",null,[a("code",null,"7"),s("-"),a("code",null,"rwx")]),a("p",null,[a("code",null,"6"),s("-"),a("code",null,"-rw-")]),a("p",null,[a("code",null,"4"),s("-"),a("code",null,"r--")]),a("p",null,[a("code",null,"0"),s("-"),a("code",null,"---"),s(" 什么权限都没有，")]),a("p",null,"前面的3个是所有者用户的权限，"),a("p",null,"中间的3个是组用户的权限，"),a("p",null,"后面的3个是其他用户的权限。"),a("p",null,"举例说明："),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"# 对所属用户有读写权限"),s("\n"),a("span",{class:"token function"},"chmod"),s(),a("span",{class:"token number"},"600"),s(),a("span",{class:"token punctuation"},".."),s(".\n\n"),a("span",{class:"token comment"},"# 对应 -rwxrw-rw-，相当于是取消了组与其他用户的执行权限"),s("\n"),a("span",{class:"token function"},"chmod"),s(),a("span",{class:"token number"},"755"),s(),a("span",{class:"token punctuation"},".."),s(".\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-54871"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 对所属用户有读写权限\nchmod 600 ...\n\n# 对应 -rwxrw-rw-，相当于是取消了组与其他用户的执行权限\nchmod 755 ...\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-54871","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])]),a("p",null,[a("strong",null,"方式2：")]),a("p",null,[a("code",null,"a"),s("代表all所有，"),a("code",null,"u"),s("代表user，"),a("code",null,"g"),s("代表group，"),a("code",null,"o"),s("代表other。")]),a("p",null,[a("code",null,"+"),s("代表增加，"),a("code",null,"-"),s("代表减少")]),a("p",null,"举例说明："),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"# 增加所有用户的读的权限"),s("\n"),a("span",{class:"token function"},"chmod"),s(" a+r "),a("span",{class:"token punctuation"},".."),s(".\n\n"),a("span",{class:"token comment"},"# 增加用户与组的写的权限"),s("\n"),a("span",{class:"token function"},"chmod"),s(" ug+w "),a("span",{class:"token punctuation"},".."),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-675"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 增加所有用户的读的权限\nchmod a+r ...\n\n# 增加用户与组的写的权限\nchmod ug+w ..\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-675","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])]),a("blockquote",null,[a("p",null,"个人比较推荐数字的方式，比较好记！！")])]),a("li",null,[a("p",null,[s("用户/组权限管理"),a("code",null,"chown")]),a("p",null,"修改文件/文档所属/所属组"),a("div",{class:"language-"},[a("pre",null,[a("code",null,"chown <所属用户>:<所属组> <文件>\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-76580"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"chown <所属用户>:<所属组> <文件>\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-76580","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("p",null,"目录："),a("div",{class:"language-"},[a("pre",null,[a("code",null,"chown -R <所属用户>:<所属组> <文件>\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-16409"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"chown -R <所属用户>:<所属组> <文件>\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-16409","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("p",null,[a("code",null,"-R"),s(" 代表着递归")])])])])],-1),u=t('<h4 id="用户管理登录"><a class="header-anchor" href="#用户管理登录" aria-hidden="true">#</a> 用户管理/登录</h4><ol><li>添加用户<code>useradd</code></li><li>删除用户<code>userdel</code></li><li>用户口令修改 <code>passwd</code></li><li>（扩展）用户组<code>groupadd</code>/<code>groupdel</code>/<code>groupmod</code></li></ol><h4 id="网络"><a class="header-anchor" href="#网络" aria-hidden="true">#</a> 网络</h4>',3),b=a("ol",null,[a("li",null,[a("p",null,[s("远程连接"),a("code",null,"ssh")]),a("p",null,[s("配置文件的路径是在"),a("code",null,"/etc/ssh/sshd_config"),s("目录下")]),a("p",null,"如果需要修改port："),a("ul",null,[a("li",null,[s("修改"),a("code",null,"sshd_config"),s("中的"),a("code",null,"Port"),s("参数")]),a("li",null,[s("(Centos)还需要使用"),a("code",null,"semanage port -a -t ssh_port_t -p tcp <Port>")]),a("li",null,[a("code",null,"service sshd restart"),s(" (Centos) / "),a("code",null,"service ssh restart"),s(" (Debian、Ubuntu)")])]),a("blockquote",null,[a("p",null,"在测试的时候，可以关闭服务器的防火墙，但是生产系统中不推荐这么去做。"),a("p",null,"如果提示没有semanage这个命令，则可以使用如下方式来安装："),a("p",null,[a("code",null,"sudo yum install -y policecoreutils-python")]),a("p",null,[s("或者使用"),a("code",null,"yum whatprovides semange"),s("来反查")])]),a("p",null,[s("ssh登录命令的格式："),a("code",null,"ssh -p Port <用户名>@<服务器的地址>")]),a("p",null,"如："),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[s("$ "),a("span",{class:"token function"},"ssh"),s(" -p "),a("span",{class:"token number"},"10022"),s(" root@192.168.0.1\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-86179"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"$ ssh -p 10022 root@192.168.0.1\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-86179","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("blockquote",null,[a("p",null,[s("window推荐使用"),a("a",{href:"https://www.netsarang.com/zh/xftp/",target:"_blank",rel:"noopener noreferrer"},"xftp"),s("终端")]),a("p",null,[s("mac推荐使用"),a("a",{href:"https://www.iterm2.com/",target:"_blank",rel:"noopener noreferrer"},"iterm")])])]),a("li",null,[a("p",null,[s("查看网卡配置"),a("code",null,"ifconfig")]),a("p",null,[s("如果说没有这个命令，可以使用"),a("code",null,"yum install net-tools"),s("进行安装")]),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"ifconfig"),s(" eth0 "),a("span",{class:"token operator"},"<"),s("ip"),a("span",{class:"token operator"},">"),s(" netmask "),a("span",{class:"token number"},"255.255"),s(".255.0\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-87453"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"ifconfig eth0 <ip> netmask 255.255.255.0\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-87453","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("p",null,"对网口进行禁用/启用"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"ifconfig"),s(" eth0 down/up\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-94536"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"ifconfig eth0 down/up\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-94536","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])])]),a("li",null,[a("p",null,[s("查看网络"),a("code",null,"netstat")]),a("ul",null,[a("li",null,[a("code",null,"-t"),s("：列出TCP协议端口")]),a("li",null,[a("code",null,"-u"),s("：列出UDP协议端口")]),a("li",null,[a("code",null,"-n"),s(":不使用域名与服务名，而使用IP地址和端口号")]),a("li",null,[a("code",null,"-l"),s("：仅列出在监听状态网络服务")]),a("li",null,[a("code",null,"-a"),s("：列出所有的网络连接")]),a("li",null,[a("code",null,"-p"),s("：列出所对应的进程信息")])]),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"netstat"),s(" -anpl "),a("span",{class:"token operator"},"|"),s(),a("span",{class:"token function"},"grep"),s(),a("span",{class:"token function"},"ssh"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-80227"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"netstat -anpl | grep ssh\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-80227","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("p",null,[s("当使用"),a("code",null,"netstat | more"),s("进行滚屏，"),a("code",null,"ctrl+f/b"),s("进行翻上/下页")])]),a("li",null,[a("p",null,[s("路由命令"),a("code",null,"route")]),a("p",null,"route查看路由"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"# add/del添加删除路由"),s("\n\nroute "),a("span",{class:"token function"},"add"),s(" -net "),a("span",{class:"token number"},"192.168"),s(".0.0 netmask "),a("span",{class:"token number"},"255.255"),s(".0.0 dev etho\n\n"),a("span",{class:"token comment"},"# del删除"),s("\nroute del -net "),a("span",{class:"token number"},"192.168"),s(".0.0 netmask "),a("span",{class:"token number"},"255.255"),s(".0.0\n\n"),a("span",{class:"token comment"},"# reject"),s("\nroute "),a("span",{class:"token function"},"add"),s(" -net "),a("span",{class:"token number"},"192.168"),s(".0.0 netmask "),a("span",{class:"token number"},"255.255"),s(".0.0 reject\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-58287"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# add/del添加删除路由\n\nroute add -net 192.168.0.0 netmask 255.255.0.0 dev etho\n\n# del删除\nroute del -net 192.168.0.0 netmask 255.255.0.0\n\n# reject\nroute add -net 192.168.0.0 netmask 255.255.0.0 reject\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-58287","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br")])])]),a("li",null,[a("p",null,[s("IP命令"),a("code",null,"ip")]),a("div",{class:"language-"},[a("pre",null,[a("code",null,"ip addr show\nip route show\nip link set eth0 up/down\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-65406"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"ip addr show\nip route show\nip link set eth0 up/down\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-65406","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br")])]),a("p",null,[a("code",null,"ip <命令> help"),s("去查看命令的一些参数")])]),a("li",null,[a("p",null,[s("DNS解析："),a("code",null,"nslookup")]),a("p",null,"Centos中如果没有该命令，可以使用如下的方式进行安装"),a("div",{class:"language-"},[a("pre",null,[a("code",null,"sudo yum install bind-utils\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-19252"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"sudo yum install bind-utils\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-19252","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])])]),a("li",null,[a("p",null,"查看本机IP"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"curl"),s(),a("span",{class:"token punctuation"},"["),s("链接"),a("span",{class:"token punctuation"},"]"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-49307"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"curl [链接]\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-49307","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("p",null,"几个网址也非常好记忆"),a("ul",null,[a("li",null,[a("a",{href:"http://ip.cn/",target:"_blank",rel:"noopener noreferrer"},"ip.cn"),s(" (推荐)")]),a("li",null,[a("a",{href:"http://ipinfo.io/",target:"_blank",rel:"noopener noreferrer"},"ipinfo.io"),s(" (推荐)")]),a("li",null,[a("a",{href:"http://cip.cc/",target:"_blank",rel:"noopener noreferrer"},"cip.cc"),s(" (推荐)")]),a("li",null,[a("a",{href:"http://ifconfig.me/",target:"_blank",rel:"noopener noreferrer"},"ifconfig.me")]),a("li",null,[a("a",{href:"http://myip.ipip.net/",target:"_blank",rel:"noopener noreferrer"},"myip.ipip.net")])])])],-1),y=t('<p>GUI网络配置操作（图形化大法好啊）：</p><p><code>nmtui</code></p><blockquote><p>如果提示<code>not found</code>命令的话，可以<code>yum install -y NetworkManager-tui</code>进行安装</p></blockquote><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145708.jpg" alt="nmtui"></p><h4 id="性能硬件"><a class="header-anchor" href="#性能硬件" aria-hidden="true">#</a> 性能/硬件</h4>',5),h=a("ol",null,[a("li",null,[a("p",null,[a("code",null,"top"),s("命令：")]),a("p",null,[s("top命令替代命令："),a("a",{href:"https://linux.cn/article-10323-1.html",target:"_blank",rel:"noopener noreferrer"},"参考1"),s("、"),a("a",{href:"https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop#0",target:"_blank",rel:"noopener noreferrer"},"参考2")]),a("div",{class:"language-"},[a("pre",null,[a("code",null,"top\n\n# m切换显示内存信息\n# t切换显示CPU信息\n# M对内存倒序排序显示\n# P根据CPU的使用百分比进行排序\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-50034"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"top\n\n# m切换显示内存信息\n# t切换显示CPU信息\n# M对内存倒序排序显示\n# P根据CPU的使用百分比进行排序\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-50034","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br")])])]),a("li",null,[a("p",null,"性能测试"),a("ul",null,[a("li",null,[a("p",null,[a("a",{href:"http://Bench.sh",target:"_blank",rel:"noopener noreferrer"},"Bench.sh"),s(":")]),a("p",null,"使用方法："),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"wget"),s(" -qO- bench.sh "),a("span",{class:"token operator"},"|"),s(),a("span",{class:"token function"},"bash"),s("\n\n"),a("span",{class:"token comment"},"# 或者 "),s("\n\n"),a("span",{class:"token function"},"curl"),s(" -Lso- bench.sh "),a("span",{class:"token operator"},"|"),s(),a("span",{class:"token function"},"bash"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741100-64240"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"wget -qO- bench.sh | bash\n\n# 或者 \n\ncurl -Lso- bench.sh | bash\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741100-64240","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])]),a("p",null,[s("Github地址："),a("a",{href:"https://github.com/teddysun/across/blob/master/bench.sh",target:"_blank",rel:"noopener noreferrer"},"https://github.com/teddysun/across/blob/master/bench.sh")])]),a("li",null,[a("p",null,"LemonBench"),a("p",null,"使用方法："),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"wget"),s(" -qO- https://ilemonrain.com/download/shell/LemonBench.sh "),a("span",{class:"token operator"},"|"),s(),a("span",{class:"token function"},"bash"),s("\n\n"),a("span",{class:"token comment"},"# 或者"),s("\n\n"),a("span",{class:"token function"},"curl"),s(" -fsSL https://ilemonrain.com/download/shell/LemonBench.sh "),a("span",{class:"token operator"},"|"),s(),a("span",{class:"token function"},"bash"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741101-43593"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"wget -qO- https://ilemonrain.com/download/shell/LemonBench.sh | bash\n\n# 或者\n\ncurl -fsSL https://ilemonrain.com/download/shell/LemonBench.sh | bash\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741101-43593","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])])])])])],-1),k=t('<h2 id="nginx服务"><a class="header-anchor" href="#nginx服务" aria-hidden="true">#</a> Nginx服务</h2><p>nginx [发音：engine x]是一个HTTP和反向代理服务器，一个邮件代理服务器和一个通用的TCP / UDP代理服务器，最初由<a href="http://sysoev.ru/en/" target="_blank" rel="noopener noreferrer">Igor Sysoev</a>编写。</p><p>据Netcraft称，nginx 在2019年5月服务或代理了 26.43％最繁忙的网站。以下是一些成功案例： Dropbox， Netflix， <a href="http://Wordpress.com" target="_blank" rel="noopener noreferrer">Wordpress.com</a>， <a href="http://FastMail.FM" target="_blank" rel="noopener noreferrer">FastMail.FM</a>。</p><blockquote><p>nginx [engine x] is an HTTP and reverse proxy server, a mail proxy server, and a generic TCP/UDP proxy server, originally written by Igor Sysoev. For a long time, it has been running on many heavily loaded Russian sites including Yandex, <a href="http://Mail.Ru" target="_blank" rel="noopener noreferrer">Mail.Ru</a>, VK, and Rambler. According to Netcraft, nginx served or proxied 26.43% busiest sites in May 2019. Here are some of the success stories: <a href="https://blogs.dropbox.com/tech/2017/09/optimizing-web-servers-for-high-throughput-and-low-latency/" target="_blank" rel="noopener noreferrer">Dropbox</a>, <a href="https://openconnect.netflix.com/en/software/" target="_blank" rel="noopener noreferrer">Netflix</a>,<a href="https://www.nginx.com/case-studies/nginx-wordpress-com/" target="_blank" rel="noopener noreferrer">Wordpress.com</a>, <a href="http://blog.fastmail.fm/2007/01/04/webimappop-frontend-proxies-changed-to-nginx/" target="_blank" rel="noopener noreferrer">FastMail.FM</a>.</p></blockquote><p>从下面的当下技术架构图中，可以看出Nginx在网络中的位置与重要性。Nginx的轻量级、内存占用少、启动极快，高并发能力强的特性，使它在互联网项目中广泛应用。</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145709.jpg" alt="img"></p><blockquote><p>Service-Oriented Architecture，<strong>SOA</strong>面向服务的架构</p></blockquote><h3 id="nginx简介"><a class="header-anchor" href="#nginx简介" aria-hidden="true">#</a> Nginx简介</h3><h4 id="什么是反向代理"><a class="header-anchor" href="#什么是反向代理" aria-hidden="true">#</a> 什么是反向代理</h4><p>正向代理 ：</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145710.jpg" alt="img"></p><p>由于防火墙的原因，我们并不能直接访问谷歌，那么我们可以借助VPN来实现，这就是一个简单的正向代理的例子。这里你能够发现，<strong>正向代理“代理”的是客户端</strong>，而且客户端是知道目标的，而目标是不知道客户端是通过VPN访问的。</p><p>反向代理：</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145711.jpg" alt="img"></p><p>当我们在外网访问百度的时候，其实会进行一个转发，代理到内网去，这就是所谓的反向代理，即<strong>反向代理“代理”的是服务器端</strong>，而且这一个过程对于客户端而言是透明的。</p><h4 id="nginx的技术架构"><a class="header-anchor" href="#nginx的技术架构" aria-hidden="true">#</a> Nginx的技术架构</h4><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145712.png" alt="img"></p><p>Master进程的作用是<strong>读取并验证配置文件nginx.conf；管理worker进程；</strong></p><p>Worker进程的作用:<strong>每一个Worker进程都维护一个线程（避免线程切换），处理连接和请求；</strong></p><blockquote><p>注意Worker进程的个数由配置文件决定，一般和CPU个数相关（有利于进程切换），配置几个就有几个Worker进程。</p></blockquote><p>特点：</p><ul><li><p>主进程Master</p><p><code>Nginx</code> 启动时，会生成两种类型的 <strong>进程</strong>*，一个是 <strong>主进程</strong>（<code>master</code>），<strong>一个</strong>（<code>windows</code> 版本的目前只有一个）或 <strong>多个工作进程</strong>（<code>worker</code>）。<strong>主进程</strong> 并不处理网络请求，主要负责 <strong>调度工作进程</strong>，也就是图示的 <code>3</code> 项：<strong>加载配置</strong>、<strong>启动工作进程</strong> 及 <strong>非停升级</strong>。所以，<code>Nginx</code> 启动以后，查看操作系统的进程列表，我们就能看到 <strong>至少有两个</strong> <code>Nginx</code> 进程。</p></li><li><p>工作进程Worker</p><p>服务器实际 <strong>处理网络请求</strong> 及 <strong>响应</strong> 的是 <strong>工作进程</strong>（<code>worker</code>），在类 <code>unix</code> 系统上，<code>Nginx</code> 可以配置 <strong>多个</strong> <code>worker</code>，而每个 <code>worker</code> <strong>进程</strong> 都可以同时处理 <strong>数以千计</strong> 的 <strong>网络请求</strong>。</p></li><li><p>模块化设计</p><p>标准HTTP模块、可选的HTTP模块(gzip等)、邮件服务、第三方(Lua)</p><p><code>Nginx</code> 的 <code>worker</code> 进程，包括 <strong>核心</strong> 和 <strong>功能性模块</strong>，<strong>核心模块</strong> 负责维持一个 <strong>运行循环</strong>（<code>run-loop</code>），执行网络请求处理的 <strong>不同阶段</strong> 的模块功能，比如：<strong>网络读写</strong>、<strong>存储读写</strong>、<strong>内容传输</strong>、<strong>外出过滤</strong>，以及 <strong>将请求发往上游服务器</strong> 等。而其代码的 <strong>模块化设计</strong>，也使得我们可以根据需要对 <strong>功能模块</strong> 进行适当的 <strong>选择</strong> 和 <strong>修改</strong>，编译成具有 <strong>特定功能</strong> 的服务器。</p></li><li><p>事件驱动模型</p><p>基于 <strong>异步及非阻塞</strong> 的 <strong>事件驱动模型</strong>，可以说是 <code>Nginx</code> 得以获得 <strong>高并发</strong>、<strong>高性能</strong> 的关键因素，同时也得益于对 <code>Linux</code>、<code>Solaris</code> 及类 <code>BSD</code> 等操作系统内核中 <strong>事件通知</strong> 及 <code>I/O</code> <strong>性能增强功能</strong> 的采用，如 <code>kqueue</code>、<code>epoll</code> 及 <code>event ports</code>。</p></li><li><p>代理设计</p></li></ul><p>参考资料：</p><ol><li><p><a href="https://juejin.im/post/5b4bdb54e51d45191e0cd774" target="_blank" rel="noopener noreferrer">浅谈Nginx服务器的内部核心架构设计</a></p></li><li><p><a href="https://nginx.org/en/#architecture_and_scalability" target="_blank" rel="noopener noreferrer">Architecture and scalability</a></p></li></ol><h4 id="nginx高可用"><a class="header-anchor" href="#nginx高可用" aria-hidden="true">#</a> Nginx高可用</h4><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145713.png" alt="img"></p><p><strong>VRRP（Virtual Router Redundancy Protocol）</strong>，即<a href="https://link.jianshu.com?t=http://en.wikipedia.org/wiki/VRRP" target="_blank" rel="noopener noreferrer">虚拟路由冗余协议</a>。可以认为它是实现路由器高可用的容错协议，即将多台提供相同功能的路由器组成一个路由器组(Router Group)，这个组里面有一个master和多个backup，但在外界看来就像一台一样，构成虚拟路由器，拥有一个虚拟IP（vip，也就是路由器所在局域网内其他机器的默认路由），占有这个IP的master实际负责ARP相应和转发IP数据包，组中的其它路由器作为备份的角色处于待命状态。master会发组播消息，当backup在超时时间内收不到vrrp包时就认为master宕掉了，这时就需要根据VRRP的优先级来选举一个backup当master，保证路由器的高可用。</p><p>Keepalived是一个基于VRRP协议来实现的服务高可用方案，可以利用其来避免IP单点故障，类似的工具还有heartbeat、corosync、pacemaker。但是它一般不会单独出现，而是与其它负载均衡技术（如lvs、haproxy、nginx）一起工作来达到集群的高可用。</p><p>KeepAlived + Nginx来组成高可用的方案：</p><p>第一：请求不要直接打到Nginx上，应该先通过Keepalived（这就是所谓虚拟IP，VIP）</p><p>第二：Keepalived应该能监控Nginx的生命状态（提供一个用户自定义的脚本，定期检查Nginx进程状态，进行权重变化,，从而实现Nginx故障切换）</p><h3 id="nginx服务安装"><a class="header-anchor" href="#nginx服务安装" aria-hidden="true">#</a> Nginx服务安装</h3><h4 id="centos安装方式"><a class="header-anchor" href="#centos安装方式" aria-hidden="true">#</a> Centos安装方式</h4><p>推荐使用在线安装方式：</p><table><thead><tr><th>分类</th><th>yum方式</th><th>源码安装</th></tr></thead><tbody><tr><td>网络</td><td>需要</td><td>可以不需要</td></tr><tr><td>安装位置</td><td>/etc/nginx配置文件，/usr/sbin/nginx</td><td>/usr/local/nginx目录</td></tr><tr><td>管理命令</td><td>提供</td><td>不提供</td></tr><tr><td>启动</td><td>service nginx start</td><td>执行绝对路径/usr/local/nginx/sbin/nginx</td></tr><tr><td>删除</td><td>yum remove nginx或者rpm -e nginx</td><td>rm -rf /usr/local/nginx</td></tr></tbody></table>',35),g=a("ol",null,[a("li",null,[a("p",null,"在线安装"),a("p",null,"添加nginx的repo："),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[s("$ "),a("span",{class:"token function"},"vim"),s(" /etc/yum.repos.d/nginx.repo\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741101-84275"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"$ vim /etc/yum.repos.d/nginx.repo\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741101-84275","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("p",null,"输入以下内容："),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token punctuation"},"["),s("nginx"),a("span",{class:"token punctuation"},"]"),s("\n"),a("span",{class:"token assign-left variable"},"name"),a("span",{class:"token operator"},"="),s("nginx repo\n"),a("span",{class:"token assign-left variable"},"baseurl"),a("span",{class:"token operator"},"="),s("http://nginx.org/packages/centos/"),a("span",{class:"token variable"},"$releasever"),s("/"),a("span",{class:"token variable"},"$basearch"),s("/\n"),a("span",{class:"token assign-left variable"},"gpgcheck"),a("span",{class:"token operator"},"="),a("span",{class:"token number"},"0"),s("\n"),a("span",{class:"token assign-left variable"},"enabled"),a("span",{class:"token operator"},"="),a("span",{class:"token number"},"1"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741101-22396"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"[nginx]\nname=nginx repo\nbaseurl=http://nginx.org/packages/centos/$releasever/$basearch/\ngpgcheck=0\nenabled=1\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741101-22396","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])]),a("p",null,[a("code",null,":wq"),s("保存后，使用"),a("code",null,"yum update"),s("，接下来就是安装了。")]),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[s("yum "),a("span",{class:"token function"},"install"),s(" -y nginx\n\n"),a("span",{class:"token comment"},"# 管理命令:"),s("\n"),a("span",{class:"token comment"},"# 启动/停止/重启"),s("\n"),a("span",{class:"token function"},"service"),s(" nginx start/stop/restart\n\n"),a("span",{class:"token comment"},"# 卸载"),s("\nyum remove -y nginx\n"),a("span",{class:"token comment"},"# 或者强制卸载，不考虑依赖"),s("\n"),a("span",{class:"token function"},"rpm"),s(" -e nginx\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741101-24645"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"yum install -y nginx\n\n# 管理命令:\n# 启动/停止/重启\nservice nginx start/stop/restart\n\n# 卸载\nyum remove -y nginx\n# 或者强制卸载，不考虑依赖\nrpm -e nginx\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741101-24645","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br")])])]),a("li",null,[a("p",null,"源码安装")])],-1),f=a("ul",null,[a("li",null,[a("p",null,"安装对应的依赖："),a("div",{class:"language-"},[a("pre",null,[a("code",null,"yum -y install gcc gcc-c++ make libtool zlib zlib-devel openssl openssl-devel pcre pcre-devel\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741102-7297"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"yum -y install gcc gcc-c++ make libtool zlib zlib-devel openssl openssl-devel pcre pcre-devel\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741102-7297","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])])]),a("li",null,[a("p",null,"下载源码包："),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"wget"),s(" -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-"),a("span",{class:"token operator"},"<"),s("version"),a("span",{class:"token operator"},">"),s(".tar.gz\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741102-79376"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"wget -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-<version>.tar.gz\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741102-79376","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("p",null,"比如："),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"wget"),s(" -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-1.17.0.tar.gz\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741102-56416"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"wget -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-1.17.0.tar.gz\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741102-56416","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])])]),a("li",null,[a("p",null,"解压"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token builtin class-name"},"cd"),s(" /tmp/\n"),a("span",{class:"token function"},"tar"),s(" zxvf nginx.tar.gz\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741102-72033"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"cd /tmp/\ntar zxvf nginx.tar.gz\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741102-72033","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br")])])]),a("li",null,[a("p",null,"编译"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[s("$ ./configure\nConfiguration summary\n\n- using system PCRE library\n- OpenSSL library is not used\n- using system zlib library\n\n  nginx path prefix: "),a("span",{class:"token string"},'"/usr/local/nginx"'),s("\n  nginx binary file: "),a("span",{class:"token string"},'"/usr/local/nginx/sbin/nginx"'),s("\n  nginx modules path: "),a("span",{class:"token string"},'"/usr/local/nginx/modules"'),s("\n  nginx configuration prefix: "),a("span",{class:"token string"},'"/usr/local/nginx/conf"'),s("\n  nginx configuration file: "),a("span",{class:"token string"},'"/usr/local/nginx/conf/nginx.conf"'),s("\n  nginx pid file: "),a("span",{class:"token string"},'"/usr/local/nginx/logs/nginx.pid"'),s("\n  nginx error log file: "),a("span",{class:"token string"},'"/usr/local/nginx/logs/error.log"'),s("\n  nginx http access log file: "),a("span",{class:"token string"},'"/usr/local/nginx/logs/access.log"'),s("\n  nginx http client request body temporary files: "),a("span",{class:"token string"},'"client_body_temp"'),s("\n  nginx http proxy temporary files: "),a("span",{class:"token string"},'"proxy_temp"'),s("\n  nginx http fastcgi temporary files: "),a("span",{class:"token string"},'"fastcgi_temp"'),s("\n  nginx http uwsgi temporary files: "),a("span",{class:"token string"},'"uwsgi_temp"'),s("\n  nginx http scgi temporary files: "),a("span",{class:"token string"},'"scgi_temp"'),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741102-35152"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'$ ./configure\nConfiguration summary\n\n- using system PCRE library\n- OpenSSL library is not used\n- using system zlib library\n\n  nginx path prefix: "/usr/local/nginx"\n  nginx binary file: "/usr/local/nginx/sbin/nginx"\n  nginx modules path: "/usr/local/nginx/modules"\n  nginx configuration prefix: "/usr/local/nginx/conf"\n  nginx configuration file: "/usr/local/nginx/conf/nginx.conf"\n  nginx pid file: "/usr/local/nginx/logs/nginx.pid"\n  nginx error log file: "/usr/local/nginx/logs/error.log"\n  nginx http access log file: "/usr/local/nginx/logs/access.log"\n  nginx http client request body temporary files: "client_body_temp"\n  nginx http proxy temporary files: "proxy_temp"\n  nginx http fastcgi temporary files: "fastcgi_temp"\n  nginx http uwsgi temporary files: "uwsgi_temp"\n  nginx http scgi temporary files: "scgi_temp"\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741102-35152","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br")])])]),a("li",null,[a("p",null,"安装"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"make"),s(),a("span",{class:"token operator"},"&&"),s(),a("span",{class:"token function"},"make"),s(),a("span",{class:"token function"},"install"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741102-27052"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"make && make install\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741102-27052","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])])]),a("li",null,[a("p",null,"管理方法："),a("p",null,"直接可以使用可执行文件进行启动/停止/重启"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"# 启动"),s("\n/usr/local/nginx/sbin/nginx\n\n"),a("span",{class:"token comment"},"# 停止"),s("\n/usr/local/nginx/sbin/nginx -s stop\n\n"),a("span",{class:"token comment"},"# 重启"),s("\n/usr/local/nginx/sbin/nginx -s reload\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741102-45764"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 启动\n/usr/local/nginx/sbin/nginx\n\n# 停止\n/usr/local/nginx/sbin/nginx -s stop\n\n# 重启\n/usr/local/nginx/sbin/nginx -s reload\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741102-45764","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br")])])]),a("li",null,[a("p",null,"管理脚本"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[s("$ "),a("span",{class:"token function"},"vi"),s(" /etc/init.d/nginx\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741102-30616"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"$ vi /etc/init.d/nginx\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741102-30616","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("p",null,"输入如下内容:"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token shebang important"},"#!/bin/sh"),s("\n"),a("span",{class:"token comment"},"#"),s("\n"),a("span",{class:"token comment"},"# nginx - this script starts and stops the nginx daemon"),s("\n"),a("span",{class:"token comment"},"#"),s("\n"),a("span",{class:"token comment"},"# chkconfig:   - 85 15"),s("\n"),a("span",{class:"token comment"},"# description:  NGINX is an HTTP(S) server, HTTP(S) reverse \\"),s("\n"),a("span",{class:"token comment"},"#               proxy and IMAP/POP3 proxy server"),s("\n"),a("span",{class:"token comment"},"# processname: nginx"),s("\n"),a("span",{class:"token comment"},"# config:      /usr/local/nginx/conf/nginx.conf"),s("\n"),a("span",{class:"token comment"},"# config:      /etc/sysconfig/nginx"),s("\n"),a("span",{class:"token comment"},"# pidfile:     /usr/local/nginx/logs/nginx.pid"),s("\n"),a("span",{class:"token comment"},"# Source function library."),s("\n"),a("span",{class:"token builtin class-name"},"."),s(" /etc/rc.d/init.d/functions\n"),a("span",{class:"token comment"},"# Source networking configuration."),s("\n"),a("span",{class:"token builtin class-name"},"."),s(" /etc/sysconfig/network\n"),a("span",{class:"token comment"},"# Check that networking is up."),s("\n"),a("span",{class:"token punctuation"},"["),s(),a("span",{class:"token string"},[s('"'),a("span",{class:"token variable"},"$NETWORKING"),s('"')]),s(),a("span",{class:"token operator"},"="),s(),a("span",{class:"token string"},'"no"'),s(),a("span",{class:"token punctuation"},"]"),s(),a("span",{class:"token operator"},"&&"),s(),a("span",{class:"token builtin class-name"},"exit"),s(),a("span",{class:"token number"},"0"),s("\n"),a("span",{class:"token assign-left variable"},"nginx"),a("span",{class:"token operator"},"="),a("span",{class:"token string"},'"/usr/local/nginx/sbin/nginx"'),s("\n"),a("span",{class:"token assign-left variable"},"prog"),a("span",{class:"token operator"},"="),a("span",{class:"token variable"},[a("span",{class:"token variable"},"$("),a("span",{class:"token function"},"basename"),s(" $nginx"),a("span",{class:"token variable"},")")]),s("\n"),a("span",{class:"token assign-left variable"},"NGINX_CONF_FILE"),a("span",{class:"token operator"},"="),a("span",{class:"token string"},'"/usr/local/nginx/conf/nginx.conf"'),s("\n"),a("span",{class:"token punctuation"},"["),s(" -f /etc/sysconfig/nginx "),a("span",{class:"token punctuation"},"]"),s(),a("span",{class:"token operator"},"&&"),s(),a("span",{class:"token builtin class-name"},"."),s(" /etc/sysconfig/nginx\n"),a("span",{class:"token assign-left variable"},"lockfile"),a("span",{class:"token operator"},"="),s("/var/lock/subsys/nginx\n"),a("span",{class:"token function-name function"},"make_dirs"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s("\n   "),a("span",{class:"token comment"},"# make required directories"),s("\n   "),a("span",{class:"token assign-left variable"},"user"),a("span",{class:"token operator"},"="),a("span",{class:"token variable"},[a("span",{class:"token variable"},"`"),s("$nginx -V "),a("span",{class:"token operator"},[a("span",{class:"token file-descriptor important"},"2"),s(">")]),a("span",{class:"token file-descriptor important"},"&1"),s(),a("span",{class:"token operator"},"|"),s(),a("span",{class:"token function"},"grep"),s(),a("span",{class:"token string"},'"configure arguments:"'),s(),a("span",{class:"token operator"},"|"),s(),a("span",{class:"token function"},"sed"),s(),a("span",{class:"token string"},"'s/[^*]*--user=\\([^ ]*\\).*/\\1/g'"),s(" -"),a("span",{class:"token variable"},"`")]),s("\n   "),a("span",{class:"token keyword"},"if"),s(),a("span",{class:"token punctuation"},"["),s(" -z "),a("span",{class:"token string"},[s('"'),a("span",{class:"token variable"},[a("span",{class:"token variable"},"`"),a("span",{class:"token function"},"grep"),s(" $user /etc/passwd"),a("span",{class:"token variable"},"`")]),s('"')]),s(),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},";"),s(),a("span",{class:"token keyword"},"then"),s("\n       "),a("span",{class:"token function"},"useradd"),s(" -M -s /bin/nologin "),a("span",{class:"token variable"},"$user"),s("\n   "),a("span",{class:"token keyword"},"fi"),s("\n   "),a("span",{class:"token assign-left variable"},"options"),a("span",{class:"token operator"},"="),a("span",{class:"token variable"},[a("span",{class:"token variable"},"`"),s("$nginx -V "),a("span",{class:"token operator"},[a("span",{class:"token file-descriptor important"},"2"),s(">")]),a("span",{class:"token file-descriptor important"},"&1"),s(),a("span",{class:"token operator"},"|"),s(),a("span",{class:"token function"},"grep"),s(),a("span",{class:"token string"},"'configure arguments:'"),a("span",{class:"token variable"},"`")]),s("\n   "),a("span",{class:"token keyword"},"for"),s(),a("span",{class:"token for-or-select variable"},"opt"),s(),a("span",{class:"token keyword"},"in"),s(),a("span",{class:"token variable"},"$options"),a("span",{class:"token punctuation"},";"),s(),a("span",{class:"token keyword"},"do"),s("\n       "),a("span",{class:"token keyword"},"if"),s(),a("span",{class:"token punctuation"},"["),s(),a("span",{class:"token variable"},[a("span",{class:"token variable"},"`"),a("span",{class:"token builtin class-name"},"echo"),s(" $opt "),a("span",{class:"token operator"},"|"),s(),a("span",{class:"token function"},"grep"),s(),a("span",{class:"token string"},"'.*-temp-path'"),a("span",{class:"token variable"},"`")]),s(),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},";"),s(),a("span",{class:"token keyword"},"then"),s("\n           "),a("span",{class:"token assign-left variable"},"value"),a("span",{class:"token operator"},"="),a("span",{class:"token variable"},[a("span",{class:"token variable"},"`"),a("span",{class:"token builtin class-name"},"echo"),s(" $opt "),a("span",{class:"token operator"},"|"),s(),a("span",{class:"token function"},"cut"),s(" -d "),a("span",{class:"token string"},'"="'),s(" -f "),a("span",{class:"token number"},"2"),a("span",{class:"token variable"},"`")]),s("\n           "),a("span",{class:"token keyword"},"if"),s(),a("span",{class:"token punctuation"},"["),s(),a("span",{class:"token operator"},"!"),s(" -d "),a("span",{class:"token string"},[s('"'),a("span",{class:"token variable"},"$value"),s('"')]),s(),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},";"),s(),a("span",{class:"token keyword"},"then"),s("\n               "),a("span",{class:"token comment"},'# echo "creating" $value'),s("\n               "),a("span",{class:"token function"},"mkdir"),s(" -p "),a("span",{class:"token variable"},"$value"),s(),a("span",{class:"token operator"},"&&"),s(),a("span",{class:"token function"},"chown"),s(" -R "),a("span",{class:"token variable"},"$user"),s(),a("span",{class:"token variable"},"$value"),s("\n           "),a("span",{class:"token keyword"},"fi"),s("\n       "),a("span",{class:"token keyword"},"fi"),s("\n   "),a("span",{class:"token keyword"},"done"),s("\n"),a("span",{class:"token punctuation"},"}"),s("\n"),a("span",{class:"token function-name function"},"start"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s("\n    "),a("span",{class:"token punctuation"},"["),s(" -x "),a("span",{class:"token variable"},"$nginx"),s(),a("span",{class:"token punctuation"},"]"),s(),a("span",{class:"token operator"},"||"),s(),a("span",{class:"token builtin class-name"},"exit"),s(),a("span",{class:"token number"},"5"),s("\n    "),a("span",{class:"token punctuation"},"["),s(" -f "),a("span",{class:"token variable"},"$NGINX_CONF_FILE"),s(),a("span",{class:"token punctuation"},"]"),s(),a("span",{class:"token operator"},"||"),s(),a("span",{class:"token builtin class-name"},"exit"),s(),a("span",{class:"token number"},"6"),s("\n    make_dirs\n    "),a("span",{class:"token builtin class-name"},"echo"),s(" -n $"),a("span",{class:"token string"},[s('"Starting '),a("span",{class:"token variable"},"$prog"),s(': "')]),s("\n    daemon "),a("span",{class:"token variable"},"$nginx"),s(" -c "),a("span",{class:"token variable"},"$NGINX_CONF_FILE"),s("\n    "),a("span",{class:"token assign-left variable"},"retval"),a("span",{class:"token operator"},"="),a("span",{class:"token variable"},"$?"),s("\n    "),a("span",{class:"token builtin class-name"},"echo"),s("\n    "),a("span",{class:"token punctuation"},"["),s(),a("span",{class:"token variable"},"$retval"),s(" -eq "),a("span",{class:"token number"},"0"),s(),a("span",{class:"token punctuation"},"]"),s(),a("span",{class:"token operator"},"&&"),s(),a("span",{class:"token function"},"touch"),s(),a("span",{class:"token variable"},"$lockfile"),s("\n    "),a("span",{class:"token builtin class-name"},"return"),s(),a("span",{class:"token variable"},"$retval"),s("\n"),a("span",{class:"token punctuation"},"}"),s("\n"),a("span",{class:"token function-name function"},"stop"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s("\n    "),a("span",{class:"token builtin class-name"},"echo"),s(" -n $"),a("span",{class:"token string"},[s('"Stopping '),a("span",{class:"token variable"},"$prog"),s(': "')]),s("\n    killproc "),a("span",{class:"token variable"},"$prog"),s(" -QUIT\n    "),a("span",{class:"token assign-left variable"},"retval"),a("span",{class:"token operator"},"="),a("span",{class:"token variable"},"$?"),s("\n    "),a("span",{class:"token builtin class-name"},"echo"),s("\n    "),a("span",{class:"token punctuation"},"["),s(),a("span",{class:"token variable"},"$retval"),s(" -eq "),a("span",{class:"token number"},"0"),s(),a("span",{class:"token punctuation"},"]"),s(),a("span",{class:"token operator"},"&&"),s(),a("span",{class:"token function"},"rm"),s(" -f "),a("span",{class:"token variable"},"$lockfile"),s("\n    "),a("span",{class:"token builtin class-name"},"return"),s(),a("span",{class:"token variable"},"$retval"),s("\n"),a("span",{class:"token punctuation"},"}"),s("\n"),a("span",{class:"token function-name function"},"restart"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s("\n    configtest "),a("span",{class:"token operator"},"||"),s(),a("span",{class:"token builtin class-name"},"return"),s(),a("span",{class:"token variable"},"$?"),s("\n    stop\n    "),a("span",{class:"token function"},"sleep"),s(),a("span",{class:"token number"},"1"),s("\n    start\n"),a("span",{class:"token punctuation"},"}"),s("\n"),a("span",{class:"token function-name function"},"reload"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s("\n    configtest "),a("span",{class:"token operator"},"||"),s(),a("span",{class:"token builtin class-name"},"return"),s(),a("span",{class:"token variable"},"$?"),s("\n    "),a("span",{class:"token builtin class-name"},"echo"),s(" -n $"),a("span",{class:"token string"},[s('"Reloading '),a("span",{class:"token variable"},"$prog"),s(': "')]),s("\n    killproc "),a("span",{class:"token variable"},"$nginx"),s(" -HUP\n    "),a("span",{class:"token assign-left variable"},"RETVAL"),a("span",{class:"token operator"},"="),a("span",{class:"token variable"},"$?"),s("\n    "),a("span",{class:"token builtin class-name"},"echo"),s("\n"),a("span",{class:"token punctuation"},"}"),s("\n"),a("span",{class:"token function-name function"},"force_reload"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s("\n    restart\n"),a("span",{class:"token punctuation"},"}"),s("\n"),a("span",{class:"token function-name function"},"configtest"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s("\n  "),a("span",{class:"token variable"},"$nginx"),s(" -t -c "),a("span",{class:"token variable"},"$NGINX_CONF_FILE"),s("\n"),a("span",{class:"token punctuation"},"}"),s("\n"),a("span",{class:"token function-name function"},"rh_status"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s("\n    status "),a("span",{class:"token variable"},"$prog"),s("\n"),a("span",{class:"token punctuation"},"}"),s("\n"),a("span",{class:"token function-name function"},"rh_status_q"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s("\n    rh_status "),a("span",{class:"token operator"},">"),s("/dev/null "),a("span",{class:"token operator"},[a("span",{class:"token file-descriptor important"},"2"),s(">")]),a("span",{class:"token file-descriptor important"},"&1"),s("\n"),a("span",{class:"token punctuation"},"}"),s("\n"),a("span",{class:"token keyword"},"case"),s(),a("span",{class:"token string"},[s('"'),a("span",{class:"token variable"},"$1"),s('"')]),s(),a("span",{class:"token keyword"},"in"),s("\n    start"),a("span",{class:"token punctuation"},")"),s("\n        rh_status_q "),a("span",{class:"token operator"},"&&"),s(),a("span",{class:"token builtin class-name"},"exit"),s(),a("span",{class:"token number"},"0"),s("\n        "),a("span",{class:"token variable"},"$1"),s("\n        "),a("span",{class:"token punctuation"},";"),a("span",{class:"token punctuation"},";"),s("\n    stop"),a("span",{class:"token punctuation"},")"),s("\n        rh_status_q "),a("span",{class:"token operator"},"||"),s(),a("span",{class:"token builtin class-name"},"exit"),s(),a("span",{class:"token number"},"0"),s("\n        "),a("span",{class:"token variable"},"$1"),s("\n        "),a("span",{class:"token punctuation"},";"),a("span",{class:"token punctuation"},";"),s("\n    restart"),a("span",{class:"token operator"},"|"),s("configtest"),a("span",{class:"token punctuation"},")"),s("\n        "),a("span",{class:"token variable"},"$1"),s("\n        "),a("span",{class:"token punctuation"},";"),a("span",{class:"token punctuation"},";"),s("\n    reload"),a("span",{class:"token punctuation"},")"),s("\n        rh_status_q "),a("span",{class:"token operator"},"||"),s(),a("span",{class:"token builtin class-name"},"exit"),s(),a("span",{class:"token number"},"7"),s("\n        "),a("span",{class:"token variable"},"$1"),s("\n        "),a("span",{class:"token punctuation"},";"),a("span",{class:"token punctuation"},";"),s("\n    force-reload"),a("span",{class:"token punctuation"},")"),s("\n        force_reload\n        "),a("span",{class:"token punctuation"},";"),a("span",{class:"token punctuation"},";"),s("\n    status"),a("span",{class:"token punctuation"},")"),s("\n        rh_status\n        "),a("span",{class:"token punctuation"},";"),a("span",{class:"token punctuation"},";"),s("\n    condrestart"),a("span",{class:"token operator"},"|"),s("try-restart"),a("span",{class:"token punctuation"},")"),s("\n        rh_status_q "),a("span",{class:"token operator"},"||"),s(),a("span",{class:"token builtin class-name"},"exit"),s(),a("span",{class:"token number"},"0"),s("\n            "),a("span",{class:"token punctuation"},";"),a("span",{class:"token punctuation"},";"),s("\n    *"),a("span",{class:"token punctuation"},")"),s("\n        "),a("span",{class:"token builtin class-name"},"echo"),s(" $"),a("span",{class:"token string"},[s('"Usage: '),a("span",{class:"token variable"},"$0"),s(' {start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest}"')]),s("\n        "),a("span",{class:"token builtin class-name"},"exit"),s(),a("span",{class:"token number"},"2"),s("\n"),a("span",{class:"token keyword"},"esac"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741102-62398"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'#!/bin/sh\n#\n# nginx - this script starts and stops the nginx daemon\n#\n# chkconfig:   - 85 15\n# description:  NGINX is an HTTP(S) server, HTTP(S) reverse \\\n#               proxy and IMAP/POP3 proxy server\n# processname: nginx\n# config:      /usr/local/nginx/conf/nginx.conf\n# config:      /etc/sysconfig/nginx\n# pidfile:     /usr/local/nginx/logs/nginx.pid\n# Source function library.\n. /etc/rc.d/init.d/functions\n# Source networking configuration.\n. /etc/sysconfig/network\n# Check that networking is up.\n[ "$NETWORKING" = "no" ] && exit 0\nnginx="/usr/local/nginx/sbin/nginx"\nprog=$(basename $nginx)\nNGINX_CONF_FILE="/usr/local/nginx/conf/nginx.conf"\n[ -f /etc/sysconfig/nginx ] && . /etc/sysconfig/nginx\nlockfile=/var/lock/subsys/nginx\nmake_dirs() {\n   # make required directories\n   user=`$nginx -V 2>&1 | grep "configure arguments:" | sed \'s/[^*]*--user=\\([^ ]*\\).*/\\1/g\' -`\n   if [ -z "`grep $user /etc/passwd`" ]; then\n       useradd -M -s /bin/nologin $user\n   fi\n   options=`$nginx -V 2>&1 | grep \'configure arguments:\'`\n   for opt in $options; do\n       if [ `echo $opt | grep \'.*-temp-path\'` ]; then\n           value=`echo $opt | cut -d "=" -f 2`\n           if [ ! -d "$value" ]; then\n               # echo "creating" $value\n               mkdir -p $value && chown -R $user $value\n           fi\n       fi\n   done\n}\nstart() {\n    [ -x $nginx ] || exit 5\n    [ -f $NGINX_CONF_FILE ] || exit 6\n    make_dirs\n    echo -n </pre>quot;Starting $prog: "\n    daemon $nginx -c $NGINX_CONF_FILE\n    retval=$?\n    echo\n    [ $retval -eq 0 ] && touch $lockfile\n    return $retval\n}\nstop() {\n    echo -n </pre>quot;Stopping $prog: "\n    killproc $prog -QUIT\n    retval=$?\n    echo\n    [ $retval -eq 0 ] && rm -f $lockfile\n    return $retval\n}\nrestart() {\n    configtest || return $?\n    stop\n    sleep 1\n    start\n}\nreload() {\n    configtest || return $?\n    echo -n </pre>quot;Reloading $prog: "\n    killproc $nginx -HUP\n    RETVAL=$?\n    echo\n}\nforce_reload() {\n    restart\n}\nconfigtest() {\n  $nginx -t -c $NGINX_CONF_FILE\n}\nrh_status() {\n    status $prog\n}\nrh_status_q() {\n    rh_status >/dev/null 2>&1\n}\ncase "$1" in\n    start)\n        rh_status_q && exit 0\n        $1\n        ;;\n    stop)\n        rh_status_q || exit 0\n        $1\n        ;;\n    restart|configtest)\n        $1\n        ;;\n    reload)\n        rh_status_q || exit 7\n        $1\n        ;;\n    force-reload)\n        force_reload\n        ;;\n    status)\n        rh_status\n        ;;\n    condrestart|try-restart)\n        rh_status_q || exit 0\n            ;;\n    *)\n        echo </pre>quot;Usage: $0 {start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest}"\n        exit 2\nesac\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741102-62398","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br"),a("span",{class:"line-number"},"27"),a("br"),a("span",{class:"line-number"},"28"),a("br"),a("span",{class:"line-number"},"29"),a("br"),a("span",{class:"line-number"},"30"),a("br"),a("span",{class:"line-number"},"31"),a("br"),a("span",{class:"line-number"},"32"),a("br"),a("span",{class:"line-number"},"33"),a("br"),a("span",{class:"line-number"},"34"),a("br"),a("span",{class:"line-number"},"35"),a("br"),a("span",{class:"line-number"},"36"),a("br"),a("span",{class:"line-number"},"37"),a("br"),a("span",{class:"line-number"},"38"),a("br"),a("span",{class:"line-number"},"39"),a("br"),a("span",{class:"line-number"},"40"),a("br"),a("span",{class:"line-number"},"41"),a("br"),a("span",{class:"line-number"},"42"),a("br"),a("span",{class:"line-number"},"43"),a("br"),a("span",{class:"line-number"},"44"),a("br"),a("span",{class:"line-number"},"45"),a("br"),a("span",{class:"line-number"},"46"),a("br"),a("span",{class:"line-number"},"47"),a("br"),a("span",{class:"line-number"},"48"),a("br"),a("span",{class:"line-number"},"49"),a("br"),a("span",{class:"line-number"},"50"),a("br"),a("span",{class:"line-number"},"51"),a("br"),a("span",{class:"line-number"},"52"),a("br"),a("span",{class:"line-number"},"53"),a("br"),a("span",{class:"line-number"},"54"),a("br"),a("span",{class:"line-number"},"55"),a("br"),a("span",{class:"line-number"},"56"),a("br"),a("span",{class:"line-number"},"57"),a("br"),a("span",{class:"line-number"},"58"),a("br"),a("span",{class:"line-number"},"59"),a("br"),a("span",{class:"line-number"},"60"),a("br"),a("span",{class:"line-number"},"61"),a("br"),a("span",{class:"line-number"},"62"),a("br"),a("span",{class:"line-number"},"63"),a("br"),a("span",{class:"line-number"},"64"),a("br"),a("span",{class:"line-number"},"65"),a("br"),a("span",{class:"line-number"},"66"),a("br"),a("span",{class:"line-number"},"67"),a("br"),a("span",{class:"line-number"},"68"),a("br"),a("span",{class:"line-number"},"69"),a("br"),a("span",{class:"line-number"},"70"),a("br"),a("span",{class:"line-number"},"71"),a("br"),a("span",{class:"line-number"},"72"),a("br"),a("span",{class:"line-number"},"73"),a("br"),a("span",{class:"line-number"},"74"),a("br"),a("span",{class:"line-number"},"75"),a("br"),a("span",{class:"line-number"},"76"),a("br"),a("span",{class:"line-number"},"77"),a("br"),a("span",{class:"line-number"},"78"),a("br"),a("span",{class:"line-number"},"79"),a("br"),a("span",{class:"line-number"},"80"),a("br"),a("span",{class:"line-number"},"81"),a("br"),a("span",{class:"line-number"},"82"),a("br"),a("span",{class:"line-number"},"83"),a("br"),a("span",{class:"line-number"},"84"),a("br"),a("span",{class:"line-number"},"85"),a("br"),a("span",{class:"line-number"},"86"),a("br"),a("span",{class:"line-number"},"87"),a("br"),a("span",{class:"line-number"},"88"),a("br"),a("span",{class:"line-number"},"89"),a("br"),a("span",{class:"line-number"},"90"),a("br"),a("span",{class:"line-number"},"91"),a("br"),a("span",{class:"line-number"},"92"),a("br"),a("span",{class:"line-number"},"93"),a("br"),a("span",{class:"line-number"},"94"),a("br"),a("span",{class:"line-number"},"95"),a("br"),a("span",{class:"line-number"},"96"),a("br"),a("span",{class:"line-number"},"97"),a("br"),a("span",{class:"line-number"},"98"),a("br"),a("span",{class:"line-number"},"99"),a("br"),a("span",{class:"line-number"},"100"),a("br"),a("span",{class:"line-number"},"101"),a("br"),a("span",{class:"line-number"},"102"),a("br"),a("span",{class:"line-number"},"103"),a("br"),a("span",{class:"line-number"},"104"),a("br"),a("span",{class:"line-number"},"105"),a("br"),a("span",{class:"line-number"},"106"),a("br"),a("span",{class:"line-number"},"107"),a("br"),a("span",{class:"line-number"},"108"),a("br"),a("span",{class:"line-number"},"109"),a("br"),a("span",{class:"line-number"},"110"),a("br"),a("span",{class:"line-number"},"111"),a("br"),a("span",{class:"line-number"},"112"),a("br")])]),a("p",null,"添加开机启动："),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"# 给予执行权限"),s("\n"),a("span",{class:"token function"},"chmod"),s(" a+x /etc/init.d/nginx\n\n"),a("span",{class:"token comment"},"# 设置开机启动"),s("\n"),a("span",{class:"token function"},"chkconfig"),s(" nginx on\n\n"),a("span",{class:"token comment"},"# 启动"),s("\nsystemctl start nginx\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741103-96494"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 给予执行权限\nchmod a+x /etc/init.d/nginx\n\n# 设置开机启动\nchkconfig nginx on\n\n# 启动\nsystemctl start nginx\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741103-96494","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br")])])])],-1),v=a("h4",{id:"ubuntu安装方式"},[a("a",{class:"header-anchor",href:"#ubuntu安装方式","aria-hidden":"true"},"#"),s(" Ubuntu安装方式")],-1),x=a("ol",null,[a("li",null,[a("p",null,"在线方式"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"sudo"),s(),a("span",{class:"token function"},"apt-get"),s(),a("span",{class:"token function"},"install"),s(" nginx\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741103-26007"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"sudo apt-get install nginx\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741103-26007","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])])]),a("li",null,[a("p",null,"源码方式"),a("p",null,"安装依赖"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"# 安装gcc g++"),s("\n"),a("span",{class:"token function"},"sudo"),s(),a("span",{class:"token function"},"apt-get"),s(),a("span",{class:"token function"},"install"),s(" build-essential\n"),a("span",{class:"token function"},"sudo"),s(),a("span",{class:"token function"},"apt-get"),s(),a("span",{class:"token function"},"install"),s(" libtool\n\n"),a("span",{class:"token comment"},"# 安装pcre依赖库（http://www.pcre.org/）"),s("\n"),a("span",{class:"token function"},"sudo"),s(),a("span",{class:"token function"},"apt-get"),s(" update\n"),a("span",{class:"token function"},"sudo"),s(),a("span",{class:"token function"},"apt-get"),s(),a("span",{class:"token function"},"install"),s(" libpcre3 libpcre3-dev\n\n"),a("span",{class:"token comment"},"# 安装zlib依赖库（http://www.zlib.net）"),s("\n"),a("span",{class:"token function"},"sudo"),s(),a("span",{class:"token function"},"apt-get"),s(),a("span",{class:"token function"},"install"),s(" zlib1g-dev\n\n"),a("span",{class:"token comment"},"# 安装SSL依赖库（16.04默认已经安装了）"),s("\n"),a("span",{class:"token function"},"sudo"),s(),a("span",{class:"token function"},"apt-get"),s(),a("span",{class:"token function"},"install"),s(" openssl\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741103-21612"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 安装gcc g++\nsudo apt-get install build-essential\nsudo apt-get install libtool\n\n# 安装pcre依赖库（http://www.pcre.org/）\nsudo apt-get update\nsudo apt-get install libpcre3 libpcre3-dev\n\n# 安装zlib依赖库（http://www.zlib.net）\nsudo apt-get install zlib1g-dev\n\n# 安装SSL依赖库（16.04默认已经安装了）\nsudo apt-get install openssl\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741103-21612","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br")])]),a("p",null,"下载源码启动:"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"# 下载最新版本："),s("\n"),a("span",{class:"token comment"},"# 下面的version可以改为对应的版本"),s("\n"),a("span",{class:"token comment"},"# http://nginx.org/download/nginx-1.17.0.tar.gz"),s("\n"),a("span",{class:"token function"},"wget"),s(" -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-"),a("span",{class:"token operator"},"<"),s("version"),a("span",{class:"token operator"},">"),s(".tar.gz\n\n"),a("span",{class:"token comment"},"# 解压："),s("\n"),a("span",{class:"token builtin class-name"},"cd"),s(" /tmp/\n"),a("span",{class:"token function"},"tar"),s(" -zxvf nginx.tar.gz\n\n"),a("span",{class:"token comment"},"# 进入解压目录："),s("\n"),a("span",{class:"token builtin class-name"},"cd"),s(" nginx-1.13.6\n\n"),a("span",{class:"token comment"},"# 配置："),s("\n./configure --prefix"),a("span",{class:"token operator"},"="),s("/usr/local/nginx \n\n"),a("span",{class:"token comment"},"# 编译："),s("\n"),a("span",{class:"token function"},"make"),s("\n\n"),a("span",{class:"token comment"},"# 安装："),s("\n"),a("span",{class:"token function"},"sudo"),s(),a("span",{class:"token function"},"make"),s(),a("span",{class:"token function"},"install"),s("\n\n"),a("span",{class:"token comment"},"# 启动："),s("\n"),a("span",{class:"token comment"},"#注意：-c 指定配置文件的路径，不加的话，nginx会自动加载默认路径的配置文件，可以通过-h查看帮助命令。"),s("\n"),a("span",{class:"token comment"},"#查看进程："),s("\n"),a("span",{class:"token function"},"sudo"),s(" /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\n\n"),a("span",{class:"token comment"},"# 查看进程启动状态"),s("\n"),a("span",{class:"token function"},"ps"),s(" -ef "),a("span",{class:"token operator"},"|"),s(),a("span",{class:"token function"},"grep"),s(" nginx\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741103-26515"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 下载最新版本：\n# 下面的version可以改为对应的版本\n# http://nginx.org/download/nginx-1.17.0.tar.gz\nwget -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-<version>.tar.gz\n\n# 解压：\ncd /tmp/\ntar -zxvf nginx.tar.gz\n\n# 进入解压目录：\ncd nginx-1.13.6\n\n# 配置：\n./configure --prefix=/usr/local/nginx \n\n# 编译：\nmake\n\n# 安装：\nsudo make install\n\n# 启动：\n#注意：-c 指定配置文件的路径，不加的话，nginx会自动加载默认路径的配置文件，可以通过-h查看帮助命令。\n#查看进程：\nsudo /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\n\n# 查看进程启动状态\nps -ef | grep nginx\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741103-26515","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br"),a("span",{class:"line-number"},"27"),a("br"),a("span",{class:"line-number"},"28"),a("br")])])])],-1),C=a("h3",{id:"nginx配置及优化"},[a("a",{class:"header-anchor",href:"#nginx配置及优化","aria-hidden":"true"},"#"),s(" Nginx配置及优化")],-1),w=a("ol",null,[a("li",null,"配置文件结构")],-1),_=a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token punctuation"},".."),s(".              "),a("span",{class:"token comment"},"#全局块"),s("\n\nevents "),a("span",{class:"token punctuation"},"{"),s("         "),a("span",{class:"token comment"},"#events块"),s("\n   "),a("span",{class:"token punctuation"},".."),s(".\n"),a("span",{class:"token punctuation"},"}"),s("\n\nhttp      "),a("span",{class:"token comment"},"#http块"),s("\n"),a("span",{class:"token punctuation"},"{"),s("\n    "),a("span",{class:"token punctuation"},".."),s(".   "),a("span",{class:"token comment"},"#http全局块--start"),s("\n    server        "),a("span",{class:"token comment"},"#server块"),s("\n    "),a("span",{class:"token punctuation"},"{"),s(" \n        "),a("span",{class:"token punctuation"},".."),s(".       "),a("span",{class:"token comment"},"#server全局块"),s("\n        location "),a("span",{class:"token punctuation"},"["),s("PATTERN"),a("span",{class:"token punctuation"},"]"),s("   "),a("span",{class:"token comment"},"#location块"),s("\n        "),a("span",{class:"token punctuation"},"{"),s("\n            "),a("span",{class:"token punctuation"},".."),s(".\n        "),a("span",{class:"token punctuation"},"}"),s("\n        location "),a("span",{class:"token punctuation"},"["),s("PATTERN"),a("span",{class:"token punctuation"},"]"),s(" \n        "),a("span",{class:"token punctuation"},"{"),s("\n            "),a("span",{class:"token punctuation"},".."),s(".\n        "),a("span",{class:"token punctuation"},"}"),s("\n    "),a("span",{class:"token punctuation"},"}"),s("\n    server\n    "),a("span",{class:"token punctuation"},"{"),s("\n      "),a("span",{class:"token punctuation"},".."),s(".\n    "),a("span",{class:"token punctuation"},"}"),s("\n    "),a("span",{class:"token punctuation"},".."),s(".     "),a("span",{class:"token comment"},"#http全局块--end"),s("\n"),a("span",{class:"token punctuation"},"}"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741103-11177"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"...              #全局块\n\nevents {         #events块\n   ...\n}\n\nhttp      #http块\n{\n    ...   #http全局块--start\n    server        #server块\n    { \n        ...       #server全局块\n        location [PATTERN]   #location块\n        {\n            ...\n        }\n        location [PATTERN] \n        {\n            ...\n        }\n    }\n    server\n    {\n      ...\n    }\n    ...     #http全局块--end\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741103-11177","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br"),a("span",{class:"line-number"},"27"),a("br")])],-1),T=t("<ul><li><strong>全局块</strong>：配置影响nginx全局的指令。一般有运行nginx服务器的用户组，nginx进程pid存放路径，日志存放路径，配置文件引入，允许生成worker process数等。</li><li><strong>events块</strong>：配置影响nginx服务器或与用户的网络连接。有每个进程的最大连接数，选取哪种事件驱动模型处理连接请求，是否允许同时接受多个网路连接，开启多个网络连接序列化等。</li><li><strong>http块</strong>：可以嵌套多个server，配置代理，缓存，日志定义等绝大多数功能和第三方模块的配置。如文件引入，mime-type定义，日志自定义，是否使用sendfile传输文件，连接超时时间，单连接请求数等。</li><li><strong>server块</strong>：配置虚拟主机的相关参数，一个http中可以有多个server。</li><li><strong>location块</strong>：配置请求的路由，以及各种页面的处理情况。</li></ul>",1),E=a("ol",{start:"2"},[a("li",null,[a("p",null,"配置优化"),a("p",null,"配置文件："),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[s("user www-data"),a("span",{class:"token punctuation"},";"),s("\npid /run/nginx.pid"),a("span",{class:"token punctuation"},";"),s("\n\n"),a("span",{class:"token comment"},"# worker_processes用来设置Nginx服务的进程数。推荐是CPU内核数或者内核数的倍数，推荐使用CPU内核数"),s("\nworker_processes "),a("span",{class:"token number"},"4"),a("span",{class:"token punctuation"},";"),s("\n"),a("span",{class:"token comment"},"# 默认情况下，Nginx的多个进程有可能跑在某一个CPU或CPU的某一核上，导致Nginx进程使用硬件的资源不均"),s("\nworker_cpu_affinity 0001 0010 0100 "),a("span",{class:"token number"},"1000"),a("span",{class:"token punctuation"},";"),s("\n"),a("span",{class:"token comment"},"# 设置一个进程理论允许的最大连接数，理论上越大越好，但不可以超过worker_rlimit_nofile的值"),s("\nworker_rlimit_nofile "),a("span",{class:"token number"},"65535"),a("span",{class:"token punctuation"},";"),s("\n\nevents "),a("span",{class:"token punctuation"},"{"),s("\n\t\t\t\t"),a("span",{class:"token comment"},"# 设置事件驱动模型，是内核2.6以上支持"),s("\n        use epoll"),a("span",{class:"token punctuation"},";"),s("\n        worker_connections "),a("span",{class:"token number"},"65535"),a("span",{class:"token punctuation"},";"),s("\n        accept_mutex off"),a("span",{class:"token punctuation"},";"),s("\n        multi_accept off"),a("span",{class:"token punctuation"},";"),s("\n"),a("span",{class:"token punctuation"},"}"),s("\n\nhttp "),a("span",{class:"token punctuation"},"{"),s("\n        "),a("span",{class:"token comment"},"##"),s("\n        "),a("span",{class:"token comment"},"# Basic Settings"),s("\n        "),a("span",{class:"token comment"},"##"),s("\n        sendfile on"),a("span",{class:"token punctuation"},";"),s("\n        tcp_nopush on"),a("span",{class:"token punctuation"},";"),s("\n        tcp_nodelay on"),a("span",{class:"token punctuation"},";"),s("\n        keepalive_timeout "),a("span",{class:"token number"},"60"),s(),a("span",{class:"token number"},"50"),a("span",{class:"token punctuation"},";"),s("\n        send_timeout 10s"),a("span",{class:"token punctuation"},";"),s("\n        types_hash_max_size "),a("span",{class:"token number"},"2048"),a("span",{class:"token punctuation"},";"),s("\n        client_header_buffer_size 4k"),a("span",{class:"token punctuation"},";"),s("\n        client_max_body_size 8m"),a("span",{class:"token punctuation"},";"),s("\n        include /etc/nginx/mime.types"),a("span",{class:"token punctuation"},";"),s("\n        default_type application/octet-stream"),a("span",{class:"token punctuation"},";"),s("\n\n        "),a("span",{class:"token comment"},"##"),s("\n        "),a("span",{class:"token comment"},"# Logging Settings"),s("\n        "),a("span",{class:"token comment"},"##"),s("\n        access_log /var/log/nginx/access.log"),a("span",{class:"token punctuation"},";"),s("\n        error_log /var/log/nginx/error.log"),a("span",{class:"token punctuation"},";"),s("\n\n        "),a("span",{class:"token comment"},"##"),s("\n        "),a("span",{class:"token comment"},"# Gzip Settings"),s("\n        "),a("span",{class:"token comment"},"##"),s("\n        "),a("span",{class:"token function"},"gzip"),s(" on"),a("span",{class:"token punctuation"},";"),s("\n        gzip_disable "),a("span",{class:"token string"},'"msie6"'),a("span",{class:"token punctuation"},";"),s("\n        gzip_min_length "),a("span",{class:"token number"},"1024"),a("span",{class:"token punctuation"},";"),s("\n        gzip_vary on"),a("span",{class:"token punctuation"},";"),s("\n        gzip_comp_level "),a("span",{class:"token number"},"2"),a("span",{class:"token punctuation"},";"),s("\n        gzip_buffers "),a("span",{class:"token number"},"32"),s(" 4k"),a("span",{class:"token punctuation"},";"),s("\n        gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript"),a("span",{class:"token punctuation"},";"),s("\n\n\n        "),a("span",{class:"token comment"},"##"),s("\n        "),a("span",{class:"token comment"},"# Virtual Host Configs"),s("\n        "),a("span",{class:"token comment"},"##"),s("\n        include /etc/nginx/conf.d/*.conf"),a("span",{class:"token punctuation"},";"),s("\n        include /etc/nginx/sites-enabled/*"),a("span",{class:"token punctuation"},";"),s("\n"),a("span",{class:"token punctuation"},"}"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741103-67244"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'user www-data;\npid /run/nginx.pid;\n\n# worker_processes用来设置Nginx服务的进程数。推荐是CPU内核数或者内核数的倍数，推荐使用CPU内核数\nworker_processes 4;\n# 默认情况下，Nginx的多个进程有可能跑在某一个CPU或CPU的某一核上，导致Nginx进程使用硬件的资源不均\nworker_cpu_affinity 0001 0010 0100 1000;\n# 设置一个进程理论允许的最大连接数，理论上越大越好，但不可以超过worker_rlimit_nofile的值\nworker_rlimit_nofile 65535;\n\nevents {\n\t\t\t\t# 设置事件驱动模型，是内核2.6以上支持\n        use epoll;\n        worker_connections 65535;\n        accept_mutex off;\n        multi_accept off;\n}\n\nhttp {\n        ##\n        # Basic Settings\n        ##\n        sendfile on;\n        tcp_nopush on;\n        tcp_nodelay on;\n        keepalive_timeout 60 50;\n        send_timeout 10s;\n        types_hash_max_size 2048;\n        client_header_buffer_size 4k;\n        client_max_body_size 8m;\n        include /etc/nginx/mime.types;\n        default_type application/octet-stream;\n\n        ##\n        # Logging Settings\n        ##\n        access_log /var/log/nginx/access.log;\n        error_log /var/log/nginx/error.log;\n\n        ##\n        # Gzip Settings\n        ##\n        gzip on;\n        gzip_disable "msie6";\n        gzip_min_length 1024;\n        gzip_vary on;\n        gzip_comp_level 2;\n        gzip_buffers 32 4k;\n        gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;\n\n\n        ##\n        # Virtual Host Configs\n        ##\n        include /etc/nginx/conf.d/*.conf;\n        include /etc/nginx/sites-enabled/*;\n}\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741103-67244","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br"),a("span",{class:"line-number"},"27"),a("br"),a("span",{class:"line-number"},"28"),a("br"),a("span",{class:"line-number"},"29"),a("br"),a("span",{class:"line-number"},"30"),a("br"),a("span",{class:"line-number"},"31"),a("br"),a("span",{class:"line-number"},"32"),a("br"),a("span",{class:"line-number"},"33"),a("br"),a("span",{class:"line-number"},"34"),a("br"),a("span",{class:"line-number"},"35"),a("br"),a("span",{class:"line-number"},"36"),a("br"),a("span",{class:"line-number"},"37"),a("br"),a("span",{class:"line-number"},"38"),a("br"),a("span",{class:"line-number"},"39"),a("br"),a("span",{class:"line-number"},"40"),a("br"),a("span",{class:"line-number"},"41"),a("br"),a("span",{class:"line-number"},"42"),a("br"),a("span",{class:"line-number"},"43"),a("br"),a("span",{class:"line-number"},"44"),a("br"),a("span",{class:"line-number"},"45"),a("br"),a("span",{class:"line-number"},"46"),a("br"),a("span",{class:"line-number"},"47"),a("br"),a("span",{class:"line-number"},"48"),a("br"),a("span",{class:"line-number"},"49"),a("br"),a("span",{class:"line-number"},"50"),a("br"),a("span",{class:"line-number"},"51"),a("br"),a("span",{class:"line-number"},"52"),a("br"),a("span",{class:"line-number"},"53"),a("br"),a("span",{class:"line-number"},"54"),a("br"),a("span",{class:"line-number"},"55"),a("br"),a("span",{class:"line-number"},"56"),a("br"),a("span",{class:"line-number"},"57"),a("br")])])])],-1),$=a("p",null,"nginxs配置说明：",-1),I=a("ul",null,[a("li",null,[a("code",null,"worker_connections")])],-1),N=a("p",null,[s("设置一个进程理论允许的最大连接数，理论上越大越好，但不可以超过worker_rlimit_nofile的值。还有个问题，linux系统中有个指令open file resource limit，它设置了进程可以打开的文件句柄数量，可以用下面的指令查看你的linux系统中open file resource limit指令的值，"),a("code",null,"cat /proc/sys/fs/file-max"),a("br"),s(" 可以将该指令设置为23900251")],-1),P=a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[s("   "),a("span",{class:"token builtin class-name"},"echo"),s(),a("span",{class:"token string"},'"2390251"'),s(),a("span",{class:"token operator"},">"),s(" /proc/sys/fs/file-max\n   \n   sysctl -p\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-9223"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'   echo "2390251" > /proc/sys/fs/file-max\n   \n   sysctl -p\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-9223","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br")])],-1),S=a("ol",{start:"3"},[a("li",null,[a("p",null,"压测工具Apache ab"),a("p",null,[s("我们要测试 nginx 的负载能力，需要借助压力测试工具。本博客是使用 Apache 服务器自带的一个 web 压力测试工具 ApacheBench ，简称 ab。ab 是一个命令行工具，即通过 "),a("code",null,"ab"),s(" 命令行，模拟多个请求同时对某一 URL 地址进行访问，因此可以用来测试目标服务器的负载压力。")]),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[s("yum -y "),a("span",{class:"token function"},"install"),s(" httpd-tools\n\n"),a("span",{class:"token comment"},"# 查看安装结果"),s("\nab -V\n\n"),a("span",{class:"token comment"},"# 简单的使用"),s("\n"),a("span",{class:"token comment"},"# -c：一次并发请求的数量；-n：请求总次数"),s("\nab -c "),a("span",{class:"token number"},"5000"),s(" -n "),a("span",{class:"token number"},"200000"),s(" http://10.211.55.6：80/index.html\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-34873"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"yum -y install httpd-tools\n\n# 查看安装结果\nab -V\n\n# 简单的使用\n# -c：一次并发请求的数量；-n：请求总次数\nab -c 5000 -n 200000 http://10.211.55.6：80/index.html\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-34873","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br")])])]),a("li",null,[a("p",null,"其他优化"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[s("net.ipv4.ip_forward "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"0"),s("\nnet.ipv4.conf.default.rp_filter "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"1"),s("\nnet.ipv4.conf.default.accept_source_route "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"0"),s("\nkernel.sysrq "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"0"),s("\nkernel.core_uses_pid "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"1"),s("\n\n"),a("span",{class:"token comment"},"# 开启SYN Cookies，当出现SYN等待队列溢出时，启用cookies来处理。"),s("\nnet.ipv4.tcp_syncookies "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"1"),s("\nkernel.msgmnb "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"65536"),s("\nkernel.msgmax "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"65536"),s("\nkernel.shmmax "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"68719476736"),s("\nkernel.shmall "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"4294967296"),s("\n\n"),a("span",{class:"token comment"},"# timewait的数量，默认是180000"),s("\nnet.ipv4.tcp_max_tw_buckets "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"6000"),s("\nnet.ipv4.tcp_sack "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"1"),s("\nnet.ipv4.tcp_window_scaling "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"1"),s("\nnet.ipv4.tcp_rmem "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"4096"),s("        "),a("span",{class:"token number"},"87380"),s("   "),a("span",{class:"token number"},"4194304"),s("\nnet.ipv4.tcp_wmem "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"4096"),s("        "),a("span",{class:"token number"},"16384"),s("   "),a("span",{class:"token number"},"4194304"),s("\nnet.core.wmem_default "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"8388608"),s("\nnet.core.rmem_default "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"8388608"),s("\nnet.core.rmem_max "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"16777216"),s("\nnet.core.wmem_max "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"16777216"),s("\n\n"),a("span",{class:"token comment"},"# # 每个网络接口接收数据包的速率比内核处理这些包的速率快时，允许送到队列的数据包的最大数目。"),s("\nnet.core.netdev_max_backlog "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"262144"),s("\n\n"),a("span",{class:"token comment"},"# web应用中listen函数的backlog默认会给我们内核参数的net.core.somaxconn限制到128，而nginx定义 的NGX_LISTEN_BACKLOG默认为511，所以有必要调整这个值"),s("\nnet.core.somaxconn "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"262144"),s("\n\n"),a("span",{class:"token comment"},"# 系统中最多有多少个TCP套接字不被关联到任何一个用户文件句柄上。如果超过这个数字，孤儿连接将即刻被复位并打印出警告信息。这个限制仅仅 是为了防止简单的DoS攻击，不能过分依靠它或者人为地减小这个值，更应该增加这个值(如果增加了内存之后)。"),s("\nnet.ipv4.tcp_max_orphans "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"3276800"),s("\n\n"),a("span",{class:"token comment"},"# 记录的那些尚未收到客户端确认信息的连接请求的最大值。对于有128M内存的系统而言，缺省值是1024，小内存的系统则是128。"),s("\nnet.ipv4.tcp_max_syn_backlog "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"262144"),s("\n\n"),a("span",{class:"token comment"},"# 时间戳可以避免序列号的卷绕。一个1Gbps的链路肯定会遇到以前用过的序列号。时间戳能够让内核接受这种“异常”的数据包。这里需要将其关掉。"),s("\nnet.ipv4.tcp_timestamps "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"0"),s("\n\n"),a("span",{class:"token comment"},"# 为了打开对端的连接，内核需要发送一个SYN并附带一个回应前面一个SYN的ACK。也就是所谓三次握手中的第二次握手。这个设置决定了内核放弃连接之前发送SYN+ACK包的数量。"),s("\nnet.ipv4.tcp_synack_retries "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"1"),s("\n\n"),a("span",{class:"token comment"},"# 在内核放弃建立连接之前发送SYN包的数量。"),s("\nnet.ipv4.tcp_syn_retries "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"1"),s("\n\n"),a("span",{class:"token comment"},"# 启用timewait快速回收"),s("\nnet.ipv4.tcp_tw_recycle "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"1"),s("\n\n"),a("span",{class:"token comment"},"# 开启重用。允许将TIME-WAIT sockets重新用于新的TCP连接。"),s("\nnet.ipv4.tcp_tw_reuse "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"1"),s("\nnet.ipv4.tcp_mem "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"94500000"),s(),a("span",{class:"token number"},"915000000"),s(),a("span",{class:"token number"},"927000000"),s("\n\n"),a("span",{class:"token comment"},"# 如果套接字由本端要求关闭，这个参数决定了它保持在FIN-WAIT-2状态的时间。对端可以出错并永远不关闭连接，甚至意外当机。缺省值是60秒。 2.2 内核的通常值是180秒，你可以按这个设置，但要记住的是，即使你的机器是一个轻载的WEB服务器，也有因为大量的死套接字而内存溢出的风险，FIN- WAIT-2的危险性比FIN-WAIT-1要小，因为它最多只能吃掉1.5K内存，但是它们的生存期长些。"),s("\nnet.ipv4.tcp_fin_timeout "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"1"),s("\n\n"),a("span",{class:"token comment"},"# 当keepalive起用的时候，TCP发送keepalive消息的频度。缺省是2小时"),s("\nnet.ipv4.tcp_keepalive_time "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"30"),s("\n\n"),a("span",{class:"token comment"},"# 允许系统打开的端口范围"),s("\nnet.ipv4.ip_local_port_range "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"1024"),s("   "),a("span",{class:"token number"},"65000"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-37920"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"net.ipv4.ip_forward = 0\nnet.ipv4.conf.default.rp_filter = 1\nnet.ipv4.conf.default.accept_source_route = 0\nkernel.sysrq = 0\nkernel.core_uses_pid = 1\n\n# 开启SYN Cookies，当出现SYN等待队列溢出时，启用cookies来处理。\nnet.ipv4.tcp_syncookies = 1\nkernel.msgmnb = 65536\nkernel.msgmax = 65536\nkernel.shmmax = 68719476736\nkernel.shmall = 4294967296\n\n# timewait的数量，默认是180000\nnet.ipv4.tcp_max_tw_buckets = 6000\nnet.ipv4.tcp_sack = 1\nnet.ipv4.tcp_window_scaling = 1\nnet.ipv4.tcp_rmem = 4096        87380   4194304\nnet.ipv4.tcp_wmem = 4096        16384   4194304\nnet.core.wmem_default = 8388608\nnet.core.rmem_default = 8388608\nnet.core.rmem_max = 16777216\nnet.core.wmem_max = 16777216\n\n# # 每个网络接口接收数据包的速率比内核处理这些包的速率快时，允许送到队列的数据包的最大数目。\nnet.core.netdev_max_backlog = 262144\n\n# web应用中listen函数的backlog默认会给我们内核参数的net.core.somaxconn限制到128，而nginx定义 的NGX_LISTEN_BACKLOG默认为511，所以有必要调整这个值\nnet.core.somaxconn = 262144\n\n# 系统中最多有多少个TCP套接字不被关联到任何一个用户文件句柄上。如果超过这个数字，孤儿连接将即刻被复位并打印出警告信息。这个限制仅仅 是为了防止简单的DoS攻击，不能过分依靠它或者人为地减小这个值，更应该增加这个值(如果增加了内存之后)。\nnet.ipv4.tcp_max_orphans = 3276800\n\n# 记录的那些尚未收到客户端确认信息的连接请求的最大值。对于有128M内存的系统而言，缺省值是1024，小内存的系统则是128。\nnet.ipv4.tcp_max_syn_backlog = 262144\n\n# 时间戳可以避免序列号的卷绕。一个1Gbps的链路肯定会遇到以前用过的序列号。时间戳能够让内核接受这种“异常”的数据包。这里需要将其关掉。\nnet.ipv4.tcp_timestamps = 0\n\n# 为了打开对端的连接，内核需要发送一个SYN并附带一个回应前面一个SYN的ACK。也就是所谓三次握手中的第二次握手。这个设置决定了内核放弃连接之前发送SYN+ACK包的数量。\nnet.ipv4.tcp_synack_retries = 1\n\n# 在内核放弃建立连接之前发送SYN包的数量。\nnet.ipv4.tcp_syn_retries = 1\n\n# 启用timewait快速回收\nnet.ipv4.tcp_tw_recycle = 1\n\n# 开启重用。允许将TIME-WAIT sockets重新用于新的TCP连接。\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_mem = 94500000 915000000 927000000\n\n# 如果套接字由本端要求关闭，这个参数决定了它保持在FIN-WAIT-2状态的时间。对端可以出错并永远不关闭连接，甚至意外当机。缺省值是60秒。 2.2 内核的通常值是180秒，你可以按这个设置，但要记住的是，即使你的机器是一个轻载的WEB服务器，也有因为大量的死套接字而内存溢出的风险，FIN- WAIT-2的危险性比FIN-WAIT-1要小，因为它最多只能吃掉1.5K内存，但是它们的生存期长些。\nnet.ipv4.tcp_fin_timeout = 1\n\n# 当keepalive起用的时候，TCP发送keepalive消息的频度。缺省是2小时\nnet.ipv4.tcp_keepalive_time = 30\n\n# 允许系统打开的端口范围\nnet.ipv4.ip_local_port_range = 1024   65000\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-37920","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br"),a("span",{class:"line-number"},"27"),a("br"),a("span",{class:"line-number"},"28"),a("br"),a("span",{class:"line-number"},"29"),a("br"),a("span",{class:"line-number"},"30"),a("br"),a("span",{class:"line-number"},"31"),a("br"),a("span",{class:"line-number"},"32"),a("br"),a("span",{class:"line-number"},"33"),a("br"),a("span",{class:"line-number"},"34"),a("br"),a("span",{class:"line-number"},"35"),a("br"),a("span",{class:"line-number"},"36"),a("br"),a("span",{class:"line-number"},"37"),a("br"),a("span",{class:"line-number"},"38"),a("br"),a("span",{class:"line-number"},"39"),a("br"),a("span",{class:"line-number"},"40"),a("br"),a("span",{class:"line-number"},"41"),a("br"),a("span",{class:"line-number"},"42"),a("br"),a("span",{class:"line-number"},"43"),a("br"),a("span",{class:"line-number"},"44"),a("br"),a("span",{class:"line-number"},"45"),a("br"),a("span",{class:"line-number"},"46"),a("br"),a("span",{class:"line-number"},"47"),a("br"),a("span",{class:"line-number"},"48"),a("br"),a("span",{class:"line-number"},"49"),a("br"),a("span",{class:"line-number"},"50"),a("br"),a("span",{class:"line-number"},"51"),a("br"),a("span",{class:"line-number"},"52"),a("br"),a("span",{class:"line-number"},"53"),a("br"),a("span",{class:"line-number"},"54"),a("br"),a("span",{class:"line-number"},"55"),a("br"),a("span",{class:"line-number"},"56"),a("br"),a("span",{class:"line-number"},"57"),a("br"),a("span",{class:"line-number"},"58"),a("br"),a("span",{class:"line-number"},"59"),a("br"),a("span",{class:"line-number"},"60"),a("br")])])])],-1),A=t('<h3 id="https"><a class="header-anchor" href="#https" aria-hidden="true">#</a> HTTP(s)</h3><h4 id="httphttps协议"><a class="header-anchor" href="#httphttps协议" aria-hidden="true">#</a> HTTP/HTTPS协议</h4><p><strong>超文本传输协议</strong>（英语：<strong>H</strong>yper<strong>T</strong>ext <strong>T</strong>ransfer <strong>P</strong>rotocol，缩写：<strong>HTTP</strong>）是一种用于分布式、协作式和超媒体信息系统的应用层协议，HTTP是万维网的数据通信的基础。</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145714.png" alt="A basic HTTP request"></p><p>请求信息包括：请求行、请求头、空行还有其他消息体</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145715.png" alt="image-20190605153656594"></p><p>HTTP的特点：</p><ul><li><p>客户端&amp;服务端</p></li><li><p>简单(路径+方法+传递的类型)</p><p>客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快。</p></li><li><p>灵活</p><p>HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type（Content-Type是HTTP包中用来表示内容类型的标识）加以标记。</p></li><li><p>无连接</p><p>无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。</p></li><li><p>无状态有会话</p><p>HTTP协议是无状态协议，无状态是指协议对于事务处理没有记忆能力。</p><p>缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。</p><blockquote><p>注意，HTTP本质是无状态的，使用Cookies可以创建有状态的会话。</p></blockquote></li></ul><p>HTTP 的不足之处</p><ul><li>通信内容使用明文——内容可能被窃听</li><li>不验证通信方的身份——可能遭遇伪装</li><li>无法验证报文的完整性——报文有可能已遭篡改</li></ul><p>HTTPS协议：</p><p><strong>超文本传输安全协议</strong>（英语：<strong>H</strong>yper<strong>T</strong>ext <strong>T</strong>ransfer <strong>P</strong>rotocol <strong>S</strong>ecure，缩写：<strong>HTTPS</strong>；常称为HTTP over TLS、HTTP over SSL或HTTP Secure）是一种通过计算机网络进行安全通信的传输协议。HTTPS经由HTTP进行通信，但利用SSL/TLS来加密数据包。HTTPS开发的主要目的，是提供对网站服务器的身份认证，保护交换数据的隐私与完整性。这个协议由网景公司（Netscape）在1994年首次提出，随后扩展到互联网上。</p><p>主要作用：在不安全的网络上创建一个安全信道。</p><h4 id="https认证原理"><a class="header-anchor" href="#https认证原理" aria-hidden="true">#</a> HTTPS认证原理</h4><p>认证方式：数字证书</p><p>认证机构：数字证书认证机构（Certificate Authority CA），EV SSL（Extended Validation SSL Certificate）证书，OpenSSL自认证。</p><p>证书信任方式：</p><ul><li>操作系统和浏览器内置</li><li>证书颁发机构</li><li>手动指定证书</li></ul><p>SSL握手过程：</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145716.png" alt="SSL"></p><h4 id="如何配置https"><a class="header-anchor" href="#如何配置https" aria-hidden="true">#</a> 如何配置HTTPS</h4><ol><li><p><a href="https://letsencrypt.org/" target="_blank" rel="noopener noreferrer">Let&#39;s Encrypt</a>组织介绍</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145717.png" alt="image-20190605160738126"></p></li><li><p>acme来自动化申请</p><p><a href="https://github.com/Neilpang/acme.sh" target="_blank" rel="noopener noreferrer">https://github.com/Neilpang/acme.sh</a></p><p>前提：需要域名</p></li></ol><p>前置条件：</p><ol><li><p>域名, 配置DNS解析，支持列表见下方</p><p><a href="https://github.com/Neilpang/acme.sh/wiki/dnsapi" target="_blank" rel="noopener noreferrer">https://github.com/Neilpang/acme.sh/wiki/dnsapi</a></p></li><li><p>有<strong>公网IP</strong>的服务器(可选)</p></li><li><p>安装nginx, <a href="http://acme.sh" target="_blank" rel="noopener noreferrer">acme.sh</a></p></li></ol><p>配置过程：</p>',25),j=a("ol",null,[a("li",null,[a("p",null,[a("a",{href:"http://xn--nginxacme-zc6n999ikp7i.sh",target:"_blank",rel:"noopener noreferrer"},"安装nginx与acme.sh")]),a("p",null,"安装很简单, 一个命令:"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"curl"),s("  https://get.acme.sh "),a("span",{class:"token operator"},"|"),s(),a("span",{class:"token function"},"sh"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-61260"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"curl  https://get.acme.sh | sh\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-61260","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("blockquote",null,[a("p",null,"普通用户和 root 用户都可以安装使用. 安装过程进行了以下几步:"),a("p",null,[s("把 "),a("a",{href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},"acme.sh"),s(" 安装到你的 "),a("strong",null,"home"),s(" 目录下:")]),a("div",{class:"language-"},[a("pre",null,[a("code",null,"~/.acme.sh/\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-23080"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"~/.acme.sh/\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-23080","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("p",null,[s("并创建 一个 bash 的 alias, 方便你的使用: "),a("code",null,"alias acme.sh=~/.acme.sh/acme.sh")]),a("p",null,"自动为你创建 cronjob, 每天 0:00 点自动检测所有的证书, 如果快过期了, 需要更新, 则会自动更新证书")]),a("p",null,[s("使用"),a("code",null,"source"),s("命令，使上面的安装生效")]),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token builtin class-name"},"source"),s(" ~/.bashrc\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-8141"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"source ~/.bashrc\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-8141","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])])]),a("li",null,[a("p",null,"两种方式，激活SSL证书(推荐DNS)"),a("ul",null,[a("li",null,[a("p",null,[a("strong",null,"http 方式")]),a("p",null,"需要在你的网站根目录下放置一个文件, 来验证你的域名所有权,完成验证. 然后就可以生成证书了"),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,"acme.sh  --issue  -d mydomain.com -d www.mydomain.com  --webroot  /home/wwwroot/mydomain.com/\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-41968"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"acme.sh  --issue  -d mydomain.com -d www.mydomain.com  --webroot  /home/wwwroot/mydomain.com/\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-41968","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("p",null,[s("只需要指定域名, 并指定域名所在的网站根目录. "),a("strong",null,[a("a",{href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},"acme.sh")]),s(" 会全自动的生成验证文件, 并放到网站的根目录, 然后自动完成验证. 最后会聪明的删除验证文件. 整个过程没有任何副作用.")]),a("p",null,[s("如果你用的 "),a("strong",null,"apache"),s("服务器, "),a("strong",null,[a("a",{href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},"acme.sh")]),s(" 还可以智能的从 "),a("strong",null,"apache"),s("的配置中自动完成验证, 你不需要指定网站根目录:")]),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,"acme.sh --issue  -d mydomain.com   --apache\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-50681"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"acme.sh --issue  -d mydomain.com   --apache\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-50681","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("p",null,[s("如果你用的 "),a("strong",null,"nginx"),s("服务器, 或者反代, "),a("strong",null,[a("a",{href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},"acme.sh")]),s(" 还可以智能的从 "),a("strong",null,"nginx"),s("的配置中自动完成验证, 你不需要指定网站根目录:")]),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,"acme.sh --issue  -d mydomain.com   --nginx\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-91262"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"acme.sh --issue  -d mydomain.com   --nginx\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-91262","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])])]),a("li",null,[a("p",null,[a("strong",null,"dns 方式"),s("(推荐)")]),a("p",null,"在域名上添加一条 txt 解析记录, 验证域名所有权。"),a("p",null,[s("这种方式的好处是, 你不需要任何服务器, "),a("strong",null,"不需要任何公网 ip, 只需要 dns 的解析记录即可完成验证"),s(". 坏处是，如果不同时配置 Automatic DNS API，使用这种方式 "),a("a",{href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},"acme.sh"),s(" 将无法自动更新证书，每次都需要手动再次重新解析验证域名所有权。")]),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,"acme.sh  --issue  --dns   -d mydomain.com\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-73845"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"acme.sh  --issue  --dns   -d mydomain.com\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-73845","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("p",null,[s("然后, "),a("strong",null,[a("a",{href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},"acme.sh")]),s(" 会生成相应的解析记录显示出来, 你只需要在你的域名管理面板中添加这条 txt 记录即可.")]),a("p",null,"等待解析完成之后, 重新生成证书:"),a("div",{class:"language-"},[a("pre",null,[a("code",null,"acme.sh  --renew   -d mydomain.com\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-71622"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"acme.sh  --renew   -d mydomain.com\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-71622","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("p",null,[s("注意第二次这里用的是 "),a("code",null,"--renew")]),a("p",null,"dns 方式的真正强大之处在于可以使用域名解析商提供的 api 自动添加 txt 记录完成验证."),a("p",null,[a("strong",null,[a("a",{href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},"acme.sh")]),s(" 目前支持 cloudflare, dnspod, cloudxns, godaddy 以及 ovh 等数十种解析商的自动集成.")]),a("p",null,"以 dnspod 为例, 你需要先登录到 dnspod 账号, 生成你的 api id 和 api key, 都是免费的. 然后:"),a("div",{class:"language-"},[a("pre",null,[a("code",null,'export DP_Id="1234"\n\nexport DP_Key="sADDsdasdgdsf"\n\nacme.sh   --issue   --dns dns_dp   -d aa.com  -d www.aa.com\n'),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-15857"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'export DP_Id="1234"\n\nexport DP_Key="sADDsdasdgdsf"\n\nacme.sh   --issue   --dns dns_dp   -d aa.com  -d www.aa.com\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-15857","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])]),a("p",null,"证书就会自动生成了. 这里给出的 api id 和 api key 会被自动记录下来, 将来你在使用 dnspod api 的时候, 就不需要再次指定了. 直接生成就好了:"),a("div",{class:"language-"},[a("pre",null,[a("code",null,"acme.sh  --issue   -d  mydomain2.com   --dns  dns_dp\n"),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-36540"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"acme.sh  --issue   -d  mydomain2.com   --dns  dns_dp\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-36540","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])])])])]),a("li",null,[a("p",null,"配置nginx配置，设置定时任务"),a("p",null,"生成dhparam.pem"),a("div",{class:"language-shell line-numbers-mode"},[a("pre",null,[a("code",null,[s("$ openssl dhparam -out dhparam.pem "),a("span",{class:"token number"},"2048"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-90533"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"$ openssl dhparam -out dhparam.pem 2048\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-90533","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br")])]),a("p",null,[s("nginx中正确的使用方法是使用 "),a("code",null,"--installcert"),s(" 命令,并指定目标位置, 然后证书文件会被copy到相应的位置, 例如:")]),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[s("acme.sh  --installcert  -d  "),a("span",{class:"token operator"},"<"),s("domain"),a("span",{class:"token operator"},">"),s(".com   "),a("span",{class:"token punctuation"},"\\"),s("\n        --key-file   /etc/nginx/ssl/"),a("span",{class:"token operator"},"<"),s("domain"),a("span",{class:"token operator"},">"),s(".key "),a("span",{class:"token punctuation"},"\\"),s("\n        --fullchain-file /etc/nginx/ssl/fullchain.cer "),a("span",{class:"token punctuation"},"\\"),s("\n        --reloadcmd  "),a("span",{class:"token string"},'"service nginx force-reload"'),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741104-18949"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'acme.sh  --installcert  -d  <domain>.com   \\\n        --key-file   /etc/nginx/ssl/<domain>.key \\\n        --fullchain-file /etc/nginx/ssl/fullchain.cer \\\n        --reloadcmd  "service nginx force-reload"\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741104-18949","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br")])]),a("p",null,"配置文件："),a("div",{class:"language-bash line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"# server部分"),s("\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2"),a("span",{class:"token punctuation"},";"),s("\n    ssl_prefer_server_ciphers on"),a("span",{class:"token punctuation"},";"),s("\n    ssl on"),a("span",{class:"token punctuation"},";"),s("\n    ssl_certificate         /etc/nginx/ssl/fullchain.cer"),a("span",{class:"token punctuation"},";"),s("\n    ssl_certificate_key     /etc/nginx/ssl/"),a("span",{class:"token operator"},"<"),s("domain"),a("span",{class:"token operator"},">"),s(".key"),a("span",{class:"token punctuation"},";"),s("\n    "),a("span",{class:"token comment"},"# ssl_dhparam"),s("\n    ssl_dhparam             /etc/nginx/ssl/dhparam.pem"),a("span",{class:"token punctuation"},";"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558741105-32930"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# server部分\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    ssl_prefer_server_ciphers on;\n    ssl on;\n    ssl_certificate         /etc/nginx/ssl/fullchain.cer;\n    ssl_certificate_key     /etc/nginx/ssl/<domain>.key;\n    # ssl_dhparam\n    ssl_dhparam             /etc/nginx/ssl/dhparam.pem;\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558741105-32930","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br")])])]),a("li",null,[a("p",null,"对网站的SSL进行检验"),a("p",null,[s("推荐："),a("a",{href:"https://ssllabs.com/ssltest/analyze.html",target:"_blank",rel:"noopener noreferrer"},"https://ssllabs.com/ssltest/analyze.html")])]),a("li",null,[a("p",null,"其他需要注意的地方："),a("ul",null,[a("li",null,"域名备案"),a("li",null,"防火墙")])])],-1),D=t('<h2 id="云服务器"><a class="header-anchor" href="#云服务器" aria-hidden="true">#</a> 云服务器</h2><h3 id="阿里云ecs"><a class="header-anchor" href="#阿里云ecs" aria-hidden="true">#</a> 阿里云ECS</h3><h4 id="虚拟化技术原理"><a class="header-anchor" href="#虚拟化技术原理" aria-hidden="true">#</a> 虚拟化技术原理</h4><p><strong>虚拟化</strong>：在计算机技术中，虚拟化（技术）或虚拟技术（英语：Virtualization）是一种资源管理技术，是将计算机的各种实体资源（CPU、内存、磁盘空间、网络适配器等），予以抽象、转换后呈现出来并可供分区、组合为一个或多个电脑配置环境。</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145718.png" alt="img"></p><p>主要的目的：降低成本，提高应用兼容性，提高服务可用性，提升资源复用率。</p><p>虚拟化分类：</p><p>主要有全虚拟化和半虚拟化。</p><p>典型的全虚拟化软件有 —— VMWare、Hyper-V、KVM-x86(复杂指令集)。</p><p>典型的半虚拟化软件有——Xen、KVM-PowerPC(简易指令集）</p><p>参考资料：<a href="https://yq.aliyun.com/articles/48867" target="_blank" rel="noopener noreferrer">虚拟化的发展历程和实现原理——图文详解</a>，<a href="http://virtual.51cto.com/art/201803/569228.htm" target="_blank" rel="noopener noreferrer">虚拟化类型</a></p><h4 id="如何选择云服务器"><a class="header-anchor" href="#如何选择云服务器" aria-hidden="true">#</a> 如何选择云服务器</h4><ol><li><p>从硬件</p><p>使用阿里云的工具进行筛选，需要登录，链接：<a href="https://ecs-buy.aliyun.com/instanceTypes" target="_blank" rel="noopener noreferrer">ECS 实例规格可购买地域总览</a></p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145719.jpg" alt="image-20190604221840417"></p></li><li><p>从网络</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145720.png" alt="Explanation"></p><p>云服务器 ECS 的入网带宽和出网带宽皆以服务器角度出发。下表给出了入网带宽和出网带宽的具体内容：</p><table><thead><tr><th style="text-align:left;">带宽类别 （Mbit/s）</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">入网带宽</td><td style="text-align:left;">流入云服务器 ECS 的带宽 从云服务器 ECS 内部下载外部网络资源，或者从客户端 FTP 等方式上传资源到云服务器 ECS 都是入网带宽。</td></tr><tr><td style="text-align:left;">出网带宽</td><td style="text-align:left;">流出云服务器 ECS 的带宽 从云服务器 ECS 对外提供访问，或者从客户端 FTP 等方式下载云服务器 ECS 内部资源都是出网带宽，云服务器 ECS 出网带宽就是购买的带宽值。</td></tr></tbody></table><p>推荐公司使用固定带宽，对于测试用户或者流量比较小的用户使用按量计费带宽。</p><p>举例应用场景：公司网站展示类型(按量计费)，视频(固定带宽)</p><p>后期还可以购买CDN加速，分担静态资源的流量。</p></li><li><p>从地域</p><p>每个地域完全独立。每个可用区完全隔离，但同一个地域内的可用区之间使用低时延链路相连。地域和可用区之间的关系如下图所示。</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145721.png" alt="img"></p><ul><li><p>中国大陆</p><p>一般情况下建议选择和您目标用户所在地域最为接近的数据中心，可以进一步提升用户访问速度。不过，在基础设施、BGP 网络品质、服务质量、云服务器操作使用与配置等方面，阿里云中国大陆地域没有太大区别。BGP 网络可以保证中国大陆全部地域的快速访问。</p></li><li><p>其他国家及地区</p><p>其他国家及地区提供国际带宽，主要面向非中国大陆地区用户。如果您在中国大陆，使用这些地域会有较长的访问延迟，不建议您使用。</p><ul><li>对香港、东南亚有需求的用户，可以选择香港地域、亚太东南 1 地域、亚太东南 3 地域或亚太东南 5 地域。</li><li>对日、韩有需求的用户，可以选择亚太东北 1 地域。</li><li>对印度有需求的用户，可以选择亚太南部 1 地域。</li><li>对澳大利亚地区有需求的用户，可以选择亚太东南 2 地域。</li><li>对美洲有需求用户，可以选择美国地域。</li><li>对欧洲大陆有需求的用户，可以选择欧洲中部 1 地域。</li><li>对中东地区有需求的用户，可以选择中东东部 1 地域。</li></ul></li></ul></li><li><p>从费用</p></li></ol><h4 id="云服务器购买"><a class="header-anchor" href="#云服务器购买" aria-hidden="true">#</a> 云服务器购买</h4><h4 id="认识控制台"><a class="header-anchor" href="#认识控制台" aria-hidden="true">#</a> 认识控制台</h4><h3 id="云数据库rds"><a class="header-anchor" href="#云数据库rds" aria-hidden="true">#</a> 云数据库RDS</h3><h4 id="云数据库介绍"><a class="header-anchor" href="#云数据库介绍" aria-hidden="true">#</a> 云数据库介绍</h4><ol><li><p>基本概念</p><p>阿里云系产品：云数据库RDS（ApsaraDB for RDS，简称RDS）是一种稳定可靠、可弹性伸缩的在线数据库服务。基于飞天分布式系统和全SSD盘高性能存储，支持MySQL、SQL Server、PostgreSQL和PPAS（高度兼容Oracle)引擎，默认部署主备架构且提供了容灾、备份、恢复、监控、迁移等方面的全套解决方案，彻底解决数据库运维的烦恼！</p><p>亚马逊系产品：Amazon Relational Database Service (Amazon RDS) 让您能够在云中轻松设置、操作和扩展关系数据库。它在自动执行耗时的管理任务（如<strong>硬件预置、数据库设置、修补和备份</strong>）的同时，可提供经济实用的可调容量。这使您能够腾出时间专注于应用程序，为它们提供所需的快速性能、高可用性、安全性和兼容性。</p><p>Amazon RDS 在多种类型的数据库实例（针对内存、性能或 I/O 进行了优化的实例）上均可用，并提供六种常用的数据库引擎供您选择，包括 Amazon Aurora、PostgreSQL、MySQL、MariaDB、Oracle Database 和 SQL Server。您可以使用 AWS Database Migration Service <strong>轻松</strong>将您现有的<strong>数据库迁移或复制到 Amazon RDS</strong>。</p></li><li><p>特点：</p><table><thead><tr><th>类型</th><th>特点</th></tr></thead><tbody><tr><td>轻松管理</td><td>GUI页面，从部署到生产数据库</td></tr><tr><td>可扩展</td><td>修改CPU/内存/存储资源</td></tr><tr><td>高可用</td><td>自动备份、快照 、自动主机更换</td></tr><tr><td>速度快</td><td>可选SSD</td></tr><tr><td>安全</td><td>可建立专网，或者连接到使用VPN</td></tr><tr><td>经济</td><td>网络成本、运维成本都低</td></tr></tbody></table></li></ol><p><strong>使用亚马逊的RDS作为演示</strong></p><h4 id="常见rds-mysql购买与操作"><a class="header-anchor" href="#常见rds-mysql购买与操作" aria-hidden="true">#</a> 常见RDS-MySQL购买与操作</h4><ol><li><p>购买地址</p><p>阿里云：<a href="https://cn.aliyun.com/product/rds" target="_blank" rel="noopener noreferrer">https://cn.aliyun.com/product/rds</a></p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145722.jpg" alt="image-20190605084317131"></p><p>亚马逊：<a href="https://aws.amazon.com/cn/rds/" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/cn/rds/</a></p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145723.png" alt="image-20190605084341568"></p></li><li><p>操作面板介绍(以亚马逊为主)</p></li></ol><h4 id="备份与快照"><a class="header-anchor" href="#备份与快照" aria-hidden="true">#</a> 备份与快照</h4><h3 id="负载均衡slb"><a class="header-anchor" href="#负载均衡slb" aria-hidden="true">#</a> 负载均衡SLB</h3><h4 id="什么是负载均衡"><a class="header-anchor" href="#什么是负载均衡" aria-hidden="true">#</a> 什么是负载均衡</h4><p>负载均衡（Server Load Balancer）是对多台云服务器进行流量<strong>分发</strong>的负载均衡服务。负载均衡可以通过流量分发扩展应用系统对外的服务能力，通过消除单点故障提升应用系统的可用性。</p><h4 id="slb功能介绍"><a class="header-anchor" href="#slb功能介绍" aria-hidden="true">#</a> SLB功能介绍</h4><p>负载均衡通过设置虚拟服务地址，将添加的ECS实例虚拟成一个高性能、高可用的应用服务池，并根据转发规则，将来自客户端的请求分发给云服务器池中的ECS实例。</p><p>负载均衡默认检查云服务器池中的ECS实例的健康状态，自动隔离异常状态的ECS实例，消除了单台ECS实例的单点故障，提高了应用的整体服务能力。此外，负载均衡还具备抗DDoS攻击的能力，增强了应用服务的防护能力。</p><p>基本的功能：</p><ol><li><p><strong>调度</strong></p><p><strong>负载均衡支持轮询、加权轮询（WRR）、加权最小连接数（WLC）和一致性哈希（CH）调度算法。</strong></p></li><li><p>健康检查</p><p>负载均衡会检查后端服务器的运行状况。当探测到后端服务器运行状况不佳时，会停止向其发送流量，然后将流量转发给其他正常运行的后端服务器。</p></li><li><p>会话保持</p><p>负载均衡提供会话保持功能。在会话的生命周期内，可以将同一客户端的请求转发到同一台后端服务器上。</p></li><li><p>访问控制</p></li><li><p>高可用</p><p>负载均衡可以将流量转发给多个可用区的后端服务器。并且，负载均衡已经在大部分地域支持了多可用区部署，当主可用区出现故障时，负载均衡可自动切换到备可用区上提供服务。</p><p>业务场景二：</p><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145724.png" alt="img"></p></li><li><p>安全防护</p><p>结合云盾，可提供5Gbps的防DDoS攻击能力。</p></li><li><p>监控</p></li><li><p>证书管理</p></li><li><p>重定向</p></li><li><p>WS/WSS支持</p></li><li><p>HTTP/2支持</p><p>HTTP/2（Hypertext Transfer Protocol Version 2）是超文本传输协议的第二版，向下兼容HTTP1.X协议版本，同时带来性能的大幅提升。</p></li></ol><h4 id="slb技术架构"><a class="header-anchor" href="#slb技术架构" aria-hidden="true">#</a> SLB技术架构</h4><p><img src="http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/4091/1551152011936_zh-CN.png" alt="img"></p><h4 id="阿里云slb购买与操作"><a class="header-anchor" href="#阿里云slb购买与操作" aria-hidden="true">#</a> 阿里云SLB购买与操作</h4><h2 id="扩展知识"><a class="header-anchor" href="#扩展知识" aria-hidden="true">#</a> 扩展知识</h2><h3 id="域名解析"><a class="header-anchor" href="#域名解析" aria-hidden="true">#</a> 域名解析</h3><h3 id="shell脚本入门"><a class="header-anchor" href="#shell脚本入门" aria-hidden="true">#</a> shell脚本入门</h3><h3 id="vim编辑器入门"><a class="header-anchor" href="#vim编辑器入门" aria-hidden="true">#</a> vim编辑器入门</h3>',37);o.render=function(t,a,s,c,o,B){return n(),e("div",null,[l,i,r,d,p,m,u,b,y,h,k,g,f,v,x,C,w,_,T,E,$,I,N,P,S,A,j,D])};export default o;export{c as __pageData};
