import{o as n,c as t,a,x as s}from"./app.b304d650.js";const e='{"title":"Electron自定义软件顶部菜单,上下文菜单以及绑定快捷键","description":"","frontmatter":{"title":"Electron自定义软件顶部菜单,上下文菜单以及绑定快捷键","tag":["electron","nodejs"],"author":"Artiely","date":"2018-7-6","cover":"https://gitee.com/artiely/Figure-bed/raw/master/images/20200315181235.png","base64":"2d3135"},"headers":[{"level":2,"title":"Electron 自定义右键菜单","slug":"electron-自定义右键菜单"},{"level":2,"title":"Electron 中隐藏顶部菜单","slug":"electron-中隐藏顶部菜单"},{"level":2,"title":"Electron 中隐藏关闭 最大化 最小化按钮","slug":"electron-中隐藏关闭-最大化-最小化按钮"},{"level":2,"title":"自定义关闭 最大化 最小化按钮","slug":"自定义关闭-最大化-最小化按钮"},{"level":2,"title":"自定义导航可拖拽","slug":"自定义导航可拖拽"}],"relativePath":"post/2018/2018-7-6-electron-menu-shortcut.md","lastUpdated":1629110797824}',c={},o=a("h1",{id:"electron自定义软件顶部菜单以及绑定快捷键"},[a("a",{class:"header-anchor",href:"#electron自定义软件顶部菜单以及绑定快捷键","aria-hidden":"true"},"#"),s(" Electron自定义软件顶部菜单以及绑定快捷键")],-1),l=a("p",null,"Electron 中 Menu 模块可以用来创建原生菜单，它可用作应用菜单和 context 菜单。 这个模块是一个主进程的模块，并且可以通过 remote 模块给渲染进程调用。",-1),i=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),s(),a("span",{class:"token punctuation"},"{"),s(" Menu "),a("span",{class:"token punctuation"},"}"),s(),a("span",{class:"token operator"},"="),s(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},'"electron"'),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s("\n    "),a("span",{class:"token keyword"},"let"),s(" template "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token punctuation"},"["),s("\n      "),a("span",{class:"token punctuation"},"{"),s("\n        label"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token string"},'"文件"'),a("span",{class:"token punctuation"},","),s("\n        submenu"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token punctuation"},"["),s("\n          "),a("span",{class:"token punctuation"},"{"),s("\n            label"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token string"},'"新建窗口"'),a("span",{class:"token punctuation"},","),s("\n            "),a("span",{class:"token function-variable function"},"click"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token operator"},"=>"),s(),a("span",{class:"token punctuation"},"{"),s("\n              console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},'"aaa"'),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s("\n            "),a("span",{class:"token punctuation"},"}"),s("\n          "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),s("\n          "),a("span",{class:"token punctuation"},"{"),s(" type"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token string"},'"separator"'),s(),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),s("\n          "),a("span",{class:"token punctuation"},"{"),s("\n            label"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token string"},'"打开文件"'),a("span",{class:"token punctuation"},","),s("\n            accelerator"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token string"},'"ctrl+x"'),a("span",{class:"token punctuation"},","),s("\n            "),a("span",{class:"token function-variable function"},"click"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token operator"},"=>"),s(),a("span",{class:"token punctuation"},"{"),s("\n              console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},'"bbb"'),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s("\n            "),a("span",{class:"token punctuation"},"}"),s("\n          "),a("span",{class:"token punctuation"},"}"),s("\n        "),a("span",{class:"token punctuation"},"]"),s("\n      "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),s("\n      "),a("span",{class:"token punctuation"},"{"),s("\n        label"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token string"},'"编辑"'),a("span",{class:"token punctuation"},","),s("\n        submenu"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token punctuation"},"["),s("\n          "),a("span",{class:"token punctuation"},"{"),s(" role"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token string"},'"cut"'),a("span",{class:"token punctuation"},","),s(" label"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token string"},'"剪切"'),s(),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),s("\n          "),a("span",{class:"token punctuation"},"{"),s(" role"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token string"},'"copy"'),a("span",{class:"token punctuation"},","),s(" label"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token string"},'"复制"'),s(),a("span",{class:"token punctuation"},"}"),s("\n        "),a("span",{class:"token punctuation"},"]"),s("\n      "),a("span",{class:"token punctuation"},"}"),s("\n    "),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},";"),s("\n    "),a("span",{class:"token keyword"},"var"),s(" m "),a("span",{class:"token operator"},"="),s(" Menu"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"buildFromTemplate"),a("span",{class:"token punctuation"},"("),s("template"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s("\n    Menu"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"setApplicationMenu"),a("span",{class:"token punctuation"},"("),s("m"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558760288-43401"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'const { Menu } = require("electron");\n    let template = [\n      {\n        label: "文件",\n        submenu: [\n          {\n            label: "新建窗口",\n            click: () => {\n              console.log("aaa");\n            }\n          },\n          { type: "separator" },\n          {\n            label: "打开文件",\n            accelerator: "ctrl+x",\n            click: () => {\n              console.log("bbb");\n            }\n          }\n        ]\n      },\n      {\n        label: "编辑",\n        submenu: [\n          { role: "cut", label: "剪切" },\n          { role: "copy", label: "复制" }\n        ]\n      }\n    ];\n    var m = Menu.buildFromTemplate(template);\n    Menu.setApplicationMenu(m);\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558760288-43401","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br"),a("span",{class:"line-number"},"27"),a("br"),a("span",{class:"line-number"},"28"),a("br"),a("span",{class:"line-number"},"29"),a("br"),a("span",{class:"line-number"},"30"),a("br"),a("span",{class:"line-number"},"31"),a("br")])],-1),p=a("h2",{id:"electron-自定义右键菜单"},[a("a",{class:"header-anchor",href:"#electron-自定义右键菜单","aria-hidden":"true"},"#"),s(" Electron 自定义右键菜单")],-1),u=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[s("window"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"addEventListener"),a("span",{class:"token punctuation"},"("),s("\n  "),a("span",{class:"token string"},'"contextmenu"'),a("span",{class:"token punctuation"},","),s("\n  "),a("span",{class:"token parameter"},"e"),s(),a("span",{class:"token operator"},"=>"),s(),a("span",{class:"token punctuation"},"{"),s("\n    e"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"preventDefault"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s("\n    m"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"popup"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),s(" window"),a("span",{class:"token operator"},":"),s(" remote"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"getCurrentWindow"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),s("\n  "),a("span",{class:"token boolean"},"false"),s("\n"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558760289-2722"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'window.addEventListener(\n  "contextmenu",\n  e => {\n    e.preventDefault();\n    m.popup({ window: remote.getCurrentWindow() });\n  },\n  false\n);\n',"data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558760289-2722","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br")])],-1),r=a("h2",{id:"electron-中隐藏顶部菜单"},[a("a",{class:"header-anchor",href:"#electron-中隐藏顶部菜单","aria-hidden":"true"},"#"),s(" Electron 中隐藏顶部菜单")],-1),d=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),s(" electron "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'electron'"),a("span",{class:"token punctuation"},")"),s("\n"),a("span",{class:"token comment"},"/*获取electron窗体的菜单栏*/"),s("\n"),a("span",{class:"token keyword"},"const"),s(" Menu "),a("span",{class:"token operator"},"="),s(" electron"),a("span",{class:"token punctuation"},"."),s("Menu\n"),a("span",{class:"token comment"},"/*隐藏electron创听的菜单栏*/"),s("\nMenu"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"setApplicationMenu"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"null"),a("span",{class:"token punctuation"},")"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558760289-37703"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"const electron = require('electron')\n/*获取electron窗体的菜单栏*/\nconst Menu = electron.Menu\n/*隐藏electron创听的菜单栏*/\nMenu.setApplicationMenu(null)\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558760289-37703","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])],-1),m=a("h2",{id:"electron-中隐藏关闭-最大化-最小化按钮"},[a("a",{class:"header-anchor",href:"#electron-中隐藏关闭-最大化-最小化按钮","aria-hidden":"true"},"#"),s(" Electron 中隐藏关闭 最大化 最小化按钮")],-1),k=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[s("mainWindow "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token keyword"},"new"),s(),a("span",{class:"token class-name"},"BrowserWindow"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),s(" \n    height"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token number"},"620"),a("span",{class:"token punctuation"},","),s(" \n    useContentSize"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),s(" \n    width"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token number"},"1280"),a("span",{class:"token punctuation"},","),s("\n    frame"),a("span",{class:"token operator"},":"),s(),a("span",{class:"token boolean"},"false"),s(),a("span",{class:"token comment"},"/*去掉顶部导航 去掉关闭按钮 最大化最小化按钮*/"),s(" \n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558760289-42240"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"mainWindow = new BrowserWindow({ \n    height: 620, \n    useContentSize: true, \n    width: 1280,\n    frame: false /*去掉顶部导航 去掉关闭按钮 最大化最小化按钮*/ \n})\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558760289-42240","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br")])],-1),b=a("h2",{id:"自定义关闭-最大化-最小化按钮"},[a("a",{class:"header-anchor",href:"#自定义关闭-最大化-最小化按钮","aria-hidden":"true"},"#"),s(" 自定义关闭 最大化 最小化按钮")],-1),y=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"// 渲染进程"),s("\n"),a("span",{class:"token keyword"},"const"),s(),a("span",{class:"token punctuation"},"{"),s("ipcRenderer"),a("span",{class:"token operator"},":"),s(" ipc"),a("span",{class:"token punctuation"},"}"),s(),a("span",{class:"token operator"},"="),s(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'electron'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s("\n\nipc"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"send"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'min'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s("\n"),a("span",{class:"token comment"},"// more"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558760289-11305"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 渲染进程\nconst {ipcRenderer: ipc} = require('electron');\n\nipc.send('min');\n// more\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558760289-11305","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])],-1),f=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"// 主进程"),s("\n"),a("span",{class:"token keyword"},"import"),s(),a("span",{class:"token punctuation"},"{"),s(" app"),a("span",{class:"token punctuation"},","),s(" BrowserWindow"),a("span",{class:"token punctuation"},","),s(" ipcMain "),a("span",{class:"token punctuation"},"}"),s(),a("span",{class:"token keyword"},"from"),s(),a("span",{class:"token string"},"'electron'"),s("\n\nipcMain"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"on"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'min'"),a("span",{class:"token punctuation"},","),s(),a("span",{class:"token parameter"},"e"),a("span",{class:"token operator"},"=>"),s(" mainWindow"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"minimize"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s("\nipcMain"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"on"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'max'"),a("span",{class:"token punctuation"},","),s(),a("span",{class:"token parameter"},"e"),a("span",{class:"token operator"},"=>"),s(),a("span",{class:"token punctuation"},"{"),s("\n    "),a("span",{class:"token keyword"},"if"),s(),a("span",{class:"token punctuation"},"("),s("mainWindow"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"isMaximized"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s("\n        mainWindow"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"unmaximize"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s("\n    "),a("span",{class:"token punctuation"},"}"),s(),a("span",{class:"token keyword"},"else"),s(),a("span",{class:"token punctuation"},"{"),s("\n        mainWindow"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"maximize"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s("\n    "),a("span",{class:"token punctuation"},"}"),s("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s("\nipcMain"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"on"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'close'"),a("span",{class:"token punctuation"},","),s(),a("span",{class:"token parameter"},"e"),a("span",{class:"token operator"},"=>"),s(" mainWindow"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"close"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558760289-97444"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 主进程\nimport { app, BrowserWindow, ipcMain } from 'electron'\n\nipcMain.on('min', e=> mainWindow.minimize());\nipcMain.on('max', e=> {\n    if (mainWindow.isMaximized()) {\n        mainWindow.unmaximize()\n    } else {\n        mainWindow.maximize()\n    }\n});\nipcMain.on('close', e=> mainWindow.close());\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558760289-97444","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br")])],-1),h=a("h2",{id:"自定义导航可拖拽"},[a("a",{class:"header-anchor",href:"#自定义导航可拖拽","aria-hidden":"true"},"#"),s(" 自定义导航可拖拽")],-1),g=a("div",{class:"language-css line-numbers-mode"},[a("pre",null,[a("code",null,[s("// 可拖拽的 \n"),a("span",{class:"token property"},"css"),a("span",{class:"token punctuation"},":"),s(),a("span",{class:"token property"},"-webkit-app-region"),a("span",{class:"token punctuation"},":"),s(" drag"),a("span",{class:"token punctuation"},";"),s(" \n// 不可拖拽的 \n"),a("span",{class:"token property"},"css"),a("span",{class:"token punctuation"},":"),s(),a("span",{class:"token property"},"-webkit-app-region"),a("span",{class:"token punctuation"},":"),s(" no-drag"),a("span",{class:"token punctuation"},";"),s("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629558760289-96615"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 可拖拽的 \ncss: -webkit-app-region: drag; \n// 不可拖拽的 \ncss: -webkit-app-region: no-drag;\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629558760289-96615","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br")])],-1);c.render=function(a,s,e,c,w,C){return n(),t("div",null,[o,l,i,p,u,r,d,m,k,b,y,f,h,g])};export default c;export{e as __pageData};
