import{o as n,c as s,a,x as e}from"./app.5f3fb606.js";const t='{"title":"vue管理系统从0到1-插件配置","description":"","frontmatter":{"title":"vue管理系统从0到1-插件配置","tag":["vue"],"cover":"https://gitee.com/artiely/Figure-bed/raw/master/image/20200612093113.png","base64":5.06e+30,"date":"2020-6-9"},"relativePath":"post/2020/2020-6-9-01-plugin.md","lastUpdated":1629110851921}',o={},c=a("h1",{id:"vue管理系统从0到1-插件配置"},[a("a",{class:"header-anchor",href:"#vue管理系统从0到1-插件配置","aria-hidden":"true"},"#"),e(" vue管理系统从0到1-插件配置")],-1),p=a("p",null,[e("在根目录创建"),a("code",null,"webpack.plugin.js")],-1),l=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),e(" path "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'path'"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token comment"},"// https://github.com/lavas-project/vue-skeleton-webpack-plugin"),e("\n"),a("span",{class:"token keyword"},"const"),e(" SkeletonWebpackPlugin "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'vue-skeleton-webpack-plugin'"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token comment"},"// https://github.com/webpack-contrib/terser-webpack-plugin"),e("\n"),a("span",{class:"token keyword"},"const"),e(" TerserPlugin "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'terser-webpack-plugin'"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token comment"},"// https://github.com/webpack-contrib/compression-webpack-plugin"),e("\n"),a("span",{class:"token keyword"},"const"),e(" CompressionWebpackPlugin "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'compression-webpack-plugin'"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token comment"},"// https://github.com/erikdesjardins/zip-webpack-plugin"),e("\n"),a("span",{class:"token keyword"},"const"),e(" ZipPlugin "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'zip-webpack-plugin'"),a("span",{class:"token punctuation"},")"),e("\n\n"),a("span",{class:"token comment"},"// 骨架插件 为单页/多页应用生成骨架屏 skeleton，减少白屏时间，在页面完全渲染之前提升用户感知体验"),e("\n\nexports"),a("span",{class:"token punctuation"},"."),e("skeleton "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"SkeletonWebpackPlugin"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e("\n  webpackConfig"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"{"),e("\n    entry"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"{"),e("\n      app"),a("span",{class:"token operator"},":"),e(" path"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"join"),a("span",{class:"token punctuation"},"("),e("__dirname"),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token string"},"'./src/plugins/skeleton.js'"),a("span",{class:"token punctuation"},")"),e("\n    "),a("span",{class:"token punctuation"},"}"),e("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),e("\n  minimize"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),e("\n  quiet"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token boolean"},"true"),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),e("\n\n"),a("span",{class:"token comment"},"// 自定义压缩配置"),e("\nexports"),a("span",{class:"token punctuation"},"."),e("TerserPlugin "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"TerserPlugin"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e("\n  terserOptions"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"{"),e("\n    warnings"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token boolean"},"false"),a("span",{class:"token punctuation"},","),e("\n    compress"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"{"),e("\n      drop_debugger"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),e("\n      drop_console"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),e("\n    "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),e("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),e("\n  sourceMap"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token boolean"},"false"),a("span",{class:"token punctuation"},","),e("\n  parallel"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token comment"},"// 打包生产.gz包"),e("\n"),a("span",{class:"token keyword"},"const"),e(" productionGzipExtensions "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token punctuation"},"["),a("span",{class:"token string"},"'js'"),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token string"},"'css'"),a("span",{class:"token punctuation"},"]"),e("\nexports"),a("span",{class:"token punctuation"},"."),e("compressionWebpackPlugin "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"CompressionWebpackPlugin"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e("\n  algorithm"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token string"},"'gzip'"),a("span",{class:"token punctuation"},","),e("\n  test"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"RegExp"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'\\\\.('"),e(),a("span",{class:"token operator"},"+"),e(" productionGzipExtensions"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"join"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'|'"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"+"),e(),a("span",{class:"token string"},"')$'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),e("\n  threshold"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token number"},"10240"),a("span",{class:"token punctuation"},","),e("\n  minRatio"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token number"},"0.8"),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token comment"},"// 对打包文件进行压缩 助于后期持续集成发布"),e("\nexports"),a("span",{class:"token punctuation"},"."),e("zipPlugin "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token keyword"},"new"),e(),a("span",{class:"token class-name"},"ZipPlugin"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e("\n  path"),a("span",{class:"token operator"},":"),e(" path"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"join"),a("span",{class:"token punctuation"},"("),e("__dirname"),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token string"},"'dist'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),e("\n  filename"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token string"},"'dist.zip'"),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),e("\n\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557010182-19097"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"const path = require('path')\n// https://github.com/lavas-project/vue-skeleton-webpack-plugin\nconst SkeletonWebpackPlugin = require('vue-skeleton-webpack-plugin')\n// https://github.com/webpack-contrib/terser-webpack-plugin\nconst TerserPlugin = require('terser-webpack-plugin')\n// https://github.com/webpack-contrib/compression-webpack-plugin\nconst CompressionWebpackPlugin = require('compression-webpack-plugin')\n// https://github.com/erikdesjardins/zip-webpack-plugin\nconst ZipPlugin = require('zip-webpack-plugin')\n\n// 骨架插件 为单页/多页应用生成骨架屏 skeleton，减少白屏时间，在页面完全渲染之前提升用户感知体验\n\nexports.skeleton = new SkeletonWebpackPlugin({\n  webpackConfig: {\n    entry: {\n      app: path.join(__dirname, './src/plugins/skeleton.js')\n    }\n  },\n  minimize: true,\n  quiet: true\n})\n\n// 自定义压缩配置\nexports.TerserPlugin = new TerserPlugin({\n  terserOptions: {\n    warnings: false,\n    compress: {\n      drop_debugger: true,\n      drop_console: true,\n    },\n  },\n  sourceMap: false,\n  parallel: true,\n})\n// 打包生产.gz包\nconst productionGzipExtensions = ['js', 'css']\nexports.compressionWebpackPlugin = new CompressionWebpackPlugin({\n  algorithm: 'gzip',\n  test: new RegExp('\\\\.(' + productionGzipExtensions.join('|') + ')\n</div>),\n  threshold: 10240,\n  minRatio: 0.8\n})\n// 对打包文件进行压缩 助于后期持续集成发布\nexports.zipPlugin = new ZipPlugin({\n  path: path.join(__dirname, 'dist'),\n  filename: 'dist.zip'\n})\n\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557010182-19097","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br"),a("span",{class:"line-number"},"27"),a("br"),a("span",{class:"line-number"},"28"),a("br"),a("span",{class:"line-number"},"29"),a("br"),a("span",{class:"line-number"},"30"),a("br"),a("span",{class:"line-number"},"31"),a("br"),a("span",{class:"line-number"},"32"),a("br"),a("span",{class:"line-number"},"33"),a("br"),a("span",{class:"line-number"},"34"),a("br"),a("span",{class:"line-number"},"35"),a("br"),a("span",{class:"line-number"},"36"),a("br"),a("span",{class:"line-number"},"37"),a("br"),a("span",{class:"line-number"},"38"),a("br"),a("span",{class:"line-number"},"39"),a("br"),a("span",{class:"line-number"},"40"),a("br"),a("span",{class:"line-number"},"41"),a("br"),a("span",{class:"line-number"},"42"),a("br"),a("span",{class:"line-number"},"43"),a("br"),a("span",{class:"line-number"},"44"),a("br"),a("span",{class:"line-number"},"45"),a("br"),a("span",{class:"line-number"},"46"),a("br"),a("span",{class:"line-number"},"47"),a("br"),a("span",{class:"line-number"},"48"),a("br")])],-1),i=a("p",null,[e("在"),a("code",null,"vue.config.js")],-1),u=a("div",{class:"language-js line-numbers-mode"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"// 引入插件"),e("\n"),a("span",{class:"token keyword"},"const"),e(),a("span",{class:"token punctuation"},"{"),e("\n  skeleton"),a("span",{class:"token punctuation"},","),e("\n  TerserPlugin"),a("span",{class:"token punctuation"},","),e("\n  compressionWebpackPlugin"),a("span",{class:"token punctuation"},","),e("\n  zipPlugin"),a("span",{class:"token punctuation"},","),e("\n"),a("span",{class:"token punctuation"},"}"),e(),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'./webpack.plugin'"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token comment"},"// 按需加载插件"),e("\n"),a("span",{class:"token keyword"},"const"),e(),a("span",{class:"token function-variable function"},"pluginsFnc"),e(),a("span",{class:"token operator"},"="),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token keyword"},"if"),e(),a("span",{class:"token punctuation"},"("),e("process"),a("span",{class:"token punctuation"},"."),e("env"),a("span",{class:"token punctuation"},"."),a("span",{class:"token constant"},"NODE_ENV"),e(),a("span",{class:"token operator"},"==="),e(),a("span",{class:"token string"},"'production'"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"return"),e(),a("span",{class:"token punctuation"},"["),e("TerserPlugin"),a("span",{class:"token punctuation"},","),e(" zipPlugin"),a("span",{class:"token punctuation"},","),e(" skeleton"),a("span",{class:"token punctuation"},","),e(" compressionWebpackPlugin"),a("span",{class:"token punctuation"},"]"),e("\n  "),a("span",{class:"token punctuation"},"}"),e(),a("span",{class:"token keyword"},"else"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"return"),e(),a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),e("\n  "),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n")]),a("div",{class:"m-mdic-copy-wrapper"},[a("div",{class:"u-mdic-copy-notify",id:"j-notify-1629557010183-64709"},"复制成功"),a("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// 引入插件\nconst {\n  skeleton,\n  TerserPlugin,\n  compressionWebpackPlugin,\n  zipPlugin,\n} = require('./webpack.plugin')\n// 按需加载插件\nconst pluginsFnc = () => {\n  if (process.<wbr/>env.NODE_ENV === 'production') {\n    return [TerserPlugin, zipPlugin, skeleton, compressionWebpackPlugin]\n  } else {\n    return []\n  }\n}\n","data-mdic-attach-content":"copyright | [artiely]","data-mdic-notify-id":"j-notify-1629557010183-64709","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"复制")])]),a("div",{class:"line-numbers-wrapper"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br")])],-1),r=a("p",null,"首先需要安装对应的依赖",-1),k=a("p",null,"具体使用参照本项目源码或对应的官网",-1),b=a("p",null,"后续会添加更多的插件",-1);o.render=function(a,e,t,o,m,d){return n(),s("div",null,[c,p,l,i,u,r,k,b])};export default o;export{t as __pageData};
